<!DOCTYPE html>
<html lang="en">
<head>
<!-- 2021-01-13 Wed 21:12 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Notes</title>
<meta name="generator" content="Org mode">
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<style>pre.src{background:slategray ;color:white;} body{width:90%; margin:2% auto} @media screen and (min-width:910px) {body{width:900px}}</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2020 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="content">
<h1 class="title">Notes</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgfafacf6">C++&#xa0;&#xa0;&#xa0;<span class="tag"><span class="cpp">cpp</span></span></a>
<ul>
<li><a href="#org7202c42">Back to Basics: Move Semantics (part 1)</a></li>
<li><a href="#orgec76228">Back to Basics: Move Semantics (part 2)</a></li>
<li><a href="#org4f986da">API Design for C++</a></li>
<li><a href="#orgbe484a9">Object-Oriented Program: Best Practices</a></li>
<li><a href="#orgabc450a">105 STL Algorithms in Less Than An Hour</a></li>
<li><a href="#org2288ba4">Back to Basics: Understanding Value Categories</a></li>
<li><a href="#orgc68fa11">Beginners Guide to Linkers</a></li>
<li><a href="#org8d1b043">When the Hot Loop's Done: Four Quick Tips for High Throughput</a></li>
<li><a href="#org8a9ece6">Effective CMake</a></li>
<li><a href="#orge09d9a1">Naming is Hard: Let's Do Better</a></li>
<li><a href="#org49d870c">Postmodern C++</a></li>
<li><a href="#orgf57a6b1">Quickly Testing Legacy C++ Code with Approval Tests</a></li>
<li><a href="#org23b7f13">C++ Sanitizers and Fuzzing for the Windows Platform Using New Compilers</a></li>
<li><a href="#orgf9e130e">Small is Beautiful: Techniques to Minimize Memory Footprints</a></li>
<li><a href="#org5e1d558">C++ Code Smells</a></li>
<li><a href="#org07e86c7">Great C++ <code>is_trivial</code></a></li>
<li><a href="#org7e25c12">Rethinking Exceptions</a></li>
<li><a href="#org5a91607">Using Freestanding C++ to add C++17 to your Shellcode, UEFI, Embedded Systems</a></li>
<li><a href="#org8a9fcfa">Lock Free Programming</a></li>
<li><a href="#org3ea099d">Compute More in Less Time Using C++ SIMD Wrapper Libraries</a></li>
<li><a href="#org23ad05b">A Unifying Abstraction for Async in C++</a></li>
<li><a href="#org10b1605">Behind the Scenes of a C++ Build System</a></li>
<li><a href="#org70f3829">CppCon 2019: Latest and Greatest in Visual Studio for C++ developers</a></li>
<li><a href="#orga16dd1c">How to Write a Heap Profiler</a></li>
<li><a href="#org1e7cc5d">Algorithm Intuition (part 1 of 2)</a></li>
<li><a href="#org8f10d48">Algorithm Intuition (part 2 of 2)</a></li>
<li><a href="#orgcf1a2d0">Hello World From Scratch</a></li>
<li><a href="#org8171a38">De-fragmenting C++: Making Exceptions and RTTI More Affordable and Usable</a></li>
<li><a href="#org660b08e">A Semi Compile/Run-time Map with (Nearly) Zero Overhead Lookup</a></li>
<li><a href="#orgc521a5f">Applied WebAssembly: Compiling and Running C++ in Your Web Browser</a></li>
<li><a href="#org194138d">C++20: C++ at 40</a></li>
<li><a href="#orgad65336">C++ 20: The Small Things</a></li>
<li><a href="#org976cabe">Applied Best Practices</a></li>
<li><a href="#org78aa75b">How to Write Shared Libraries</a></li>
<li><a href="#org746e497">Undo-Debugging Linux C++</a></li>
<li><a href="#orgbdc85cd">Better Tools in Your Clang Toolbox</a></li>
<li><a href="#org778288e">Overloading - the Bane of All Higher-Order Functions</a></li>
<li><a href="#orgf8664f1">C++ Function Templates: How Do They Really Work</a></li>
<li><a href="#org8d62442">Modern C++ in Embedded Systems</a></li>
<li><a href="#org2959947">Modern C++ in Embedded Systems - The Saga Continues</a></li>
<li><a href="#org4882d82">Surprises in Object Lifetime</a></li>
<li><a href="#orgf0cb210">Modern C++ Testing with Catch2</a></li>
<li><a href="#orga66e5ad">Understanding Optimizers</a></li>
<li><a href="#orgb113e61">How C++ Debuggers Work</a></li>
<li><a href="#orge0d7de1">Latest and Greatest in the Visual Studio Family</a></li>
<li><a href="#org3fa04bc">Avoiding Disaster with Strongly Typed C++</a></li>
<li><a href="#org920ad1a">UEFI with Modern C++</a></li>
<li><a href="#orgbbf1a4d">A Little Order: Delving into the STL Sorting Algorithms</a></li>
<li><a href="#orge4b1de2">C++ at High Subsonic Speed</a></li>
<li><a href="#orgcd348e5">Compiling Multi-Million Line C++ Codebase Effortlessly with the Meson Build System</a></li>
<li><a href="#orga52b8d0">Concepts: The Future of Generic Programming</a></li>
<li><a href="#orgb6834ca">Cross Language Interfaces Between C and C++</a></li>
<li><a href="#org286dbc2">The New C++17 and Why It's Good For You</a></li>
<li><a href="#orgb69c637">C++ Weekly</a></li>
</ul>
</li>
<li><a href="#org9a4811a">Audio Programming&#xa0;&#xa0;&#xa0;<span class="tag"><span class="audio">audio</span></span></a>
<ul>
<li><a href="#org3690c97">Using Locks in Real-Time Audio Processing&#xa0;&#xa0;&#xa0;<span class="tag"><span class="cpp">cpp</span></span></a></li>
<li><a href="#orgdd055d3">Real-time Audio Programming 101: Time Waits For Nothing</a></li>
<li><a href="#orgf954543">Real-time 101 Part 1: Investigating the Real-time Problem Space</a></li>
<li><a href="#org29cf9d5">Real-time 101 Part 2: The Real-time Audio Developer's Toolbox</a></li>
<li><a href="#orgb4049bc">Building a Spatial Audio Plug-In</a></li>
<li><a href="#org44faf6e">Interactive Audio Plug-in Development with the Wwise SDK</a></li>
<li><a href="#orge5839ca">Under the Hood of VST2, VST3, AU, AUv3 and AAX</a></li>
<li><a href="#orgc9a276e">Towards std::audio&#xa0;&#xa0;&#xa0;<span class="tag"><span class="cpp">cpp</span></span></a></li>
<li><a href="#orgb9279fa">How Perceptual Audio Coding Has Shaped Our Lives</a></li>
<li><a href="#org0eb1834">An Introduction to Rust for Audio Developers&#xa0;&#xa0;&#xa0;<span class="tag"><span class="rust">rust</span></span></a></li>
<li><a href="#org3860371">SOUL Announcement - Keynote ADC 2018</a></li>
<li><a href="#orgc269faf">Fifty Shades of Distortion</a></li>
<li><a href="#org8d127c2">Wavetable Synthesis 101</a></li>
<li><a href="#org718bcb0">Opening the Box: Whitebox Testing of Audio Software</a></li>
</ul>
</li>
<li><a href="#org5591067">Maths</a>
<ul>
<li><a href="#org834ff27">Math Symbols Explained with Python</a></li>
</ul>
</li>
<li><a href="#org32d8993">SE</a>
<ul>
<li><a href="#orge1abc82">Introduction to Algorithms</a></li>
<li><a href="#org1dc223d">Ring Buffers and Queues</a></li>
<li><a href="#org969258e">Design Patterns for Low Level Real-Time Rendering</a></li>
<li><a href="#orga454c05">Render Design</a></li>
<li><a href="#org0d5a956">Clean Code - Optimization</a></li>
<li><a href="#orge61f17b">Introduction to A*</a></li>
<li><a href="#org53fcf8b">Design Patterns</a></li>
</ul>
</li>
<li><a href="#org4392e21">Lisp</a>
<ul>
<li><a href="#org7e08af4">Debugging Lisp</a></li>
<li><a href="#orgc7f7063">The Complete Idiot's Guide to Common Lisp Packages</a></li>
<li><a href="#orgfe3f804">ASDF 3 or Why Lisp is Now an Acceptable Scripting Language</a></li>
<li><a href="#org4e446e1">Land of Lisp</a></li>
<li><a href="#org016f358">Fun With Lisp: Programming the NES</a></li>
<li><a href="#orgb7c139b">Large-Scale Systems Architecture</a></li>
<li><a href="#orgabbdc76">This Old Lisp</a></li>
<li><a href="#orgfe2943c">Lessons Learned Implementing Common Lisp with LLVM over Six Years</a></li>
<li><a href="#org0840d29">Lots of Bits of Lisp: Macros</a></li>
<li><a href="#org97dc431">Lots of Bits of Lisp - CFFI</a></li>
</ul>
</li>
<li><a href="#org6e3fb2e">Other Languages</a>
<ul>
<li><a href="#org955dcea">Rust 101&#xa0;&#xa0;&#xa0;<span class="tag"><span class="rust">rust</span></span></a></li>
<li><a href="#orgac6e344">Rust: Hack Without Fear&#xa0;&#xa0;&#xa0;<span class="tag"><span class="rust">rust</span></span></a></li>
<li><a href="#orgd8846b6">Carp - A Language for the 21st Century</a></li>
<li><a href="#org65b6a14">Julia: To Lisp or Not to Lisp&#xa0;&#xa0;&#xa0;<span class="tag"><span class="julia">julia</span></span></a></li>
</ul>
</li>
<li><a href="#org5a424c8">IT</a>
<ul>
<li><a href="#orgecbb939">Nix Pills</a></li>
<li><a href="#orga9b276d">TCP/IP Network Administrator</a></li>
<li><a href="#org275ad9d">40 Jenkins Features &amp; Plugins You Wish You Knew Before</a></li>
</ul>
</li>
<li><a href="#orgcb9c087">Additional</a>
<ul>
<li><a href="#org902719b">Typed Lisp, A Primer&#xa0;&#xa0;&#xa0;<span class="tag"><span class="lisp">lisp</span></span></a></li>
<li><a href="#org55a1068">Static type checking in the programmable programming language (Lisp)&#xa0;&#xa0;&#xa0;<span class="tag"><span class="lisp">lisp</span></span></a></li>
<li><a href="#orgb1f4a94">Using Locks in Real Time Audio Processing, Safely</a></li>
<li><a href="#org5399723">CppCon 2019: Chandler Carruth “There Are No Zero-cost Abstractions”</a></li>
<li><a href="#org813ffe7">The Audio Technology of 'Torchlight 3'</a></li>
<li><a href="#org2ee587a">Allocators: The Good Parts</a></li>
<li><a href="#orgc61a064">CppCon 2019: Arthur O'Dwyer “Back to Basics: Type Erasure”</a></li>
<li><a href="#org90d2a23">The Lifecycle of an Instruction Set</a></li>
<li><a href="#orgdfa9328">Debug C++ Without Running - Anastasia Kozakova</a></li>
<li><a href="#orgb0f10c9">Unwinding the Stack: C++ Exceptions on Windows</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-orgfafacf6" class="outline-2">
<h2 id="orgfafacf6">C++&#xa0;&#xa0;&#xa0;<span class="tag"><span class="cpp">cpp</span></span></h2>
<div class="outline-text-2" id="text-orgfafacf6">
</div>
<div id="outline-container-org7202c42" class="outline-3">
<h3 id="org7202c42">Back to Basics: Move Semantics (part 1)</h3>
<div class="outline-text-3" id="text-org7202c42">
<p>:Author: Klaus Iglberger<br/>:Source: <a href="https://www.youtube.com/watch?v=St0MNEU5b0o">https://www.youtube.com/watch?v=St0MNEU5b0o</a></p>
</div>
<div id="outline-container-orgf803e5f" class="outline-4">
<h4 id="orgf803e5f">Lvalues and Rvalues</h4>
<div class="outline-text-4" id="text-orgf803e5f">
<p>
Lvalues have a name, there is an identifier that the programmer provides to represent the object.
Rvalues don't have a name.
It used to be rvalues only appeared on the right side of an assignment (thus right values) 
(though lvalues could be on both sides) but that's no longer true.
</p>
<div class="org-src-container">
<pre class="src src-c++"><span style="color: #ee99ff;">int</span> <span style="color: #eedd82;">i</span> = 3 + 2; <span style="color: #b7c796;">// </span><span style="color: #b7c796;">i is an lvalue and '3+2' is an rvalue</span>
<span style="color: #ee99ff;">int</span> <span style="color: #eedd82;">x</span> = i; <span style="color: #b7c796;">// </span><span style="color: #b7c796;">both x and i are lvalues</span>
</pre>
</div>
<p>
<code>v2 = v1</code> is a copy since 'v1' is a lvalue and so binds to a reference.
Rvalue references were added to distinguish between lvalues and rvalues in function arguments 
[maybe elsewhere too, not sure] and are signified by <code>&amp;&amp;</code> (as in <code>vector&lt;int&gt;&amp;&amp;</code>).
Rvalues will bind to rvalue references which is why rvalue references are the 
arguments of move operations.
</p>

<p>
<code>std::move</code> itself doesn't actually move anything it just unconditionally casts an lvalue 
to an rvalue reference (technically called an Xvalue (expiring value)).
This will cause a move operation to be used.
</p>
</div>
</div>

<div id="outline-container-org8591f14" class="outline-4">
<h4 id="org8591f14">Move Operations</h4>
<div class="outline-text-4" id="text-org8591f14">
<p>
If all member variables of a class have move operations defined (or are POD) then allow the 
compiler to generate the move operations of the class.
The move operations need to be defined if there are resources to be managed.
<b><b>Remember the rvalue reference passed into a move operator is itself an lvalue.</b></b>
</p>
<div class="org-src-container">
<pre class="src src-c++"><span style="color: #ee99ff;">MyClass</span>&amp; <span style="color: #ff6347;">operator</span><span style="color: #66fc4c;">=</span><span style="color: #ffffff;">(</span><span style="color: #ee99ff;">MyClass</span>&amp;&amp; <span style="color: #eedd82;">c</span><span style="color: #ffffff;">)</span> <span style="color: #ffffff;">{</span>
    <span style="color: #b7c796;">// </span><span style="color: #b7c796;">c is an lvalue (it has a name)</span>
    <span style="color: #ff6347;">this</span>-&gt;member = c.member; <span style="color: #b7c796;">// </span><span style="color: #b7c796;">so this would be a copy</span>
    <span style="color: #b7c796;">// </span><span style="color: #b7c796;">so should do</span>
    <span style="color: #ff6347;">this</span>-&gt;member = <span style="color: #7fffd4;">std</span>::move<span style="color: #00bfff;">(</span>c.member<span style="color: #00bfff;">)</span>;
<span style="color: #ffffff;">}</span>
</pre>
</div>

<p>
When defining move operations make sure to explicitly move all the members that need it.
The easiest thing to do is just call <code>std::move</code> on all members variables.
This won't affect fundamental types (it will still do the copy) but it keeps everything 
looking the same and nothing will be accidentally missed.
</p>

<p>
A move constructor has two phases:
</p>
<ol class="org-ol">
<li>Member-wise move</li>
<li>Reset the source object (setting pointer to null). Otherwise the two objects would free the
same memory when destroyed.</li>
</ol>
<p>
If only 1) is present then the default move constructor can be used.
</p>

<p>
A move assignment operator has three phases: 
</p>
<ol class="org-ol">
<li>Cleanup original resources in the destination object. This duplicates the destructor.</li>
<li>Member-wise move.</li>
<li>Reset the source object (setting pointers to null).</li>
</ol>
<p>
If 2) is the only step present then the default move assignment operator can be used.
</p>

<p>
<code>std::exchange</code> can set the a pointer and return the original value (to make the reset step 
easier).
</p>

<p>
<b>Mark move operations noexcept.</b>
This can lead to performance improvements.
Move operations should leave the source object in valid but undefined 
(though preferably default) state.
</p>
</div>
</div>

<div id="outline-container-orgb7d0173" class="outline-4">
<h4 id="orgb7d0173">Default Move Ops</h4>
<div class="outline-text-4" id="text-orgb7d0173">
<p>
Default move ops are generated if no copy operations or the destructor are user defined.
Default copy ops are generated if no move operations are user-defined.
"User-defined" includes setting <code>=default</code> and <code>=delete</code>.
Don't define any of the default operations if you don't need to (Rule of Zero).
If you define any of the default operations (destructor, move constructor, move assignment, copy constructor, copy assignment) define all of the them (Rule of Five).
</p>
</div>
</div>
</div>
<div id="outline-container-orgec76228" class="outline-3">
<h3 id="orgec76228">Back to Basics: Move Semantics (part 2)</h3>
<div class="outline-text-3" id="text-orgec76228">
<p>:Author: Klaus Iglberger<br/>:Source: <a href="https://www.youtube.com/watch?v=pIzaZbKUw2s">https://www.youtube.com/watch?v=pIzaZbKUw2s</a></p>
<p>
An rvalue reference is a forwarding reference if it is involved in type deduction or appears 
in the form <code>T&amp;&amp;</code> when part of a function template.
This is not the case for class template parameters.
Forwarding references will represent lvalue references if initialized with an lvalue or an 
rvalue reference if initialized with an rvalue.
</p>

<p>
Passing an lvalue to the following function results in <code>T</code> referring to a lvalue reference 
which results in <code>T&amp; &amp;&amp;</code>.
<b>Reference collapsing</b> makes it <code>T&amp;</code>.
But passing it an rvalue makes it <code>T&amp;&amp;</code>.
</p>
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #ff6347;">template</span> <span style="color: #ffffff;">&lt;</span><span style="color: #ff6347;">class</span> <span style="color: #ee99ff;">T</span><span style="color: #ffffff;">&gt;</span>
<span style="color: #66fc4c;">foo</span><span style="color: #ffffff;">(</span><span style="color: #ee99ff;">T</span>&amp;&amp; <span style="color: #eedd82;">t</span><span style="color: #ffffff;">)</span>
</pre>
</div>

<p>
<b>Perfect Forwarding</b> forwards arguments without copying them.
An example is <code>make_unique</code> passing arguments to create a <code>unique_ptr</code>.
A forwarding reference will accept anything.
</p>

<p>
<code>std::forward</code> casts rvalues to rvalue references and lvalues to lvalue references.
The type gets provided as a template parameter and used for the cast decision.
<code>std::forward</code> makes use of reference collapsing for its behaviour.
</p>

<p>
<code>std::move</code> actually takes a forwarding reference.
</p>

<p>
An overloaded function that takes a forwarding reference will always be called unless 
another overloaded function matches the given arguments exactly.
</p>

<p>
<code>const T&amp;&amp;</code> is an rvalue reference, not a forwarding reference.
</p>

<p>
Don't return with a <code>std::move</code>, this will break return value optimization (RVO) (copy elision).
Not naming the value being returned (making it an rvalue) guarantees RVO even if there is no 
copy or move constructor.
The compiler will fall back to moving if RVO doesn't work.
</p>

<p>
Don't return an rvalue reference.
</p>

<p>
Be careful to remove references from forward references when doing checking the type using 
<code>remove_reference_t</code>.
For example checking if the given type is integral using <code>is_integral_v</code> will always be false when 
given an lvalue reference.
</p>
</div>
</div>
<div id="outline-container-org4f986da" class="outline-3">
<h3 id="org4f986da">API Design for C++</h3>
<div class="outline-text-3" id="text-org4f986da">
<p>:Author:   Martin Reddy<br/>:Publisher: Morgan Kaufmann<br/>:Date: 2011</p>
<div id="text-table-of-contents">
<ul>
<li><a href="#org84b32b4">Chapter 2: Qualities</a></li>
<li><a href="#org001a656">Chapter 3: Patterns</a></li>
<li><a href="#org8c385fa">Chapter 4: Styles</a></li>
<li><a href="#orgac511f4">Chapter 6: C++ Usage</a></li>
<li><a href="#org23cb5a4">Chapter 7: Performance</a></li>
<li><a href="#org2b83f67">Chapter 8: Versioning</a></li>
<li><a href="#orgeaaf9fa">Chapter 9: Documentation</a></li>
<li><a href="#org820444f">Chapter 10: Testing</a></li>
<li><a href="#org3bf368c">Chapter 12: Extensibility</a></li>
</ul>
</div>
</div>
<div id="outline-container-org84b32b4" class="outline-4">
<h4 id="org84b32b4">Chapter 2: Qualities</h4>
<div class="outline-text-4" id="text-org84b32b4">
<p>
Always declare data members private as it makes it possible to do processing before changing values (bounds checking, etc.).
Even if you're not doing anything fancy now, adding it later won't break the API if you already have getters and setters.
</p>

<p>
Only include what is necessary.
</p>

<p>
In function parameters prefer enums to a booleans.
Avoid multiple arguments of the same type (create new types for each instead).
</p>

<p>
Orthogonal can mean functions don't have side effects on other parameters.
Or it can mean all operations can be applied to all data types (like the STL algorithms work with all STL containers).
</p>

<p>
Never put platform specific <code>#ifdef</code> code in the header (hide it in the implementation, maybe add a function for a user to query functionality).
</p>

<p>
Prefer non-member functions to reduce coupling.
This forces the function to only use the class' public API so is less likely to break with implementation changes.
</p>

<p>
Providing data to be passed with a callback is apparently a closure.
</p>
</div>
</div>
<div id="outline-container-org001a656" class="outline-4">
<h4 id="org001a656">Chapter 3: Patterns</h4>
<div class="outline-text-4" id="text-org001a656">
<p>
PIMPL idiom hides impl details by putting them in another class (the impl class).
The impl class is forward declared in the header and then just a pointer to it is used
(opaque pointer).
The problem with a default copy constructor is it does a shallow clone so the copied objects
will have opaque pointers to the same impl object.
You can either delete or specify custom copy functions.
In the case that you actually want copies to share the impl then use a <code>shared_ptr</code> to 
avoid the impl being deleted twice (by the copy and by the original).
</p>

<p>
Dependency injection involves passing an objectinto a class rather than having the class create
and store the object itself.
This saves the class needing to know the details needed to initialize the dependency object.
It provides an alternative to a singleton because the passed object could be global but it is
easier to test because the object can be mocked.
The class could be created by a factory which maintains a constructed dependency object to pass in.
</p>

<p>
If a class has virtual methods always declare the destructor as virtual.
If it is not declared virtual and the inheriting class is assigned to a base class pointer before
being destroyed then the base class' destructor will be called (rather than the inheriting class').
</p>
</div>
</div>
<div id="outline-container-org8c385fa" class="outline-4">
<h4 id="org8c385fa">Chapter 4: Styles</h4>
<div class="outline-text-4" id="text-org8c385fa">
<p>
Functional requirements specify how the API should behave.
It doesn't include operation constraints (performance, security, usability, etc.) 
(non-functional requirements).
Write each requirement in a versioned document with a specific description and rational.
</p>

<p>
Gather use cases: high level actions a user would take.
These are similar to user stories in Agile: "As a [role] I want [something] so that [benefit]."
</p>

<p>
API architecture should be designed to anticipate changes in requirements that are likely
in the future.
</p>

<p>
Once constraints and requirements are analyzed, create the key objects and how they fit together.
These are the major abstractions of the system.
Deciding key objects can be done in several ways though the results of all these methods should be
analyzed and refined:
</p>
<ul class="org-ul">
<li><b>Natural language</b>: Based on how you talk about the problem.
<ul class="org-ul">
<li>Nouns become objects.</li>
<li>Verbs become functions.</li>
<li>Abjectives become properties.</li>
</ul></li>
<li><b>Properties</b>: Group objects with similiar properties or qualities. These can be discrete 
(eg. red/blue) or fuzzy (eg. genres).</li>
<li><b>Behaviors</b>: Determine the behaviours of the system and assign them to different parts.
Group objects on their shared behaviours.</li>
<li><b>Domains (Schlaer-Mellor)</b>: Split the system vertically into generic domains.
Then split each of those domains.</li>
</ul>

<p>
<b>Friends in classes are normally a sign of bad design.</b>
</p>

<p>
More than 2 or 3 levels of inheritance is getting too complex.
Avoid multiple inheritance except for interiting from interfaces.
</p>

<p>
"The Liskov Substitution Principle states it should always be possible to substitue a base class 
for a derived class without any change in behaviour."
</p>

<p>
Private inheritance makes public methods of a base class private members of the derived class.
It's useful to inherit functionality without inheriting the interface.
Base functions can then be exposed with <code>using Base::Function;</code>.
</p>

<p>
Composition is when functionality is inherited by having an object as a member rather than 
through private inheritance.
It should be prefered over inheritance because it results in a less coupled design.
Also it supports using an opaque pointer.
</p>

<p>
The Law of Demeter says to only call functions from within your class; so member functions or
member functions of member variables.
Don't call functions on an object you had to call a function to access.
This produces loosely coupled designs.
</p>

<p>
Rather than having many optional function parameters pass a POD struct.
This allows extending options without changing the API.
</p>

<p>
<b>Named Parameter Idiom</b>: Return <code>*this</code> from a member function to allow calls to be chained.
An example where all member variables are set by setters would look like:
</p>
<div class="org-src-container">
<pre class="src src-c++"><span style="color: #ee99ff;">QTimer</span> <span style="color: #eedd82;">timer</span> = QTimer<span style="color: #ffffff;">()</span>.setInterval<span style="color: #ffffff;">(</span>1000<span style="color: #ffffff;">)</span>.setSingleShot<span style="color: #ffffff;">(</span><span style="color: #7fffd4;">true</span><span style="color: #ffffff;">)</span>.start<span style="color: #ffffff;">()</span>;
</pre>
</div>

<p>
An API should fail quickly when it hits an error and clean up all resources on the way out.
Try not to return exceptional values (like <code>nullptr</code>) since this makes clients write more code 
to check for it.
Make sure error codes are an accurate representation of the error.
If no error codes exactly match the error then add a new one.
</p>

<p>
Data driven APIs behave differently based on the input data.
It allows for changing the program's behaviour by changing the data, which could be created
by a separate program (by non-C++ programmers).
It makes it easy to add features without breaking the API.
It has no compile time type checking and has runtime performance costs.
It is very dependent on documentation because the header file won't reveal the possible
actions.
An example is a single command function that takes the action to execute as a string.
</p>
</div>
</div>
<div id="outline-container-orgac511f4" class="outline-4">
<h4 id="orgac511f4">Chapter 6: C++ Usage</h4>
<div class="outline-text-4" id="text-orgac511f4">
<p>
When a destructor is needed to cleanup resources a copy constructor and assignment operator are
probably needed to handle those resources correctly.
</p>

<p>
The compiler generated copy constructor does a shallow copy (pointers are copied rather than the
object they are pointing to).
The copy constructor is called when an object is:
</p>
<ul class="org-ul">
<li>constructed from another</li>
<li>passed or returned by value</li>
<li>placed in an initialiser list</li>
<li>thrown or caught as an exception</li>
</ul>

<p>
Assignment operator guidelines:
</p>
<ul class="org-ul">
<li>destroy existing state before setting the new state</li>
<li>check for self-assignment (<code>a = a</code>)</li>
<li>use a constant reference for the right hand operand</li>
<li>return <code>*this</code> as a reference, for operator chaining</li>
</ul>

<p>
Marking the copy constructor <code>explicit</code> will prevent implicit copies like pass/return by value.
This is the same for the conversion operators.
</p>

<p>
Only <code>const</code> methods can be called on <code>const</code> objects.
Declaring a variable <code>mutable</code> allows it to be mutated by a <code>const</code> method.
This is useful for changing internal state that is undetectable to a user (eg. update a cache).
</p>

<p>
Don't inline the implementation of templates.
Put the implementation in a "private" header that is included into the main public header.
It keeps the public header cleaner.
</p>

<p>
Templates can be explicitely instantiated for specific types in a .cpp file.
The implementation can then live in the .cpp file.
Then add typedefs to the header so a user knows which types they can use.
This results in faster build times and is useful if you only want to use the template with specific
types.
</p>

<p>
<code>extern template class Class&lt;type&gt;</code> will not instantiate the template.
Good for preventing the compiler from instantiating the same template multiple times.
</p>

<p>
The following operators must be class members: <code>=</code>, <code>[]</code>, <code>-&gt;</code>, <code>-&gt;*</code>, <code>()</code>, <code>(T)</code> (C-style cast),
 <code>new</code>, <code>delete</code>.
Always prefer to define the remaining operators as free style functions since it:
</p>
<ul class="org-ul">
<li>means operands can be on the left and right</li>
<li>reduces coupling (operator can't access private members)</li>
</ul>
<p>
The exception is if the operator needs private acces (don't make it a friend instead).
</p>

<p>
The C-style cast operator looks like 
</p>
<div class="org-src-container">
<pre class="src src-C++"><span style="color: #7fffd4;">T1</span>::<span style="color: #ff6347;">operator</span> <span style="color: #ee99ff;">T2</span><span style="color: #ffffff;">()</span>
<span style="color: #b7c796;">// </span><span style="color: #b7c796;">for example to convert to a C-style string:</span>
<span style="color: #7fffd4;">MyString</span>::<span style="color: #ff6347;">operator</span> <span style="color: #ff6347;">const</span> <span style="color: #ee99ff;">char</span>*<span style="color: #ffffff;">()</span>;
</pre>
</div>
<p>
There's no return value, the compiler gets it from the function name.
</p>

<p>
Don't use macros in public headers because they have no typing, no scope and no access control.
They don't add to the symbol table so you'll just see value in the debugger with no identifier.
</p>

<p>
Prevent symbols from having external linkage by enclosing them in an anonymous namespace.
This stops you from accessing global functions/variables from other namespaces using <code>extern</code>.
Similiar to what <code>static</code> does.
</p>
</div>
</div>
<div id="outline-container-org23cb5a4" class="outline-4">
<h4 id="org23cb5a4">Chapter 7: Performance</h4>
<div class="outline-text-4" id="text-org23cb5a4">
<p>
Consider adding "redundant include guards" around <code>#include</code> statements to speed up compilation.
They will prevent the opening and processing of header files that have already been read.
It can have a significant impact for large files that include lots of files.
</p>

<p>
Having a constant variable in a header will cause it to be allocated everywhere it is included.
The compiler will only inline built-in types.
Either define constants as <code>extern</code> and have the value in a .cpp file or make them static members
of a class (with the values in the .cpp).
Or use <code>constexpr</code>.
<code>constexpr</code> functions allow for hiding the constant value in the implementation but it still 
can be used at compile time.
</p>

<p>
Initialization lists can avoid calling the default constructors of member variables.
</p>

<p>
The compiler will align everything to word boundaries using padding if needed.
Group member variables by type, this makes it less likely to waste space with padding bytes.
</p>

<p>
Bitfields specify how many bits a member variable should occupy.
There is likely to be a performance cost if this is not a multiple of 8.
</p>

<p>
Only add virtual methods when needed since they will add a vtable pointer to the object.
</p>

<p>
Copy on write (CoW) is a method to share memory between objects when possible.
When making a copy of an object keep sharing the internal state until a change is made.
At that point make a copy and make the change to the copy.
[Book has an implementation of a CoW pointer.
Dereferences to const objects don't cause copying but any action which could mutate what it is 
pointing to causes a copy to be made.
It uses a <code>shared_ptr</code> so it can check if it is the only one pointing to the object (in which 
case it doesn't need to do a copy.)]
Apparently most <code>std::string</code> implementations use CoW.
[Seems like it just results in heap allocations happening at unexpected times (on value change 
rather than when what looks like the copy). 
I feel like all the benefits could be had more transparently with a bit of effort from the user.]
</p>

<p>
Prefer pre-increment for iterators to avoid the construction and destruction 
of temporaries, apparently.
</p>

<p>
As an alternative to iterators, pass an array by reference into a function to be populated with 
the requested elements.
It can be useful for linked list/tree like structures since the elements will be copied into 
contiguous memory making the iteration faster.
It may only make sense if the results get used multiple times.
The advantage over iterators is that it can return any selection in any order (rather than 
sequential start to finish).
</p>

<p>
Setting the <code>MALLOC_CHECK</code> environment variable enables an alternative allocator in GCC that is 
more resilient to memory errors (like double frees and single byte buffer overruns).
It can be useful for debugging memory problems.
</p>

<p>
Helgrind &amp; DRD are part of Valgrind and detect synchronisation errors in P-thread based 
applications.
</p>
</div>
</div>

<div id="outline-container-org2b83f67" class="outline-4">
<h4 id="org2b83f67">Chapter 8: Versioning</h4>
<div class="outline-text-4" id="text-org2b83f67">
<p>
It is useful to make the API version available at compile time (as well as at runtime).
A Version class with all static member functions can be useful to return the version number 
information (functions could be <code>constexpr</code> to make it available at compile time).
It can have <code>IsAtLeast</code> and <code>HasFeature</code> methods to check the API.
</p>

<p>
<b>Source compatability:</b> the user can compile their code against a later API without making any
changes.
</p>

<p>
<b>Binary compatability:</b> users only have to relink to use the new API.
The PIMPL idiom can help since the implementation is hidden.
Binary compatible changes in C++ include:
</p>
<ul class="org-ul">
<li>Adding new classes and non-virtual methods</li>
<li>Adding new static member variables</li>
<li>Removing private static member variables (if they aren't referenced from an inline method)</li>
<li>Removing non-virtual private methods (if they aren't called from an inline method)</li>
<li>Changing implementation of inline method (though recompilation is needed to get new implementation)</li>
<li>Changing a method's default arguments (recompilation needed to use the new defaults)</li>
<li>Adding/removing friend declarations</li>
<li>Appending new enumations to an existing enum</li>
<li>Using unclaimed remaining bits in a bit field</li>
</ul>

<p>
Adding functionality is normally fine for backwards compatibility. 
Exception are pure virtual functions since implementations will be forced to change.
When adding parameters you can add default values to maintain source compatibility.
When adding to a C API you can add new differently named functions and then refactor the 
implementation of the old one to call the new function.
An <code>EnableFeature</code> method can be added to the Version class from earlier to allow users to
opt in to new behaviour.
</p>

<p>
Forwards compatibility means users can downgrade the API without having to make changes.
Data-driven style APIs are forwards compatible.
You could try to add parameters early and then mark them as unused to achieve forwards 
compatibility.
</p>

<p>
Most compilers have a deprecated attribute that can be used to mark things deprecated.
You can remove functionality after it's been deprecated for at least one release.
</p>

<p>
"If you add one new feature for ten clients then each client gets nine features they didn't 
ask for and you support ten you didn't design for."
</p>
</div>
</div>
<div id="outline-container-orgeaaf9fa" class="outline-4">
<h4 id="orgeaaf9fa">Chapter 9: Documentation</h4>
<div class="outline-text-4" id="text-orgeaaf9fa">
<p>
It's a good idea to write the skeleton of high-level docs and examples early to force you to 
think deeply about the API from the user's perspective.
</p>

<p>
Suggestions for documentation usability:
</p>
<ul class="org-ul">
<li>Have an index page</li>
<li>Consistent look and feel</li>
<li>Code examples: helps users find the information they need and how to use it in their own code</li>
<li>Diagrams</li>
<li>Search functionality</li>
<li>Breadcrumbs: navigation aids to help user keep track of their location</li>
<li>Terminology: terminology should be defined and used consistently.</li>
</ul>

<p>
Doxygen has <code>\pre</code> and <code>\post</code> tags to document pre and post conditions.
</p>
</div>
</div>
<div id="outline-container-org820444f" class="outline-4">
<h4 id="org820444f">Chapter 10: Testing</h4>
<div class="outline-text-4" id="text-org820444f">
<p>
Performance tests can overwhelm you with data (for every test on every machine).
It's best to treat it as a data mining problem: collect all the data then do a database search
for the 5-10 worst cases.
graphs.mozilla.org was a great example.
</p>

<p>
Qualities of a good test are:
</p>
<ul class="org-ul">
<li>Fast</li>
<li>Stable</li>
<li>Portable (takes into account things like floating point rounding on different hardware)</li>
<li>High coding standards</li>
<li>Reproducible failures (should be easy for an engineer to investigate a failure)</li>
</ul>

<p>
What to target through unit tests:
</p>
<ul class="org-ul">
<li>Conditions: test all paths by exercising all combinations of <code>if=/=else</code>, <code>for</code>, <code>while</code>, 
<code>switch</code> statements</li>
<li>Equivalence classes: find categories of input that produce different behaviours (eg. below 
range, in range and above range)</li>
<li>Boundary conditions: aiming for off-by-one style errors</li>
<li>Parameter testing: all combinations of parameters that alter behaviour</li>
<li>Return value assertion: returns correct results for different combinations of input</li>
<li>Getters/Setters: calling the getter first should return a sensible default. Then check the 
setter works.</li>
<li>Operation order: try actions in different orders to catch undocumented side effects</li>
<li>Regression test: check backwards compatibility. Can use old data files where relevant.</li>
<li>Negative testing: check it fails when it is expected to</li>
<li>Buffer overruns</li>
<li>Memory ownership: check that the API owns or releases ownership of memory when it claims to.
You can rerun functions to make sure the returned pointers are different each time.
Try freeing returned memory then rerunning to make sure there's no corruption or crash.</li>
<li>NULL input: check all functions that accept pointers handle <code>NULL</code></li>
</ul>

<p>
Focus on tests that:
</p>
<ul class="org-ul">
<li>exercise the primary workflow</li>
<li>offer the widest code coverage</li>
<li>test the most complex code</li>
<li>target parts of the design that are poorly defined</li>
<li>test features with the highest performance/security concern</li>
<li>test for problems that cause the worst client impact</li>
<li>test features that can be complete early on in the development cycle</li>
</ul>

<p>
In TDD when they say write only the code to get the test working they mean it (eg. by just 
returning a constant).
Idea is you build up the tests until it covers all the desired behaviour.
It makes you think from the users perspective.
</p>

<p>
<b>Only use assertions to catch programming errors that should never happen.</b>
Assert pre- &amp; post- conditions.
</p>

<p>
Stub &amp; Mock objects can make tests easier to write.
Fake objects have the same functional behaviour but with a simpler more testable implementation 
(eg. using an in memory filesystem).
</p>

<p>
Stub objects have the same interface but are loaded with predictable results.
</p>

<p>
Mock objects are like stubs but have include instrumentation to verify the function calls 
(number of calls, what was returned, what arguments, etc.).
</p>

<p>
These all can be used with dependency injection or by linking against the mock/stub instead of 
the real implementation.
</p>

<p>
Mock and stub objects are normally created by inheriting from the real implementation.
</p>

<p>
A proxy object can be used to add logging/profiling to API functions to avoid muddying the actual 
API.
</p>

<p>
Record &amp; Playback: Idea of having functions log their arguments and return values.
Then you can have a playback module that can read the log, call functions and check the results.
Tests get stored as data
</p>

<p>
Gcov is a code coverage tool that's part of GCC.
Suggets different code coverage targets depending on how code coverage is measured: 
100% by function, 90% by line or 70% by condition coverage.
</p>
</div>
</div>
<div id="outline-container-org3bf368c" class="outline-4">
<h4 id="org3bf368c">Chapter 12: Extensibility</h4>
<div class="outline-text-4" id="text-org3bf368c">
<p>
<i>Never inherit from a class without a virtual destructor.</i>
</p>

<p>
STL streams are designed to be inherited from.
Boost iostreams has things like filters and compression.
</p>

<p>
Explicitely prevent people from inheriting from a class by making the constructors private and use a Factory method instead.
This prevents it from being constructed on the stack.
</p>

<p>
An alternative is to use virtual inheritance, which will work on the stack:
</p>
<div class="org-src-container">
<pre class="src src-c++"><span style="color: #ff6347;">class</span> <span style="color: #ee99ff;">NonBase</span>;

<span style="color: #ff6347;">class</span> <span style="color: #ee99ff;">NonBaseFinal</span> <span style="color: #ffffff;">{</span>
<span style="color: #ff6347;">private</span>:
  <span style="color: #66fc4c;">NonBaseFinal</span><span style="color: #00bfff;">(){}</span>
  <span style="color: #ff6347;">friend</span> <span style="color: #ff6347;">class</span> <span style="color: #ee99ff;">NonBase</span>;
<span style="color: #ffffff;">}</span>;

<span style="color: #ff6347;">class</span> <span style="color: #ee99ff;">NonBase</span>: <span style="color: #ff6347;">virtual</span> <span style="color: #ff6347;">public</span> <span style="color: #ee99ff;">NonBaseFinal</span> <span style="color: #ffffff;">{</span>
<span style="color: #ff6347;">public</span>: 
...
<span style="color: #ffffff;">}</span>;
</pre>
</div>

<p>
<b>Policy-Based Templates</b>: create a class template that accepts several template parameters (policies) 
that affect the behaviour of the class. eg.
</p>
<div class="org-src-container">
<pre class="src src-c++"><span style="color: #ff6347;">template</span><span style="color: #ffffff;">&lt;</span>
  <span style="color: #ff6347;">typename</span> <span style="color: #ee99ff;">T</span>,
  <span style="color: #ff6347;">template</span><span style="color: #00bfff;">&lt;</span><span style="color: #ff6347;">class</span><span style="color: #00bfff;">&gt;</span> <span style="color: #ff6347;">class</span> <span style="color: #ee99ff;">OwnershipPolicy</span> = RefCounted,
  <span style="color: #ff6347;">class</span> <span style="color: #ee99ff;">ConversionPolicy</span> = <span style="color: #ee99ff;">DisallowConversions</span>
<span style="color: #ffffff;">&gt;</span> <span style="color: #ff6347;">class</span> <span style="color: #ee99ff;">SmartPtr</span>
</pre>
</div>
<p>
T is the type the smart pointer will point to, the others are policies.
</p>

<p>
<b>The Curiosly Recurring Template Pattern:</b> has a class that inherits from a templated base class with 
the derived class as the template parameter.
It provides compile time polymorphism.
The base class can access members from the derived class by casting <code>this</code> to the derived class's type (which 
it knows because it was provided as the template parameter).
</p>
<div class="org-src-container">
<pre class="src src-c++"><span style="color: #ff6347;">template</span> <span style="color: #ffffff;">&lt;</span><span style="color: #ff6347;">class</span> <span style="color: #ee99ff;">T</span><span style="color: #ffffff;">&gt;</span> <span style="color: #ff6347;">class</span> <span style="color: #ee99ff;">Base</span>;

<span style="color: #ff6347;">class</span> <span style="color: #ee99ff;">Derived</span> : <span style="color: #ff6347;">public</span> <span style="color: #ee99ff;">Base</span><span style="color: #ffffff;">&lt;</span><span style="color: #ee99ff;">Derived</span><span style="color: #ffffff;">&gt;</span>;
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgbe484a9" class="outline-3">
<h3 id="orgbe484a9">Object-Oriented Program: Best Practices</h3>
<div class="outline-text-3" id="text-orgbe484a9">
<p>:Author:   Jon Kalb<br/>:Source:   <a href="https://www.youtube.com/watch?v=c0lutJECNUA">https://www.youtube.com/watch?v=c0lutJECNUA</a></p>
<p>
Object orientation provides a separation of concerns.
The base class designs the API and the children implement it.
</p>

<p>
Liskov substitution: if type D has all the properties of type B then it is a proper sub-type and
any code designed to work with B will also work with D.
Should always aim to create proper sub-types.
</p>

<p>
Derived and base classes each have a v-table pointer.
Since the base class has one it makes it accessible from a base class pointer.
The V-table has a list of function pointers (one for each virtual/overridden function).
</p>

<p>
Inheritance often gets treated as a way to reuse code.
This results in a mess.
It should instead be thought of as a problem-solving method.
The base class decides on the functionality and the derived class "is-a" instance of the base
class functionality.
Example: <code>ConsoleLogger</code> "is-a" <code>Logger</code> while <code>StatusDisplayer</code> is not a <code>Logger</code> (even though 
it may use similar code).
<b>Make sure public inheritance models "is-a".</b>
</p>

<p>
Only dereference an OOP pointer to access base class members.
This can be enforced by only deriving from abstract classes.
It means base classes have a single responsibility: to be a base.
All concrete class get maintained independently, which makes code more maintainable.
Then make the assignment operators protected on the base classes but public on the 
derived classes.
</p>

<p>
Function overloading only works inside the same scope (not between a base and derived class).
</p>

<p>
Don't specify default values in function overrides since it won't actually apply when calling
 from a pointer to the base class.
</p>

<p>
Don't call virtual functions from the constructor and the destructor.
</p>

<p>
Try to avoid casting by writing code that works with all the derived classes (even if some 
don't actually do anything with the calls).
So you don't have to cast to D to call a function that only D has if all the other derived
classes also have that function (but in their cases it might be empty).
</p>
</div>
</div>
<div id="outline-container-orgabc450a" class="outline-3">
<h3 id="orgabc450a">105 STL Algorithms in Less Than An Hour</h3>
<div class="outline-text-3" id="text-orgabc450a">
<p>:Author:   Jonathan Boccara<br/>:Source:   <a href="https://www.youtube.com/watch?v=bXkWuUe9V2I">https://www.youtube.com/watch?v=bXkWuUe9V2I</a></p>
<p>
Make code simpler and more expressive
N.B.: '_*' means can be applied to different functions 
</p>
</div>
<div id="outline-container-org8f337c1" class="outline-4">
<h4 id="org8f337c1">Heaps</h4>
<div class="outline-text-4" id="text-org8f337c1">
<ul class="org-ul">
<li>heap is a tree where the parent is larger than the children
<ul class="org-ul">
<li>can be represented (and stored) as an array/vector</li>
</ul></li>
<li><code>make_heap</code>: takes a collection and creates a heap</li>
<li><code>push_heap</code>: add and bubble object to correct place</li>
</ul>
</div>
</div>
<div id="outline-container-org24f7fc3" class="outline-4">
<h4 id="org24f7fc3">Sort</h4>
<div class="outline-text-4" id="text-org24f7fc3">
<ul class="org-ul">
<li>basic one is <code>sort</code></li>
<li><code>partial_sort</code>: takes iterators and sorts part of collection</li>
<li><code>nth_element</code>: pass iterator to position in collection and the element that would go in that place if the collection is sorted is moved to it
<ul class="org-ul">
<li>elements below will be unsorted but smaller than the sorted element and vice versa</li>
</ul></li>
<li><code>inplace_merge</code>: takes collection where 2 parts sorted and makes whole thing sorted</li>
<li><code>std::partition</code>: takes predicate and put all that match at the beginning</li>
<li><code>partition_point</code>: fetches the partition point (point between matching &amp; unmatching section)</li>
<li><code>rotate</code>: element at end goes to the beginning</li>
<li><code>shuffle</code>: guess!</li>
<li><code>reverse</code></li>
<li><code>stable_*</code>: can be applied to other functions. Means relative order won't change after transformation</li>
<li><code>is_*</code>: checks whether collection is whatever the function does (eg. is_sorted returns true if sorted)</li>
<li><code>is_until_*</code>: like <code>is</code> but takes iterator and checks until that iterator</li>
<li><code>count</code></li>
<li><code>accumulate</code>: applies operation to collection and returns the result.</li>
<li><code>reduce</code>: like accumulate but has overload that doesn't take an initial value and can be parallelized</li>
<li><code>transform_reduce</code>: applies function to values of collection before calling reduce</li>
<li><code>partial_sum</code>: Computes the partial sums of the elements in the given sub-ranges and writes them to the given range.</li>
<li><code>inclusive_scan</code>: <a href="https://en.cppreference.com/w/cpp/algorithm/inclusive_scan">inclusive_scan</a></li>
<li><code>exclusive_scan</code>: <a href="https://en.cppreference.com/w/cpp/algorithm/exclusive_scan">exclusive_scan</a></li>
<li><code>adjacent_difference</code>: Computes the differences between the second and the first of each adjacent pair of elements in a range.
<ul class="org-ul">
<li><code>sample</code>: picks random elements from collection</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org77e8453" class="outline-4">
<h4 id="org77e8453">Query Property</h4>
<div class="outline-text-4" id="text-org77e8453">
<ul class="org-ul">
<li><code>all_of</code>: takes collection and predicate and returns if all elements satisfy predicate
<ul class="org-ul">
<li>passing empty collection results in false</li>
</ul></li>
<li><code>any_of</code>: if any satisfy the predicate
<ul class="org-ul">
<li>passing empty collection results in true</li>
</ul></li>
<li><code>none_of</code>: if none satisfy the predicate
<ul class="org-ul">
<li>passing empty collection results in true</li>
</ul></li>
<li><code>equal</code>: takes two collections and check if all elements are equal, same order and the collections are the same length (bool)</li>
<li><code>is_permutation</code>: if some contents but not necessarily same order (bool)</li>
<li><code>lexicographical_compare</code>: which is smaller</li>
<li><code>mismatch</code>: returns pair of iterators for where the two collections start to differ</li>
</ul>
</div>
</div>
<div id="outline-container-org4fc2422" class="outline-4">
<h4 id="org4fc2422">Unsorted Search</h4>
<div class="outline-text-4" id="text-org4fc2422">
<ul class="org-ul">
<li><code>find</code>: search for value in unsorted container</li>
<li><code>adjacent_find</code>: searches for two consecutive occurrences of value in unsorted container</li>
</ul>
</div>
</div>
<div id="outline-container-orgb44a77d" class="outline-4">
<h4 id="orgb44a77d">Sorted Search</h4>
<div class="outline-text-4" id="text-orgb44a77d">
<ul class="org-ul">
<li><code>equal_range</code>: returns range of collection where all the searched for values are
<ul class="org-ul">
<li>may be an empty range if no occurrences of value in the collection</li>
</ul></li>
<li><code>lower_bound</code> &amp; <code>upper_bound</code>: position to place value on either side of the range returned by equal_range [33:44 for example]
<ul class="org-ul">
<li><code>lower_bound</code> doesn't return end() if the value isn't in the collection</li>
</ul></li>
<li><code>binary_search</code>: does binary search and returns true if the value exists.</li>
</ul>
</div>
</div>
<div id="outline-container-org1a20eb9" class="outline-4">
<h4 id="org1a20eb9">Search a Range</h4>
<div class="outline-text-4" id="text-org1a20eb9">
<ul class="org-ul">
<li><code>search</code>: looks for sub-range inside a range and gives first occurrence</li>
<li><code>find_end</code>: gives the last occurrence of sub-range in range</li>
<li><code>find_first_of</code>: find first occurrence of any of the values in the sub-range in the collection.</li>
</ul>
</div>
</div>
<div id="outline-container-org7286c8a" class="outline-4">
<h4 id="org7286c8a">Searing a Relative Value</h4>
<div class="outline-text-4" id="text-org7286c8a">
<ul class="org-ul">
<li><code>max_element</code>: returns iterator to the biggest element in the collection</li>
<li><code>min_element</code>: same as <code>max_element</code> but with smallest element</li>
<li><code>minmax_element</code>: gets both biggest and smallest elements as iterator pair</li>
</ul>
</div>
</div>
<div id="outline-container-orge468393" class="outline-4">
<h4 id="orge468393">Sets</h4>
<div class="outline-text-4" id="text-orge468393">
<ul class="org-ul">
<li>sets are sorted collections</li>
<li><code>set_difference</code>: get the elements that are in one set but not in the other (linear complexity)</li>
<li><code>set_union</code>, <code>set_intersection</code>: includes [37:00]</li>
<li><code>set_merge</code>, <code>set_symmetric_difference</code></li>
</ul>
</div>
</div>
<div id="outline-container-org633fbaa" class="outline-4">
<h4 id="org633fbaa">Movers</h4>
<div class="outline-text-4" id="text-org633fbaa">
<ul class="org-ul">
<li><code>copy</code>: copy every element in input range to output</li>
<li><code>move</code>: moves every element to new collection</li>
<li><code>swap_ranges</code>: swap two ranges that have the same size</li>
<li><code>copy_backward</code>: like copy but starts at the end of the range</li>
<li><code>move_backward</code>: like previous but for move</li>
</ul>
</div>
</div>
<div id="outline-container-org5a0283b" class="outline-4">
<h4 id="org5a0283b">Value Modifiers</h4>
<div class="outline-text-4" id="text-org5a0283b">
<ul class="org-ul">
<li><code>fill</code>: takes collection and value and sets all elements to the value</li>
<li><code>generate</code>: like fill but takes a function to call for each element to get the value for that element</li>
<li><code>iota</code>: fills collection with incrementing elements starting with given value</li>
<li><code>replace</code>: replaces every occurrence of value with another</li>
</ul>
</div>
</div>
<div id="outline-container-org2e3553a" class="outline-4">
<h4 id="org2e3553a">Structure Changers</h4>
<div class="outline-text-4" id="text-org2e3553a">
<ul class="org-ul">
<li><code>remove</code>: gets called with collection and value to remove. Since it only has access to iterators it can't actually delete the elements and instead shifts all the matching elements to the end of the collection and returns the start of that section. The value of those elements is now unknown. Use <code>erase</code> to actually delete the elements.</li>
<li><code>unique</code>: removes adjacent duplicates (works the same way as <code>remove</code>)</li>
<li><code>*_copy</code>: combined with other algorithms. Does same as algorithm but outputs result somewhere else.</li>
<li><code>*_if</code>: takes predicate</li>
<li><code>transform</code>: applies function to every element of a collection. Takes an output iterator.
<ul class="org-ul">
<li>Overload takes two collections and function that takes two parameters. Result of each function call are outputted to the output iterator.</li>
</ul></li>
<li><code>for_each</code>: calls function for every element on collection and doesn't care about the return value [For functions with side effects]</li>
</ul>
</div>
</div>
<div id="outline-container-org2ff9bd6" class="outline-4">
<h4 id="org2ff9bd6">Raw Memory</h4>
<div class="outline-text-4" id="text-org2ff9bd6">
<ul class="org-ul">
<li><code>uninitialized_*</code>: work with <code>fill_copy</code>, and <code>move</code> to have them work on uninitialized memory. To work with raw memory.</li>
<li><code>destroy</code>: calls destructor for every element.</li>
<li><code>*_n</code>: does the algorithm but takes a size and only does that many steps</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org2288ba4" class="outline-3">
<h3 id="org2288ba4">Back to Basics: Understanding Value Categories</h3>
<div class="outline-text-3" id="text-org2288ba4">
<p>:Author: Ben Saks<br/>:Source: <a href="https://www.youtube.com/watch?v=XS2JddPq7GQ">https://www.youtube.com/watch?v=XS2JddPq7GQ</a></p>
<p>
Originally an lvalue was an expression that refered to an object that had storage.
And an rvalue wasn't an lvalue.
</p>

<p>
When an lvalue is used in the place of an rvalue an lvalue-to-rvalue-conversion occurs as the compiler only cares
about the value the object has rather than the storage.
</p>

<p>
Rvalues of class types occupy storage so that they can access members.
</p>

<table rules="all" frame="border">


<colgroup>
<col  class="org-left">

<col  class="org-left">

<col  class="org-left">
</colgroup>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left"><b>can take the address of</b></td>
<td class="org-left"><b>can assign to</b></td>
</tr>

<tr>
<td class="org-left"><b>lvalue</b></td>
<td class="org-left">yes</td>
<td class="org-left">yes</td>
</tr>

<tr>
<td class="org-left"><b>non-modifiable lvalue (const)</b></td>
<td class="org-left">yes</td>
<td class="org-left">no</td>
</tr>

<tr>
<td class="org-left"><b>(non-class) rvalue</b></td>
<td class="org-left">no</td>
<td class="org-left">no</td>
</tr>
</tbody>
</table>

<p>
References work like const pointers.
References yield lvalues.
</p>

<p>
Creating a reference to const of type <code>T</code> with an expression that is not of type <code>T</code> will create 
a temporary <code>T</code> and then get the reference of that.
The temporary lives for as long as the reference does.
</p>

<p>
Temporary materialization conversion: converts an prvalue to an xvalue.
It happens in the case of the reference to const example.
</p>

<p>
C++11 added rvalue references. 
They are normally used for function parameters and return values with move semantics.
But <code>int&amp;&amp; i = 10;</code> is something you can do since 10 is an rvalue.
</p>

<p>
If it has a name its an lvalue.
</p>

<p>
Binding rvalue references to rvalues creates an xvalue.
</p>

<p>
<code>std::move</code> converts lvalues to xvalues (an unnamed rvalue reference).
It's the way to inform the compiler that an lvalue is about to expire.
</p>


<div class="figure">
<p><img src="images/value-categories.png" alt="value-categories.png">
</p>
</div>

<ul class="org-ul">
<li><b>glvalue</b>: generalized value</li>
<li><b>xvalue</b>: behave like rvalues and lvalues (they occupy storage)</li>
<li><b>prvalue (pure rvalue)</b>: always behave like rvalue and never occupy storage</li>
</ul>
</div>
</div>

<div id="outline-container-orgc68fa11" class="outline-3">
<h3 id="orgc68fa11">Beginners Guide to Linkers</h3>
<div class="outline-text-3" id="text-orgc68fa11">
<p>:Author:   David Drysdale<br/>:Source:   <a href="https://www.lurklurk.org/linkers/linkers.html">https://www.lurklurk.org/linkers/linkers.html</a></p>
<ul class="org-ul">
<li>a definition: associates a name with an implementation (data or code)</li>
<li>a declaration: tells the compiler that a definition of somethings exists somewhere</li>
<li>What the C Compiler does
<ul class="org-ul">
<li>outputs object files (.o *nix, .obj Windows)</li>
<li>object file contains code (function definition) &amp; data (variable definitions)
<ul class="org-ul">
<li>instances have associated names</li>
</ul></li>
<li>compiler only allows code to reference function/variable if seen declaration for it
<ul class="org-ul">
<li>compiler creates a reference with an associated name. Linker finds the actual value for that name</li>
</ul></li>
</ul></li>
<li><code>nm</code>: information on symbols in object file
<ul class="org-ul">
<li>'U': undefined reference</li>
<li>'t': defined reference (local to file (static))</li>
<li>'T': defined reference (not local to file)</li>
<li>'d': initialized global variable (local)</li>
<li>'D': initialized global variable (not local)</li>
<li>'b': static/local uninitialized global variable</li>
<li>'B'/'C': not local uninitialized global variable</li>
</ul></li>
<li>Duplicate Symbols
<ul class="org-ul">
<li>C++: must be exactly 1 definition of a symbol</li>
<li>C: must be 1 definition of functions and initialized global variables
<ul class="org-ul">
<li>definition of uninitialized global variables can be treated as tentative definition and allows different files to have tentative definitions of same object</li>
</ul></li>
<li>FORTRAN model has duplicate global variable in each file and linker picks the largest then discards the rest</li>
</ul></li>
<li>What the OS does
<ul class="org-ul">
<li>Loads the object file into memory
<ul class="org-ul">
<li>machine code into code segment (where reachable by CPU)</li>
<li>data (global variables) into data segments
<ul class="org-ul">
<li>initialized variables store value in object file which is also loaded to memory</li>
<li>linker assumes initialized variables are 0</li>
</ul></li>
</ul></li>
</ul></li>
<li>Static Libraries
<ul class="org-ul">
<li>Windows: static lib has .lib extension same as import library (comes with dll)</li>
<li>Linker creates list of unresolved symbols then checks for symbols in objects contained in static lib. If symbol definition is there then copies in entire object.</li>
</ul></li>
<li>Shared Libraries
<ul class="org-ul">
<li>When linking and finds symbol in shared library, linker marks name of symbol and which library it comes from
<ul class="org-ul">
<li>At runtime, remaining linking happens before main function</li>
<li>this is done by ldd.so (smaller version than linker)</li>
</ul></li>
<li>ldd.so maps entire library into programs address space
<ul class="org-ul">
<li>this is so different processes can share the code segment</li>
</ul></li>
</ul></li>
<li>Windows dll differences:
<ul class="org-ul">
<li>Windows dlls don't export symbols by default (symbol manually specified)
<ul class="org-ul">
<li>symbols exported by:
<ul class="org-ul">
<li>in code <code>declspec(dllexport)</code></li>
<li><code>/export</code> option for linker</li>
<li>linker pull in module definition (.def) file with an EXPORTS section</li>
</ul></li>
</ul></li>
<li>information about exported symbols not held in dll
<ul class="org-ul">
<li>import library (.LIB) contains exported symbols and locations</li>
<li>Windows binaries can specify which symbols to import</li>
<li>Unix allows linking against shared library with undefined symbol - exe can then provide symbol
<ul class="org-ul">
<li>Windows doesn't allow this</li>
<li>Makes circular dependencies tricky but Windows has special method around it</li>
</ul></li>
</ul></li>
</ul></li>
<li><code>nm --demangle</code>: shows unmangled symbols</li>
</ul>
</div>
<div id="outline-container-org4e5d74f" class="outline-4">
<h4 id="org4e5d74f">C++ Global Object Construction</h4>
<div class="outline-text-4" id="text-org4e5d74f">
<ul class="org-ul">
<li>objects can require code to be run to be initialised (contrast to C, where just value)</li>
<li>compiler creates list of constructors for each C++ file that need to be called for global objects
<ul class="org-ul">
<li>linker combines all lists into 1 &amp; add code to call all constructors</li>
<li>order of global object construction is undefined</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org323f0b8" class="outline-4">
<h4 id="org323f0b8">Templates</h4>
<div class="outline-text-4" id="text-org323f0b8">
<ul class="org-ul">
<li>Two methods for dealing with templates
<ul class="org-ul">
<li>compiler creates multiple instances of symbols (wherever that template gets used)
<ul class="org-ul">
<li>created as weak references so linker throws away all but 1</li>
</ul></li>
<li>Machine code gets generated by linker
<ul class="org-ul">
<li>saves space in object file</li>
<li>slow link since has to call compiler</li>
<li>linker has to track where headers files are</li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org9d0e1d4" class="outline-4">
<h4 id="org9d0e1d4">Dynamically Loaded Libraries</h4>
<div class="outline-text-4" id="text-org9d0e1d4">
<ul class="org-ul">
<li>Shared libraries can be loaded at runtime with <code>dllopen=/=LoadLibrary</code></li>
<li>Address of symbol got with <code>dllsym</code></li>
<li>Interaction with C++
<ul class="org-ul">
<li><code>dllsym</code> takes mangled name so can't be used portably</li>
<li>Usually best to have single extern "C" entry point that could be factory for creating C++ class</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org40a7d33" class="outline-4">
<h4 id="org40a7d33">Resources</h4>
<div class="outline-text-4" id="text-org40a7d33">
<ul class="org-ul">
<li>John Levine: Linkers and Loaders</li>
<li>Peter Van Der Linden: Expert C Programming</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org8d1b043" class="outline-3">
<h3 id="org8d1b043">When the Hot Loop's Done: Four Quick Tips for High Throughput</h3>
<div class="outline-text-3" id="text-org8d1b043">
<p>:Author:   Herb Sutter<br/>:Source:   <a href="https://herbsutter.com/2020/04/01/when-the-hot-loops-done">https://herbsutter.com/2020/04/01/when-the-hot-loops-done</a></p>
<ul class="org-ul">
<li>Avoid holding locks or resources</li>
<li>Don't acquire locks or resources (and test to avoid freeing resources)</li>
<li>Keep all blocking operations outside performance critical sections</li>
<li>Don't do IO in hot loops
<ul class="org-ul">
<li>instead defer it by buffering up the side effects using a lock free ring buffer</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org8a9ece6" class="outline-3">
<h3 id="org8a9ece6">Effective CMake</h3>
<div class="outline-text-3" id="text-org8a9ece6">
<p>:Author:   Daniel Pfeifer<br/>:Source:   <a href="https://www.youtube.com/watch?v=bsXLMQ6WgIk&amp;t=4539s">https://www.youtube.com/watch?v=bsXLMQ6WgIk&amp;t=4539s</a></p>
<ul class="org-ul">
<li>treat CMake config like code</li>
<li>Directories: entry point must contain CMakeLists.txt
<ul class="org-ul">
<li>subdirectories: <code>add_subdirectory()</code></li>
</ul></li>
<li>Scripts: &lt;script&gt;.cmake can be executed with cmake -P &lt;script&gt;.cmake</li>
<li>Modules: &lt;script.cmake&gt; in CMAKE_MODULE_PATH. Can be loaded by include()</li>
<li>Scripting commands change state of command processor</li>
<li>Variables:
<ul class="org-ul">
<li>are not environment variable</li>
</ul></li>
<li>comments: # single line
<ul class="org-ul">
<li>#[==[ multi-line comments. number of equals signs is variable which allows nesting of comments</li>
</ul></li>
<li>Generator expressions: $&lt;&gt; syntax
<ul class="org-ul">
<li>not evaluated by command interpreter</li>
<li>evaluated during build system generation</li>
</ul></li>
<li>Custom commands
<ul class="org-ul">
<li>either function() or macro()</li>
<li>Difference like C++</li>
<li>when overwrite old function then old access with '_' prefix</li>
<li>function:
<ul class="org-ul">
<li>ARGC number of arguments</li>
<li>ARV list of arguments</li>
</ul></li>
<li>Macro have the same variables available except they use text replacement (eg.${ARGC})</li>
<li>Create macros to wrap commands that have output parameters
<ul class="org-ul">
<li>because don't know what parent will set in its scope so can get same side effects as wrapped function</li>
</ul></li>
</ul></li>
<li>Deprecating functions
<ul class="org-ul">
<li>wrap function in macro with a deprecation message [12:32] (then run original command)</li>
</ul></li>
<li>Deprecate variable using <code>variable_watch</code> [13:20]</li>
<li>Modern CMake about targets and properties</li>
<li>prefer to use <code>add_library</code> + <code>target_link_library</code> multiple times than collect all sources into variables</li>
<li>Avoid custom variables in the arguments of project commands</li>
<li>Don't use file(GLOB) in projects
<ul class="org-ul">
<li>problem because it evaluates glob to get a list of files and gives that list to the actual build system. Means that the build system won't pick up on new files until cmake is run again.
<ul class="org-ul">
<li>but is useful in scripting</li>
</ul></li>
</ul></li>
<li>Can think of targets a objects
<ul class="org-ul">
<li><code>add_executable</code> and <code>add_library</code> like constructors</li>
<li>have series of member functions [18:18]</li>
</ul></li>
<li>Don't use following commands because it's better to act on target level while these act on a directory level:
<ul class="org-ul">
<li><code>add_compile_options</code>, <code>include_directories</code>, <code>link_directories</code>, <code>link_libraries</code></li>
</ul></li>
<li><code>target_compile_features</code>: used to specify needed features for target
<ul class="org-ul">
<li>PUBLIC keyword is used for public header</li>
<li>PRIVATE for private implementation file</li>
</ul></li>
<li>Both the build specification (what is required for builds) and usage requirements (what is needed to use) is defined for a target.
<ul class="org-ul">
<li>Non-INTERFACE properties define build</li>
<li>INTERFACE properties define usage</li>
<li>PRIVATE populates non-INTERFACE property</li>
<li>INTERFACE populates INTERFACE property</li>
<li>PUBLIC populates both. Because it is valid both for target and other targets linking it</li>
</ul></li>
<li>INTERFACE libraries have no build specification
<ul class="org-ul">
<li><p>
eg. 
</p>
<div class="org-src-container">
<pre class="src src-cmake"><span style="color: #66fc4c;">add_library</span><span style="color: #ffffff;">(</span>Bar INTERFACE<span style="color: #ffffff;">)</span>
<span style="color: #66fc4c;">target_compile_definitions</span><span style="color: #ffffff;">(</span>Bar INTERFACE Bar=1<span style="color: #ffffff;">)</span>
</pre>
</div>
<ul class="org-ul">
<li>only has usage requirements</li>
<li>useful for header only libraries</li>
</ul></li>
</ul></li>
<li>How to use external libraries:
<ul class="org-ul">
<li>library can be found with eg.
<code>find_package(FOO 2.0 REQUIRED)</code></li>
<li>then linked with
<code>target_link_libraries(... Foo::Foo ...)</code> since find_package creates a Foo namespace</li>
<li>find_package searches for a find module [31:21]
<ul class="org-ul">
<li>this does the actual searching and importing of library and properties</li>
</ul></li>
<li>use a find module for libraries that aren't built with CMake</li>
<li>CMake allows exporting of library interface for users to use [38:00]
<ul class="org-ul">
<li>involves saving install targets to variable</li>
<li>write another file to specify where to find the dependencies of the library which gets installed with the exported file</li>
</ul></li>
</ul></li>
<li>Can create packages with CPack</li>
<li>CTest can be used with CMake scripts and is the place to set up CI builds.
<ul class="org-ul">
<li>CTest supports -j switch</li>
</ul></li>
<li>Follow a naming convention for test names. This simplifies filtering by regex</li>
<li>Can have tests that fail to build [1:02]</li>
<li>Static analysis
<ul class="org-ul">
<li>clang-tidy</li>
<li>include-what-you-use: analyses use of what you've #include</li>
<li>dazy: checks for C++ anti-patterns</li>
<li>CMake has target properties for listed tools (eg.CXX_CLANG_TIDY), which runs tool with compiler [1:10]
<ul class="org-ul">
<li>initialized with CMAKE_&lt;property&gt;</li>
<li>tools may not show warnings for header files with no source file. Solution is to have empty source file which #include header. May be compiler warning.</li>
</ul></li>
<li>enable static analysis from outside [1:15]</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-orge09d9a1" class="outline-3">
<h3 id="orge09d9a1">Naming is Hard: Let's Do Better</h3>
<div class="outline-text-3" id="text-orge09d9a1">
<p>:Author:   Kate Gregory<br/>:Source:   <a href="https://www.youtube.com/watch?v=MBRoCdtZOYg">https://www.youtube.com/watch?v=MBRoCdtZOYg</a></p>
<ul class="org-ul">
<li>Naming is a learned skill.</li>
<li>Good names require less comments in code.</li>
<li>The wrong names can lie.</li>
<li>When refactoring, a method is to use extremely verbose names and then it will become clear what the name should be.</li>
<li><code>sort</code> and <code>partial_sort</code> are examples of good names.</li>
<li><code>partial_sort_copy</code> is an example of a good implementors name but doesn't address the problem that users normally have when they are looking for that function.
<code>top_n</code> would have been a better user name.</li>
<li>Always call everything by the same name (don't use a different name for users and developers).</li>
<li>Don't invent business words for parts of functions.</li>
<li>Prefer single English words over implementation specific words.</li>
<li>Don't mismatch natural pairs (begin &amp; end not begin &amp; last)</li>
<li>Functions should use verbs with helper verbs if needed (isEmpty() vs. Empty())</li>
<li>If you need to use <code>nodiscard</code> it means your name confuses people.</li>
<li>If similar functions have similar names they will appear together in the IDE autocomplete list.</li>
<li>Member function parameters should help the caller.</li>
<li>If you are decorating variables to distinguish member variables then decorate members rather than parameters.</li>
<li>Classes should be Nouns.</li>
<li>Anything with '-er' is suspect without a Noun (what does 'Manager' manage).</li>
<li>Try to follow traditions (open/close a file, get/set).</li>
<li>Answer the question the calling code is asking: rather than having <code>getStatus()</code> followed by a check to see if it is approved just have a function called <code>isApproved()</code>.</li>
<li>Very small names are fine in a very small scope.</li>
<li>If there is only one template typename then <code>T</code> is fine.</li>
<li>Any more than that then all should have meaningful names.</li>
<li>Don't use temporary names because nothing written in the code will make you change it.
Instead just name things as best as you can and then fix it later.</li>
<li>Always fix a name when you understand it.</li>
</ul>
</div>
</div>
<div id="outline-container-org49d870c" class="outline-3">
<h3 id="org49d870c">Postmodern C++</h3>
<div class="outline-text-3" id="text-org49d870c">
<p>:Author: Tony van Eerd<br/>:Source: <a href="https://www.youtube.com/watch?v=Zx_Tjp9WIII">https://www.youtube.com/watch?v=Zx_Tjp9WIII</a></p>

<p>
When not following a typical pattern leave a comment explaining why not (eg. when using a container 
other than vector).
</p>

<p>
An API is defined by the calling code more than by the implementation.
How people use it <b>is</b> the API.
</p>

<p>
Give a function only when it needs rather than everything in an object to let it take what it wants.
</p>

<p>
Flexible formatting can aid with communication.
</p>

<p>
Spin things into their own functions.
It doesn't have to be used multiple times.
</p>

<p>
[Quite an entertaining talk, notes don't really cover it.]
</p>
</div>
</div>
<div id="outline-container-orgf57a6b1" class="outline-3">
<h3 id="orgf57a6b1">Quickly Testing Legacy C++ Code with Approval Tests</h3>
<div class="outline-text-3" id="text-orgf57a6b1">
<p>:Author:   Clare Macrae<br/>:Source:   <a href="https://www.youtube.com/watch?v=3GZHvcdq32s">https://www.youtube.com/watch?v=3GZHvcdq32s</a></p>
<ul class="org-ul">
<li>Approval tests lock down the current behaviour.</li>
<li>Golden master: input data and save the output.
<ul class="org-ul">
<li>while making changes compare the output to master.</li>
</ul></li>
</ul>
<p>
Approvaltests is an implementation of Golden Master testing which runs on many languages.
It supports GoogleTest, Catch2 and doctest.
It's header-only.
The main.cpp needs to define which test framework you're using.
<code>Approvals::verify</code> gets the output of a run.
ApprovalTests.cpp is the C++ version (.cpp is just part of the project name).
It manages saving the output to files (named according to the test name).
It can take sequences with input and then run the test with every combination of those containers.
It then shows a graphical diff tool on test failure except when running in CI systems (which it automatically detects apparently).
The reporter can be customised.
Custom verification functions can be created for results that aren't text or not normal.
[The example was she wrote a custom comparison function which ignores differences under a threshold for picture outputs.]
</p>
</div>
</div>
<div id="outline-container-org23b7f13" class="outline-3">
<h3 id="org23b7f13">C++ Sanitizers and Fuzzing for the Windows Platform Using New Compilers</h3>
<div class="outline-text-3" id="text-org23b7f13">
<p>:Author:   Jim Radigan<br/>:Source:   <a href="https://www.youtube.com/watch?v=0EsqxGgYOQU">https://www.youtube.com/watch?v=0EsqxGgYOQU</a></p>
<p>
Pointers and types make static analysis really difficult.
</p>
</div>
<div id="outline-container-org3e39542" class="outline-4">
<h4 id="org3e39542">Address Sanitizer</h4>
<div class="outline-text-4" id="text-org3e39542">
<p>
The compiler adds instrumentation code and calls into the runtime.
The sanitizer runtime adds hooks to allocation functions, which doesn't need a recompile and has zero false positives.
The address sanitizer should be combined with fuzzing.
Fuzzing involves running the application with random inputs.
Code paths can be kept track of while fuzzing to make sure everything runs.
Windows can create snapshot files that contain all the memory mapping.
These can be opened in Visual Studio 2019 so the program will be in the exact state it was when it crashed.
VS ASAN includes an undefined behaviour (UB) sanitizer.
</p>
</div>
</div>
</div>
<div id="outline-container-orgf9e130e" class="outline-3">
<h3 id="orgf9e130e">Small is Beautiful: Techniques to Minimize Memory Footprints</h3>
<div class="outline-text-3" id="text-orgf9e130e">
<p>:Author: Steven Pigeon<br/>:Source: <a href="https://www.youtube.com/watch?v=Dxy66x6v4HE">https://www.youtube.com/watch?v=Dxy66x6v4HE</a></p>
<ul class="org-ul">
<li>Pointers can be compressed
<ul class="org-ul">
<li>Some data structures are pointer rich so large amount of space is used by pointers</li>
<li>Computers have much less memory than the theoretical limit that can be addressed by a 64-bit pointer
<ul class="org-ul">
<li>And even less than that is actually used</li>
</ul></li>
<li>Most CPUs can't use more than a 36-bit address</li>
<li>OS gives program blocks of memory</li>
<li>[4:00] Template for compressing pointers
<ul class="org-ul">
<li>Takes type and number of bits to use</li>
<li>Check if the pointer is closer to the start or end of the memory block and encodes that</li>
<li>Then can store the offset from the top or the bottom</li>
</ul></li>
<li>GCC has functions for getting the actual memory address</li>
</ul></li>
<li>We often use larger than needed types
<ul class="org-ul">
<li>enum defaults to using ints</li>
<li>[has an example of templates that takes the max value and returns the number of bits required to store that and then another that takes the number of bits and returns a type]</li>
<li>[has system for finding the smallest number of bits needed for a value. Something involving sub-bitfields]</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org5e1d558" class="outline-3">
<h3 id="org5e1d558">C++ Code Smells</h3>
<div class="outline-text-3" id="text-org5e1d558">
<p>:Author:   Jason Turner<br/>:Source:   <a href="https://www.youtube.com/watch?v=f_tLQl0wLUM">https://www.youtube.com/watch?v=f_tLQl0wLUM</a></p>
<p>
Lots of guidelines have been published.
The idea of smells is they are indications to help apply the rules from the guidelines.
</p>
<ul class="org-ul">
<li>Construction of variable separate from assignment</li>
<li>Raw Loops: raw loops don't express intent but algorithms do</li>
<li>Multi-step functions: should probably be split into multiple functions</li>
<li>Code with implicit constructors</li>
<li><code>std::move</code> 
<ul class="org-ul">
<li><code>std::move</code> is a unconditional cast to an rvalue reference</li>
<li>return by move prevents move elision</li>
</ul></li>
<li>Casting away const</li>
<li>Static variables generate a check before every access (C++17 says it must be initialized thread safely)
<ul class="org-ul">
<li><code>const static</code> doesn't have that overhead</li>
</ul></li>
<li><code>extern const</code>: can often just be <code>constexpr</code></li>
<li><code>std::size()</code> is a generic function (like begin &amp; end)</li>
<li>Kate Gregory recommends making everything <code>const</code> because the compiler helps you not changes things you shouldn't</li>
<li>don't use <code>const</code> on return type as it will result in a copy when assigned to a variable
<ul class="org-ul">
<li>exception is when the assigned to variable is also <code>const</code></li>
</ul></li>
<li>clang-tidy has check for string -&gt; cstring -&gt; string conversions</li>
<li>member variables should not be const?</li>
</ul>
</div>
</div>
<div id="outline-container-org07e86c7" class="outline-3">
<h3 id="org07e86c7">Great C++ <code>is_trivial</code></h3>
<div class="outline-text-3" id="text-org07e86c7">
<p>:Author: Jason Turner<br/>:Source: <a href="https://www.youtube.com/watch?v=ZxWjii99yao">https://www.youtube.com/watch?v=ZxWjii99yao</a></p>
<p>
RVO doesn't happen when returning structured bindings since they end up pointing to a hidden structure.
In that case it makes sense to return with <code>std::move</code>.
</p>

<p>
<code>is_trivially_destructible</code>: default destructor is trivial.
Defining a destructor makes it not trivial.
Having a non-trivially destructible member makes it non-trivially destructible.
</p>

<p>
<code>is_trivially_copyable</code>: needs a non-deleted destructor.
Needs a trivial copy constructor, move constructor, copy assign operator, move assign operator and
destructor.
</p>

<p>
<code>is_trivially_constructible</code>: can't call non-trivial operator during construction.
It takes the type and the arguments that would be passed to the constructor.
A non-default constructor is not trivial.
</p>

<p>
<code>is_trivially_default_constructible</code>: pretty much the default constructor doesn't do anything.
The following isn't trivial default constructible because the compiler generates a constructor 
that sets <code>i</code> to 0.
</p>
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #ff6347;">struct</span> <span style="color: #ee99ff;">S</span> <span style="color: #ffffff;">{</span>
  <span style="color: #ee99ff;">int</span> <span style="color: #eedd82;">i</span><span style="color: #00bfff;">{}</span>;
<span style="color: #ffffff;">}</span>;
</pre>
</div>
<p>
Not so important since it makes initialization so painful.
</p>

<p>
<code>is_trivially_copy_constructible</code>: trivially constructible with itself.
The <code>S</code> struct above is trivially copy constructible.
</p>

<p>
<code>is_trivially_assignable</code>: won't call non-trivial operations.
</p>

<p>
There are load of other <code>is_trivially_</code> checks.
</p>

<p>
<code>is_trivial</code>: includes basic types and class types that are trivially constructible and have a default 
constructor that is trivial (and does not have virtual functions).
</p>

<p>
Out parameters open the door for UB if it captures an uninitialised variable.
</p>

<p>
<code>std::array</code> is trivial if it contains a trivial type.
</p>

<p>
Things that can't be trivial include:
</p>
<ul class="org-ul">
<li>anything with a destructor</li>
<li>runtime polymorphic objects</li>
<li>anything using the heap (or dealing with resource)</li>
</ul>

<p>
Rule of Zero gives the compiler lots of room to optimize code.
</p>

<p>
Triviality is important when writing <code>constexpr</code> friendly code.
</p>
</div>
</div>

<div id="outline-container-org7e25c12" class="outline-3">
<h3 id="org7e25c12">Rethinking Exceptions</h3>
<div class="outline-text-3" id="text-org7e25c12">
<p>:Author:   Jason Turner<br/>:Source:   <a href="https://www.youtube.com/watch?v=OkgvqjJzH_Y">https://www.youtube.com/watch?v=OkgvqjJzH_Y</a></p>
<ul class="org-ul">
<li>Why not Exceptions:
<ul class="org-ul">
<li>bloat binary size, can be slower</li>
<li>compiler cannot elide or optimise</li>
</ul></li>
<li>Why
<ul class="org-ul">
<li>thread safety - impossible to ignore</li>
<li>work with RVO/NRVO</li>
</ul></li>
<li>not best solution for everything</li>
<li><code>noexcept</code> specifier:
<ul class="org-ul">
<li>function without noexcept then function allowed to throw</li>
<li>has specifier then can't throw</li>
<li>can have constant conditional to decide if can throw</li>
<li>can have them on lambda</li>
</ul></li>
<li>noexcept operator: return true if expression can't throw.</li>
<li>noexcept: if noexcept function throws then std::terminate can be thrown
<ul class="org-ul">
<li>stack may/may not be unwound before terminate</li>
</ul></li>
<li>compiler just ignores exception handlers around noexcept function calls</li>
<li>In case of generic function which calls an unknown other function then if that function were noexcept then compiler optimize away try/catch statements
<ul class="org-ul">
<li>Only uses what it needs</li>
</ul></li>
<li>debugging unhandle exceptions can be hard</li>
<li>if you think function should be noexcept but can't then probably have a design flaw</li>
<li>forces you to think about lifetime of code</li>
<li>rather than using <code>-fnoexceptions</code> use noexcept which makes promise to users
<ul class="org-ul">
<li>compiler can make the same optimisations</li>
</ul></li>
<li>provides more semantic information to the compiler</li>
</ul>
</div>
</div>

<div id="outline-container-org5a91607" class="outline-3">
<h3 id="org5a91607">Using Freestanding C++ to add C++17 to your Shellcode, UEFI, Embedded Systems</h3>
<div class="outline-text-3" id="text-org5a91607">
<p>:Author:   Rian Quinn<br/>:Source:   <a href="https://www.youtube.com/watch?v=bKPN-CGhEC0">https://www.youtube.com/watch?v=bKPN-CGhEC0</a></p>
<ul class="org-ul">
<li>Freestanding: compiler flag <code>-freestanding</code>
<ul class="org-ul">
<li>no standard libraries or C runtime support</li>
</ul></li>
<li>Cross-compile all of llvm, lbcxxabi, lbcxx and newlib (C runtime) for the freestanding environment
<ul class="org-ul">
<li>this is to avoid rewriting stuff from the standard library</li>
<li>requires bunch of compiler flags [6:44] and linker flags [8:45]</li>
<li>CMake flags to disable a bunch of features that don't make sense [9:55]</li>
</ul></li>
<li>The C runtime:
<ul class="org-ul">
<li>initialises global variables</li>
<li>executes main with args</li>
</ul></li>
<li>There are a bunch of extra sections in a binary that are needed by C++ features</li>
<li>Normally freestanding environment just has <code>_start</code> function (no <code>main</code>)</li>
</ul>
<p>
Standalone C++ Project: allows including C++ in any environment
</p>
<ul class="org-ul">
<li>supports exceptions with custom unwinder</li>
<li>header-only ELF loader</li>
<li>C loader used to load the C++ application which has std library and environment
<ul class="org-ul">
<li>C loader compiler for freestanding</li>
</ul></li>
<li>Supports CMake
<ul class="org-ul">
<li>need a toolchain file with all the tools</li>
</ul></li>
<li>The Loader:
<ul class="org-ul">
<li>doesn't have to be for a freestanding environment (some environments provide more than others)</li>
<li>is the entry point</li>
<li>runs <code>fexec</code> (the header only ELF loader) to load the C++ stuff
<ul class="org-ul">
<li>have to provide a print function</li>
</ul></li>
<li>xxe: takes C++ elf binary and creates a header from it that then is included in loader
<ul class="org-ul">
<li>could also use linker</li>
</ul></li>
<li>load ELF file into memory then execute that (at run time)</li>
</ul></li>
<li>standalone-cxx provides several callback functions that are filled in to provide functionality
<ul class="org-ul">
<li>which functionality wanted depends on the environment</li>
</ul></li>
<li>static variables are registered with exit function to clean up on quit</li>
<li>Only supports amd64</li>
<li>only supports static pi (PIE)</li>
<li>plans to add Windows support</li>
</ul>
</div>
</div>
<div id="outline-container-org8a9fcfa" class="outline-3">
<h3 id="org8a9fcfa">Lock Free Programming</h3>
<div class="outline-text-3" id="text-org8a9fcfa">
<p>:Author:   Herb Sutter<br/>:Source:   <a href="https://www.youtube.com/watch?v=c1gO9aB9nbs&amp;t=2338s">https://www.youtube.com/watch?v=c1gO9aB9nbs&amp;t=2338s</a></p>
<ul class="org-ul">
<li>can be used to slipstream work, get more done at once</li>
<li>measure before and after implementing lock free</li>
<li>think in terms of transactions - taking system from one valid state to another</li>
<li><code>std::atomic&lt;T&gt;</code></li>
<li>Atomic: reads/writes indivisible
<ul class="org-ul">
<li>remember to initialize</li>
</ul></li>
<li>3 Types of Lock-free
<ul class="org-ul">
<li>Wait-free: no one ever waits ideal when possible provide throughput &amp; no one will ever starve</li>
<li>Lock-free: someone making progress (individual threads may wait ( potentially forever (starve)))</li>
<li>Obstruction free</li>
</ul></li>
<li>Double Checking Locking
<ul class="org-ul">
<li>isn't broken when using an atomic variable [20:00]</li>
</ul></li>
<li>atomic writes can have significant overhead reads normally have little to no overhead
<ul class="org-ul">
<li>at least on x86 (more overhead on arm)</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org3ea099d" class="outline-3">
<h3 id="org3ea099d">Compute More in Less Time Using C++ SIMD Wrapper Libraries</h3>
<div class="outline-text-3" id="text-org3ea099d">
<p>:Source:   <a href="https://www.youtube.com/watch?v=8khWb-Bhhvs">https://www.youtube.com/watch?v=8khWb-Bhhvs</a><br/>:Author:   Jefferson Amstutz</p>
<ul class="org-ul">
<li>SIMD wrapper libraries are not the only way to use SIMD but does do it within the type system</li>
<li>SIMD: Single Instruction Multiple Data</li>
<li>SIMT: Single Instruction Multiple Threads</li>
<li>Kernel: Code/function which is applied to multiple pieces of data</li>
<li>Good for running the same code on lots of data</li>
<li>Number of transistors in CPUs are increasing but are spent on multiprocessing
<ul class="org-ul">
<li>provides wider SIMD</li>
<li>if you're not using SIMD you're not fully using the CPU</li>
</ul></li>
<li>SIMT expresses parallelism generally but not targetting specific hardware
<ul class="org-ul">
<li>SIMD very hardware focused</li>
</ul></li>
<li>wrapper libraries provide abstraction over SIMD registers</li>
<li>Vc: SIMD wrapper lib (looking into standardisation)</li>
<li>SIMD expressed in terms of registers with specific width (eg. 6 floats)
<ul class="org-ul">
<li><code>pack</code>: SIMD register worth of values
<ul class="org-ul">
<li>specify width and type</li>
<li>can set width to whatever best suits ISA (instruction set)</li>
<li>pack of bool (vbool) is an exception and size depends on the logic operation you are doing
<ul class="org-ul">
<li>comparing <code>vint</code> will mean each bool in the vbool will take 32 bits</li>
</ul></li>
<li>Data input and output of a pack with <code>load</code>, <code>store</code>, <code>scatter</code> and <code>gather</code>
<ul class="org-ul">
<li><code>scatter</code> and <code>gather</code> take offsets to get/put values into elements of a data structure. <code>gather</code> could take {1,3,4,8} which would take those elements from an array (for example) and stick them into a pack</li>
</ul></li>
<li><code>reduce</code>: take all elements in a pack and process down to a single element
<ul class="org-ul">
<li>Always use the algorithm if it is provided because sometimes an instruction exists for doing this.</li>
</ul></li>
</ul></li>
</ul></li>
<li><code>#pragma omp for simd</code>: says to compiler it can vectorise even if it is worried about getting something wrong</li>
<li>Data layouts
<ul class="org-ul">
<li>Array of Structures: AoS</li>
<li>Structure of Arrays: SoA: horizontal vectorization. Prefer using this. More scalable. Readable: allows varying native SIMD register size</li>
<li>Array of Structures of arrays - AoSoA</li>
</ul></li>
<li>Beware of overloaded <code>&amp;&amp;</code> and <code>||</code> operators because they won't be short circuiting (because that's how they work in C++ when they are overloaded (not a SIMD specific thing))</li>
</ul>
</div>
</div>
<div id="outline-container-org23ad05b" class="outline-3">
<h3 id="org23ad05b">A Unifying Abstraction for Async in C++</h3>
<div class="outline-text-3" id="text-org23ad05b">
<p>:Author:   Eric Niebler, David Hollman<br/>:Source:   <a href="https://www.youtube.com/watch?v=tF-Nz4aRWAM">https://www.youtube.com/watch?v=tF-Nz4aRWAM</a></p>
<p>
Concurrency is not the same as parralellism.
Concurrency: where multiple tasks run with inter-task dependencies.
The tasks will definitely happen at the same time.
</p>

<p>
Parallelism: there are no dependencies between tasks so they can be run in any order.
Tasks won't necessarily happen at the same time.
Parallelism puts less restrictions on the scheduler.
</p>

<p>
<code>std::future</code> does type erasure, allocation and synchronisation (because it has state that gets
accessed from multiple threads), which makes it slow.
</p>

<p>
A continuation is work to do after the <code>future</code> has finished.
In Boost futures it is implemented as a <code>.then</code> member function.
</p>

<p>
The talk describes a system of lazy futures, which use higher order functions.
The system means the futures can be composed and have no allocations, synchronisation, 
or type erasure.
They also only block when the user wants them to.
</p>

<p>
Continuation becomes a generic algorithms that takes a lazy future and a function object
for the continuation and returns a lambda that will do the actual work.
</p>

<p>
Blocking can also be a generic algorithm that takes a task.
</p>

<p>
Laziness is fundamental, things can be made eager without extra cost but eager can't be made lazy.
</p>

<p>
There's a reference implementation of ideas in Folly.
</p>

<p>
[Apparently coroutines are pretty cool.]
</p>
</div>
</div>
<div id="outline-container-org10b1605" class="outline-3">
<h3 id="org10b1605">Behind the Scenes of a C++ Build System</h3>
<div class="outline-text-3" id="text-org10b1605">
<p>:Author:   Jussi Pakkanen<br/>:Source:   <a href="https://www.youtube.com/watch?v=34KzT2yvQuM">https://www.youtube.com/watch?v=34KzT2yvQuM</a></p>
<ul class="org-ul">
<li>all platforms have weird quirks and challenges</li>
<li>C++ &amp; C are at the bottom of the software stack and things get weird down there</li>
<li>2 types of build systems:
<ul class="org-ul">
<li>App build systems: makes executables (this is the build system most programming languages have)</li>
<li>Core build systems: For low-level system software (only a few systems here: makefiles, CMake, Meson (CMake and Meson are only a small part of it though))</li>
</ul></li>
<li>C++ build systems have to solve problems other languages' build systems don't need to because of it being a systems language</li>
<li>Most projects when bootstrapping a new platform will either
<ul class="org-ul">
<li>cross compile a minimal set of tools and then compile everything else natively (the most common one)
<ul class="org-ul">
<li>Then can't use a build system using Java, Haskell, C++17, etc because the maintainers won't use it (it would be a pain to get it ported)
<ul class="org-ul">
<li>Meson uses python which has led to people not using it</li>
</ul></li>
</ul></li>
<li>Cross compile everything</li>
</ul></li>
<li>Optimize build speeds
<ul class="org-ul">
<li>use shared libraries
<ul class="org-ul">
<li>provides faster linking [during build at least]</li>
<li>some linking steps disappear since if the shared libraries exported symbols don't change then nothing needs to be relinked</li>
</ul></li>
</ul></li>
<li>Non Turing completeness means lots of work at the start
<ul class="org-ul">
<li>it requires learning the system features and working to get new features into the system</li>
<li>but when everything is added it should all work together really well</li>
</ul></li>
<li>Gnome Builder: container native IDE - all the dependencies are in flatpacks</li>
</ul>
</div>
</div>
<div id="outline-container-org70f3829" class="outline-3">
<h3 id="org70f3829">CppCon 2019: Latest and Greatest in Visual Studio for C++ developers</h3>
<div class="outline-text-3" id="text-org70f3829">
<p>:Source:   <a href="https://www.youtube.com/watch?v=AUE76-OrI-M">https://www.youtube.com/watch?v=AUE76-OrI-M</a></p>
<ul class="org-ul">
<li>When loading CMake projects you can pass parameters to CMake with configuration</li>
<li>Has a CMake targets view</li>
<li>Filter in search with a character prefix
<ul class="org-ul">
<li>f: file</li>
<li>t: targets + several more</li>
</ul></li>
<li>Can create bookmarks in code and navigate with F2</li>
<li>If CTest is configured then VS can pick up the tests and run them.</li>
<li>Static analysis runs in the background by default and shows squiggles [might not see this when using VS2015 projects]</li>
<li>Ctrl + . provides suggestions</li>
<li>'Manage Configurations &gt; WSL-Debug'
<ul class="org-ul">
<li>allows building and running in WSL</li>
<li>can then run in the debugger (uses GDB)</li>
</ul></li>
<li>VS knows how to build with clang
<ul class="org-ul">
<li>is in the 'Manage Configurations' list</li>
<li>VS installer includes Clang</li>
</ul></li>
<li>If using clang then VS uses clang-tidy and shows squiggles</li>
<li>Can create Github PRs in VS
<ul class="org-ul">
<li>it shows the CI checks as well</li>
</ul></li>
<li>Azure Pipelines is free with GitHub for private &amp; public repos</li>
<li>Live share environment</li>
<li>Microsoft STL is open source</li>
<li>Incredibuild in VS installer: up to 16 cores for free</li>
<li>Support more <code>openmp</code> SIMD pragmas</li>
</ul>
</div>
</div>
<div id="outline-container-orga16dd1c" class="outline-3">
<h3 id="orga16dd1c">How to Write a Heap Profiler</h3>
<div class="outline-text-3" id="text-orga16dd1c">
<p>:Author:   Milian Wolff<br/>:Source:   <a href="https://www.youtube.com/watch?v=YB0QoWI-g8E&amp;t=2s">https://www.youtube.com/watch?v=YB0QoWI-g8E&amp;t=2s</a></p>
<ul class="org-ul">
<li>Heap profiling method used is tracing</li>
<li>Tracing requirements
<ul class="org-ul">
<li>performance - must deal with millions of events per second</li>
<li>Zero overhead when not used</li>
</ul></li>
<li>Existing trace framework
<ul class="org-ul">
<li>perf with selt/aprobe</li>
<li>lltng-ust</li>
<li>LLVM-XRay</li>
</ul></li>
<li>wanting to inject code into running app &amp; intercept calls to heap (de)allocation</li>
<li>Dynamic linker can inject custom code
<ul class="org-ul">
<li>uses <code>LD_PRELOAD</code> to link library before app which makes it like the app linked against the library</li>
<li>Then can override the functions that you want to intercept</li>
</ul></li>
<li><code>dlsym</code> to get a pointer to function given name</li>
<li><code>printf</code> allocates a large buffer once</li>
<li>Stack unwinding
<ul class="org-ul">
<li>needed to get a backtrace</li>
<li>on gcc &amp; clang <code>-fno-omit-frame-pointer</code> to use frame pointer
<ul class="org-ul">
<li>need malloc to have a frame pointer</li>
<li>never mind it's really hard without compiling the entire system</li>
</ul></li>
<li>libunwind: for doing stack unwinding</li>
</ul></li>
<li>Symbol Resolution
<ul class="org-ul">
<li>symbols at level of linker is huge</li>
<li>can get ELF mappings with dl_iterate_phdr
<ul class="org-ul">
<li>pass it a C pointer</li>
</ul></li>
</ul></li>
<li>Inline Frames
<ul class="org-ul">
<li>to get the symbols that have been inlined</li>
<li>libdwfl, CU DIE</li>
<li>CU DIE lookup with <code>dwfl_module_addrdie</code></li>
</ul></li>
<li>Runtime Attaching
<ul class="org-ul">
<li>Code injection: open debugger and call <code>dlopen</code></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org1e7cc5d" class="outline-3">
<h3 id="org1e7cc5d">Algorithm Intuition (part 1 of 2)</h3>
<div class="outline-text-3" id="text-org1e7cc5d">
<p>:Author:   Conor Hoekstra<br/>:Source:   <a href="https://www.youtube.com/watch?v=pUEnO6SvAMo">https://www.youtube.com/watch?v=pUEnO6SvAMo</a></p>
<ul class="org-ul">
<li><code>minmax_element</code> gives pair with min and max of the container.</li>
<li><code>std::cbegin</code> &amp; <code>std::cend</code> are const versions of <code>std::begin/end</code> (return 
const iterators).</li>
<li>If you find yourself writing simple lambdas check the operators in 
the functional header.</li>
<li><code>iota</code> can be used to create a sequence. <code>iota(begin(v), end(v), 1);</code> 
produces 1,2,3&#x2026;,size of v</li>
<li>Lots of the other algorithms can be implemented using <code>reduce</code> (called fold 
in other languages)</li>
<li><code>inner_product</code> takes two ranges and two lambdas.
<ul class="org-ul">
<li>The second lambda is called first then the first lambda is called to reduce the
results to a single value.</li>
</ul></li>
<li><code>transform_reduce</code>: is like <code>inner_product</code> but the second lambda can be unary (so 
transform can act on one value at a time rather than doing a zip).</li>
<li>[Conor thinks using STL algorithms would mean needing to debug less but the debugger 
would still jump in and out of the lambda]</li>
</ul>
</div>
</div>
<div id="outline-container-org8f10d48" class="outline-3">
<h3 id="org8f10d48">Algorithm Intuition (part 2 of 2)</h3>
<div class="outline-text-3" id="text-org8f10d48">
<p>:Author:   Conor Hoekstra<br/>:Source:   <a href="https://www.youtube.com/watch?v=sEvYmb3eKsw">https://www.youtube.com/watch?v=sEvYmb3eKsw</a></p>
<ul class="org-ul">
<li>The argument against using <code>inner_product</code> is that it has a bad name. It doesn't
say what it does.</li>
<li><code>partial_sum</code> sums a collection but returns a list of results for each sum.
<code>[1,1,1,1,1] -&gt; [1,2,3,4,5]</code>
Though it takes a lambda so doesn't just need to sum.
<ul class="org-ul">
<li>It's useful if you regularly need to sum from the beginning to various points in
an array.</li>
<li><code>inclusive_scan</code> does the same thing.
<ul class="org-ul">
<li><code>exclusive_scan</code> is the same but it takes an initial value (so one extra value 
would be in the result).</li>
</ul></li>
</ul></li>
<li><code>adjacent_difference</code> can be seen as a specialized <code>transform</code>.</li>
</ul>

<table rules="all" frame="border">


<colgroup>
<col  class="org-left">

<col  class="org-right">

<col  class="org-left">

<col  class="org-left">

<col  class="org-left">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Algorithm</th>
<th scope="col" class="org-right">Indexes Viewed</th>
<th scope="col" class="org-left">Accumulator</th>
<th scope="col" class="org-left">Reduce / Transform</th>
<th scope="col" class="org-left">Default Op</th>
<th scope="col" class="org-left">Filter aka _if</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">accumulate / reduce</td>
<td class="org-right">1</td>
<td class="org-left">Yes</td>
<td class="org-left">Reduce</td>
<td class="org-left">plus{}</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">inner_product / transform_reduce</td>
<td class="org-right">1</td>
<td class="org-left">Yes</td>
<td class="org-left">Reduce</td>
<td class="org-left">plus{}, mult{}</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">partial_sum / inclusive_scan</td>
<td class="org-right">1</td>
<td class="org-left">Yes</td>
<td class="org-left">Transform</td>
<td class="org-left">plus{}</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">exclusive_scan</td>
<td class="org-right">1</td>
<td class="org-left">Yes</td>
<td class="org-left">Transform</td>
<td class="org-left">plus{}</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">adjacent_difference</td>
<td class="org-right">2</td>
<td class="org-left">No</td>
<td class="org-left">Transform</td>
<td class="org-left">minus{}</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">transform_inclusive_scan</td>
<td class="org-right">2</td>
<td class="org-left">Yes</td>
<td class="org-left">Transform</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">adjacent_reduce</td>
<td class="org-right">2</td>
<td class="org-left">Yes</td>
<td class="org-left">Reduce</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">adjacent_find</td>
<td class="org-right">2</td>
<td class="org-left">No</td>
<td class="org-left">Reduce</td>
<td class="org-left">equal_to{}</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">transform</td>
<td class="org-right">1</td>
<td class="org-left">No</td>
<td class="org-left">Transform</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">find*</td>
<td class="org-right">1</td>
<td class="org-left">No</td>
<td class="org-left">Reduce</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">iota</td>
<td class="org-right">N/A</td>
<td class="org-left">N/A</td>
<td class="org-left">Transform</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>
<p>
Even if the algorithm looks at two containers but uses the same position it counts as an index of 1.
</p>
</div>
</div>

<div id="outline-container-orgcf1a2d0" class="outline-3">
<h3 id="orgcf1a2d0">Hello World From Scratch</h3>
<div class="outline-text-3" id="text-orgcf1a2d0">
<p>:Author:   Peter Bindels &amp; Simon Brand<br/>:Source:   <a href="https://www.youtube.com/watch?v=4V9QWHjRPMc">https://www.youtube.com/watch?v=4V9QWHjRPMc</a></p>
<ul class="org-ul">
<li>Hello world on C is seen as source file -&gt; magic -&gt; executable</li>
<li>Compilation made up of several steps
<ul class="org-ul">
<li>preprocessor
<ul class="org-ul">
<li>has macros which don't understand code</li>
<li>just handles tokens and text</li>
<li>can include files which goes all the way down until no #includes</li>
</ul></li>
<li>Compiler
<ul class="org-ul">
<li>still at level of source (text)</li>
<li>Made up of Frontend, Middle end &amp; Backend</li>
</ul></li>
<li>Assembler
<ul class="org-ul">
<li>takes assembly output of compiler and encodes it to binary</li>
<li>4 kinds of ELF files: object files, executable, shared library and core dump</li>
<li>all in same format so read the same</li>
</ul></li>
<li>Linker
<ul class="org-ul">
<li>Take all passed-in objects</li>
<li>create lookup table of symbols referenced</li>
<li>Rewrite references to point to actual symbols</li>
<li>Look through for missing symbols</li>
</ul></li>
</ul></li>
</ul>
</div>
<div id="outline-container-org47859dc" class="outline-4">
<h4 id="org47859dc">Compiler Frontend</h4>
<div class="outline-text-4" id="text-org47859dc">
<ul class="org-ul">
<li>takes preprocessed source and outputs IR</li>
<li>Lexer
<ul class="org-ul">
<li>interpret text</li>
<li>turn text into linear series of tokens that describe the text</li>
<li>After this the compiler no longer uses text</li>
<li>Lexer can be thought of as a statesystem
<ul class="org-ul">
<li>it reads 'A' then goes into 'A' state then reads 'B' so goes into 'B' state</li>
<li>simple language lexer can just be a switch statement</li>
<li>can also use external tool like flex to generate lexer</li>
</ul></li>
</ul></li>
<li>Then use parser to interpret tokens
<ul class="org-ul">
<li>parser makes use of grammar</li>
<li>generates an abstract syntax tree that allows compiler to understand the structure of the language</li>
<li>recursive descent parser?</li>
<li>hand written parser can allow for including error checking</li>
<li>automatically generated parser will check grammar</li>
<li>Recommended to use tool to check grammar then write the parser by hand
<ul class="org-ul">
<li>ANTLR is a good tool for this</li>
</ul></li>
</ul></li>
<li>Semantic analysis (check types are initialized correctly)</li>
</ul>
</div>
</div>
<div id="outline-container-org7b9641a" class="outline-4">
<h4 id="org7b9641a">Compiler Middle-end</h4>
<div class="outline-text-4" id="text-org7b9641a">
<ul class="org-ul">
<li>Intermediate Representation (IR)
<ul class="org-ul">
<li>makes it easier to support multiple languages since all languages use same tools
<ul class="org-ul">
<li>only the frontend needs to change</li>
<li>in IR want statements to be very simple so splits up statements in AST</li>
</ul></li>
<li>Optimisations are made based on analyses
<ul class="org-ul">
<li>Example is liveness of variable
<ul class="org-ul">
<li>analyze when a variable is live. If a variable is not used after the beginning of the function then it can be gotten rid of</li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-orgd175709" class="outline-4">
<h4 id="orgd175709">Compiler Backend</h4>
<div class="outline-text-4" id="text-orgd175709">
<ul class="org-ul">
<li>takes IR and transforms to assembly</li>
<li>Made up of Instruction Selection, Instruction Scheduling, Register Allocation, Target Specific Optimization &amp; Assembly Output
<ul class="org-ul">
<li>can do one stage multiple times</li>
</ul></li>
<li>Instruction Selection
<ul class="org-ul">
<li>picking ASM instructions to match IR instructions
<ul class="org-ul">
<li>can be macro expansion when each IR instruction is mapped to ASM instruction
<ul class="org-ul">
<li>this isn't so efficient so use peephole optimization afterward</li>
</ul></li>
<li>or Selection DAG (this is what LLVM uses)
<ul class="org-ul">
<li>look at IR as a Directive Acyclic Graph and look at patterns that we know are single instructions</li>
</ul></li>
</ul></li>
<li>Instruction Scheduling
<ul class="org-ul">
<li>when something is used and when used again</li>
<li>to make the most of instruction level parallelism</li>
</ul></li>
</ul></li>
<li>Register Allocation
<ul class="org-ul">
<li>fundamentally graph colouring problem</li>
<li>analyse instructions uses Leibniz analyses to form interference graph where registers that need to be alive simultaneously are connected</li>
<li>graph colouring used to say how many registers are needed</li>
<li>Register spilling: when need more registers than machine has and contents get saved temporarily on the heap</li>
</ul></li>
<li>Target Specific Optimizations
<ul class="org-ul">
<li>take into account target specific features</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org30a3364" class="outline-4">
<h4 id="org30a3364">Hello World in C++</h4>
<div class="outline-text-4" id="text-org30a3364">
<p>
<b>Compiler</b>
</p>
<ul class="org-ul">
<li>Some stuff about <code>cout</code> being massively complex and to use <code>fmtlib</code> instead</li>
<li><p>
example 
</p>
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #ff6347;">struct</span> <span style="color: #ee99ff;">weird_int</span> <span style="color: #ffffff;">{</span>
<span style="color: #ee99ff;">int</span> <span style="color: #eedd82;">i</span>;
<span style="color: #ff6347;">virtual</span> <span style="color: #ee99ff;">void</span> <span style="color: #66fc4c;">get_value</span><span style="color: #00bfff;">(){}</span>;
<span style="color: #ffffff;">}</span>;
</pre>
</div>
<ul class="org-ul">
<li>gets vtable pointer to vtable which has point to <code>get_value</code> implementation</li>
<li>everything has a unique symbol so that the linker didn't need to be modified for the C++ concepts</li>
</ul></li>
</ul>
<p>
<b>Linker</b>
</p>
<ul class="org-ul">
<li>Global initializers needs to be done before main starts</li>
<li>create global initialization function that call the constructor then destructors and objects passed to at <code>exit</code> (destroy when done)</li>
<li>need something to call this
<ul class="org-ul">
<li><code>_start</code>: runs global initializor, main, then at exit</li>
</ul></li>
</ul>
<p>
<b>From questions</b>
</p>
<ul class="org-ul">
<li>IR features can be added to handle specific feature of higher level languages.</li>
<li>Means there is no way for language without that feature to create that IR. So some optimizations may not be triggered for all languages.</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org8171a38" class="outline-3">
<h3 id="org8171a38">De-fragmenting C++: Making Exceptions and RTTI More Affordable and Usable</h3>
<div class="outline-text-3" id="text-org8171a38">
<p>:Author:   Herb Sutter<br/>:Source:   <a href="https://www.youtube.com/watch?v=ARYP83yNAWk&amp;t=335s">https://www.youtube.com/watch?v=ARYP83yNAWk&amp;t=335s</a></p>
<ul class="org-ul">
<li>makes proposal that more effort should be spent simplifying rather than adding features</li>
<li>Exception handling requires type erasure and RTTI requires binaries to store metadata
<ul class="org-ul">
<li>whether needed or not</li>
</ul></li>
<li>Many projects ban exceptions completely
<ul class="org-ul">
<li>if not using exceptions then not using std C++</li>
<li>there is no way for a constructor to signal an error without exceptions</li>
</ul></li>
<li>Why not used:
<ul class="org-ul">
<li>EH is not zero-overhead</li>
<li>increases binary sizes</li>
<li>can not statically compute space and time overhead because allocates on the heap</li>
<li>less efficient than returning by hand</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org660b08e" class="outline-3">
<h3 id="org660b08e">A Semi Compile/Run-time Map with (Nearly) Zero Overhead Lookup</h3>
<div class="outline-text-3" id="text-org660b08e">
<p>:Author:   Fabian Renn-Giles<br/>:Source:   <a href="https://www.youtube.com/watch?v=qNAbGpV1ZkU">https://www.youtube.com/watch?v=qNAbGpV1ZkU</a></p>
<ul class="org-ul">
<li>wanted a map for wrapping java classes where 90% time lookup was with a string literal
<ul class="org-ul">
<li>though needed to work at run-time</li>
</ul></li>
<li><code>reinterpret_cast</code> can cause alignment or aliasing
<ul class="org-ul">
<li><code>reinterpret_cast</code> to value is UB</li>
</ul></li>
<li><code>std::launder</code> as an alternative to reinterpret_cast in specific situations</li>
</ul>
</div>
</div>
<div id="outline-container-orgc521a5f" class="outline-3">
<h3 id="orgc521a5f">Applied WebAssembly: Compiling and Running C++ in Your Web Browser</h3>
<div class="outline-text-3" id="text-orgc521a5f">
<p>:Author:   Ben Smith<br/>:Source:   <a href="https://www.youtube.com/watch?v=5N4b-rU-OAA">https://www.youtube.com/watch?v=5N4b-rU-OAA</a></p>
<ul class="org-ul">
<li>WebAssembly is a typed stack machine
<ul class="org-ul">
<li>type of stack slot always known</li>
</ul></li>
<li>validated before execution
<ul class="org-ul">
<li>like compiling but on client end</li>
</ul></li>
<li>has machine verified formal specification
<ul class="org-ul">
<li>allows everyone to be sure implementations behave the same</li>
</ul></li>
<li>is a harvard architecture: programs state is separate from its code
<ul class="org-ul">
<li>impossible to modify its call stack</li>
</ul></li>
<li>has structured control flow
<ul class="org-ul">
<li>no goto statement</li>
<li>has <code>block</code>, <code>loop</code> and <code>if</code> which allow branching to end, front and out of block</li>
</ul></li>
<li>Webassembly can't do anything unless allowed to
<ul class="org-ul">
<li>WebAssembly modules are imported to say what can be run</li>
<li>can mean web module and non-web module can require different imports</li>
</ul></li>
<li>WASI: a stripped down POSIX
<ul class="org-ul">
<li>comes with libc to convert C functions to WASI equivalent. Still in dev</li>
</ul></li>
<li>WASM time: tool to allow run WASM in native environment</li>
<li>emscripten: more mature WASI and has pretty full featureset (audio, etc.)</li>
<li>WASM doesn't officially have threads yet
<ul class="org-ul">
<li>doesn't have bunch of functions though lld and clang don't need to use them</li>
</ul></li>
<li>WASM <code>nullptr</code> is actual location 0 in memory
<ul class="org-ul">
<li>means should leave space there in case people staring writing</li>
</ul></li>
<li><code>clang -###</code> shows which programs are being run under the hood
<ul class="org-ul">
<li>clang actually just runs other programs for work</li>
</ul></li>
<li>WASI not provided by browser so need to provide implementation</li>
<li>exceptions not supported but proposal in works
<ul class="org-ul">
<li>emscripten has way of supporting them</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org194138d" class="outline-3">
<h3 id="org194138d">C++20: C++ at 40</h3>
<div class="outline-text-3" id="text-org194138d">
<p>:Author:   Bjarne Stroustrup</p>
<ul class="org-ul">
<li>using C++: focus on essentials. Use <b>**</b> features only when necessary</li>
<li>Language  design not just product dev</li>
<li>Rules of thumb
<ul class="org-ul">
<li>Static type system
<ul class="org-ul">
<li>compile time error detection</li>
<li>more info allows compiler and optimizer do better job</li>
</ul></li>
<li>value and reference semantics</li>
<li>equal support for user-defined and build-in types</li>
<li>direct use of machine resources (is an abstraction of a machine) doesn't normally run in virtual machine
<ul class="org-ul">
<li>span: ma</li>
<li>the onion principle: c++ program has layers of abstraction. Can always pull off layers (the more layers the more you cry)</li>
</ul></li>
<li>Generic programming
<ul class="org-ul">
<li>write code work for types that meet abstract requirements</li>
<li>requirements defined as concepts</li>
</ul></li>
<li>OOP:
<ul class="org-ul">
<li>need pointers to do inheritance cause dealing with things which don't necessarily know the type</li>
</ul></li>
<li>Concurrency:
<ul class="org-ul">
<li><code>scoped_lock</code> can grab multiple locks</li>
<li>mutex are OS resource so expensive. Solution to use double locked with atomic. Use heap resource to protect expensive resource</li>
</ul></li>
</ul></li>
<li>Coroutines:
<ul class="org-ul">
<li>invocation frames instead of stack frames</li>
<li>better generators and pipelines</li>
<li>can yield and every time called continue where it was</li>
</ul></li>
<li>cppreference.com/w/cpp/links/libs</li>
<li>Best way to optimize is use good libs and std
<ul class="org-ul">
<li>needs enough abstraction for tools to understand what you're doing</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-orgad65336" class="outline-3">
<h3 id="orgad65336">C++ 20: The Small Things</h3>
<div class="outline-text-3" id="text-orgad65336">
<p>:Author: Timur Doumler</p>
<ul class="org-ul">
<li>Aggregates: can deduce constructors</li>
<li>Designated initialisers
<ul class="org-ul">
<li>came from C99</li>
<li>has to be alone in order</li>
<li>for aggregate initialisation</li>
</ul></li>
<li><code>Constinit</code>
<ul class="org-ul">
<li>forces to be initialised at compile time but isn't actually const (unlike constexpr)</li>
</ul></li>
<li>range-based for with initialiser</li>
<li>Lambdas now default constructable only if it doesn't capture
<ul class="org-ul">
<li>which allows using lambdas as member type</li>
</ul></li>
<li>Concepts like generic functions <code>auto f(auto a){}</code></li>
<li>Can use &lt;template T&gt; syntax with lambdas</li>
<li>CTAD: class template argument deduction (type deduction for templated class)
<ul class="org-ul">
<li>don't need to manually specify template type</li>
</ul></li>
<li><code>consteval</code>: declare function can only be used at compile time</li>
<li><code>is_const_evaluated()</code>: checking if during compile time</li>
<li>has macro to check whether a include will work</li>
<li>can do <code>using enum enum_name</code></li>
<li>UTF-8 char type <code>char8_t</code></li>
</ul>
</div>
</div>
<div id="outline-container-org976cabe" class="outline-3">
<h3 id="org976cabe">Applied Best Practices</h3>
<div class="outline-text-3" id="text-org976cabe">
<ul class="org-ul">
<li>cppbestpractices.com</li>
<li>Strong typing
<ul class="org-ul">
<li><code>trivial_type</code>: trivially copyable, constructable and movable. checked with <code>is_trivial_v</code> [creates a strong type with <code>nodiscard const noexcept</code> accessor]</li>
</ul></li>
<li>Trailing return types can make it easier to see function name in blocks</li>
<li>Downside of constexpr: effectively everything must be in a header since everything must be known at compile time</li>
<li>cannot invoke undefined behaviour in a constexpr context
<ul class="org-ul">
<li>can use it to find UB</li>
</ul></li>
<li>lambdas are const, constexpr by default</li>
<li>Must use constexpr to test constexpr code to make sure runs at compile time
<ul class="org-ul">
<li><code>-Wconversion</code>: warns of implicit conversions</li>
</ul></li>
<li>cppbestpractices.com has list of recommended warnings</li>
<li>use <code>cmake-format</code> to format CMake</li>
</ul>
</div>
</div>
<div id="outline-container-org78aa75b" class="outline-3">
<h3 id="org78aa75b">How to Write Shared Libraries</h3>
<div class="outline-text-3" id="text-org78aa75b">
<p>:Author:   Ulrich Drepper<br/>:Source:   <a href="https://akkadia.org/drepper/dsohowto.pdf">https://akkadia.org/drepper/dsohowto.pdf</a></p>
<ul class="org-ul">
<li>Always use <code>-fpic/fPIC</code> for compiling all code that will end up in a dynamic shared object (DSO)
<ul class="org-ul">
<li>prefer <code>-fpic</code> unless specific reason</li>
<li><code>-fpic</code> tells the compiler that the size of Global Offset Table (GOT) does not exceed an architecture-specific value</li>
<li><code>-fPIC</code> generates code to deal with offsets of any size (More code)</li>
<li>Linker will fail and print error if it becomes necessary to use <code>-fPIC</code></li>
</ul></li>
</ul>
</div>
<div id="outline-container-org07db9a9" class="outline-4">
<h4 id="org07db9a9">Export Control</h4>
<div class="outline-text-4" id="text-org07db9a9">
<ul class="org-ul">
<li>Only export symbols that are part of ABI
<ul class="org-ul">
<li>stops users using things they are not supposed to</li>
<li>uses less memory (since fewer symbols are loaded)</li>
</ul></li>
<li>use static for variables not needed outside file or use anonymous namespace</li>
<li>Define visibility of objects explicitly
<ul class="org-ul">
<li>Can mark objects with <code>STV_DEFAULT</code> or <code>STV_HIDDEN</code></li>
<li>Combine <code>DEFAULT</code> with cli flag</li>
<li><code>-fvisibility=hidden</code> to only export API
<ul class="org-ul">
<li>this method prevents symbols being accidentally exported</li>
</ul></li>
</ul></li>
<li><p>
Can set visibility of individual symbols with attribute:
</p>
<div class="org-src-container">
<pre class="src src-c"><span style="color: #ff6347;">__attribute__</span><span style="color: #ffffff;">(</span><span style="color: #00bfff;">(</span>visibility <span style="color: #00ff00;">(</span><span style="color: #ee9a00;">"default"</span><span style="color: #00ff00;">)</span><span style="color: #00bfff;">)</span><span style="color: #ffffff;">)</span>;
</pre>
</div>
<p>
or a block with pragma:
</p>
<div class="org-src-container">
<pre class="src src-c"><span style="color: #b0c4de;">#pragma</span> GCC visibility push <span style="color: #ffffff;">(</span><span style="color: #ff6347;">default</span><span style="color: #ffffff;">)</span>
&lt;code&gt;
<span style="color: #b0c4de;">#pragma</span> GCC visibility pop
</pre>
</div>
<p>
Warning: use of protected visibility mode is discouraged and slow
</p></li>
<li>more complicated in C++: key is to mimic actual symbol access as closely as possible
<ul class="org-ul">
<li>normally safe to not export inline functions
<ul class="org-ul">
<li><code>gcc option -fvisibility-inlines-hidden</code> does what is required</li>
</ul></li>
<li><p>
can mark entire class with macro above or with 
</p>
<div class="org-src-container">
<pre class="src src-c"><span style="color: #ee99ff;">class</span> <span style="color: #66fc4c;">__attribute</span><span style="color: #ffffff;">(</span><span style="color: #00bfff;">(</span>visibility<span style="color: #00ff00;">(</span><span style="color: #ee9a00;">"hidden"</span><span style="color: #00ff00;">)</span><span style="color: #00bfff;">)</span><span style="color: #ffffff;">)</span>
foo <span style="color: #ffffff;">{</span> ... <span style="color: #ffffff;">}</span>;
</pre>
</div></li>
<li>gets complicated to do it right with C++</li>
</ul></li>
<li>Export Maps: control visibility with the linker
<ul class="org-ul">
<li>should be used in addition to the other methods</li>
<li>used to specify which symbols are global (exported) and local
<ul class="org-ul">
<li>should set local to '*' to catch all unspecified symbols (avoiding unspecified behaviour)</li>
</ul></li>
<li>for C++ can either specify the mangled names or (with linker support) demangled names with <code>extern C++ {...}</code></li>
</ul></li>
<li>Shorten Symbol Names:
<ul class="org-ul">
<li>length of symbols has cost on symbol lookup since entire symbol of successful lookup has to be checked</li>
<li>Can be sped up by using shorter names
<ul class="org-ul">
<li>Potentially alias/wrap C++ classes</li>
</ul></li>
<li>consider a micro-optimisation</li>
</ul></li>
<li>Generated DSO code often larger &amp; slower than application code since it has to be relocatable rather than assume fixed load address.</li>
</ul>
</div>
</div>
<div id="outline-container-org64a612f" class="outline-4">
<h4 id="org64a612f">API + ABI Stability</h4>
<div class="outline-text-4" id="text-org64a612f">
<ul class="org-ul">
<li>to make changes to ABI but maintain support for old programs must version .so
<ul class="org-ul">
<li>simplest is different filenames</li>
<li>Linux supports versioning of symbols in DSO so dynamic linker can check if required version exists at run-time</li>
</ul></li>
<li>when export mapping can export based on version string</li>
<li>Often a problem where unneeded dependencies DSOs are specified on linker command line and resulting library becomes dependent on them
<ul class="org-ul">
<li>to list unused direct dependencies: <code>ldd -u -r file.so</code></li>
<li>linker flag <code>--as-needed</code> only adds dependency if actually needed</li>
</ul></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org746e497" class="outline-3">
<h3 id="org746e497">Undo-Debugging Linux C++</h3>
<div class="outline-text-3" id="text-org746e497">
<p>:Author:   Greg Law<br/>:Source:   <a href="https://www.youtube.com/watch?v=V1t6faOKjuQ">https://www.youtube.com/watch?v=V1t6faOKjuQ</a></p>
<ul class="org-ul">
<li>Sir Maurice Wilkes - very early programmer</li>
<li>Two kinds of tools
<ul class="org-ul">
<li>Checkers: static &amp; dynamic: did code do thing</li>
<li>Debuggers: what exactly did my code do</li>
</ul></li>
<li>GDB: easy to use, not easy to learn
<ul class="org-ul">
<li>use gcc <code>-ggdb3</code> (not just -g)</li>
<li>'start' - temporary breakpoint or main</li>
<li>C-x a: gives a TUI (ncurses interface)
<ul class="org-ul">
<li>C-l : refreshes the screen</li>
<li>GDB has a full python interpretor</li>
</ul></li>
<li>keep .gdbinit simple
<ul class="org-ul">
<li><code>set history save</code>: saves command history across sessions</li>
</ul></li>
<li><code>rwatch foo</code>: stop when foo is read</li>
<li><code>watch foo thread 3</code>: stop when thread 3 changes foo</li>
<li><code>thread apply all &lt;option&gt;</code>: apply option to all threads</li>
<li><code>dprintf</code>: dynamic printf puts printfs in code without recompiling</li>
<li><code>call foo()</code>: will call foo in inferior</li>
<li>catchpoints: like breakpoints but catch events like exceptions, syscalls</li>
<li><code>tbreak</code>: temporary breakpoint</li>
</ul></li>
<li>Valgrind:
<ul class="org-ul">
<li>memcheck is the default</li>
<li>run with <code>valgrind ./a.out</code></li>
<li><code>valgrind --vgdb ./a.out</code> for debugging. This runs gdb server
<ul class="org-ul">
<li>because valgrind adds in code so can't be run straight in gdb</li>
</ul></li>
</ul></li>
<li>Sanitizers: come bundled in compiler
<ul class="org-ul">
<li>do similiar thing to valgrind but are much quicker. There is performance overhead though</li>
<li><code>gcc -fsanitizer=&lt;sanitizer&gt;</code> (eg. <code>-fsanitizer=address</code>)</li>
</ul></li>
<li><code>rr</code>: reversible debugging
<ul class="org-ul">
<li>can then replay last run, requires recent Intel cpu</li>
</ul></li>
<li><code>strace</code>: for tracking system calls for process</li>
<li><code>ltrace</code>: trace all dynamic library calls of a process</li>
<li><code>perf</code> trace: like strace but faster though needs root privileges</li>
</ul>
</div>
</div>
<div id="outline-container-orgbdc85cd" class="outline-3">
<h3 id="orgbdc85cd">Better Tools in Your Clang Toolbox</h3>
<div class="outline-text-3" id="text-orgbdc85cd">
<p>:Author:   Victor Ciura<br/>:Source:   <a href="https://www.youtube.com/watch?v=4X_fZkl7kkU">https://www.youtube.com/watch?v=4X_fZkl7kkU</a></p>
<ul class="org-ul">
<li>clang powertools</li>
<li>clang-build.ps1 powershell script for compiling/clang-tidying visual studio projects
<ul class="org-ul">
<li>works well with running with Jenkins</li>
<li>install powershell plugin</li>
<li>add powershell action</li>
<li>pick the trigger</li>
</ul></li>
<li>Clang Power Tools VS extension extremely configurable</li>
<li>adopting the tool resulted in cleaner more modern code</li>
</ul>
</div>
<div id="outline-container-org4fd5c7a" class="outline-4">
<h4 id="org4fd5c7a">Massaging the Code</h4>
<div class="outline-text-4" id="text-org4fd5c7a">
<ul class="org-ul">
<li>stay ISO C++ standard conformant
<ul class="org-ul">
<li>clang power tools helps</li>
</ul></li>
<li>clang-tidy found lots of subtle bugs</li>
<li>if allowing non-standard construct you will encounter issues (if compiler gets more strict, or portability)</li>
<li>can be iterative in conformance:
<ul class="org-ul">
<li><code>-fno-delayed-template-parsing</code></li>
<li><code>-Werror=microsoft</code></li>
<li><code>-Werror=typename-missing</code></li>
<li><code>-Wno-xyz-warn</code> (<code>-Wno-microsoft-sealed</code>)</li>
</ul></li>
<li>clang-tidy: several modernize checks</li>
<li>other useful flags: <code>-Wreorder</code>, <code>-Wunused-private-field</code></li>
<li>Tools: <code>add_new_check.py</code>: automates adding new check (creates test, update Cmake, creat test)</li>
<li>[51:40] several string related checks</li>
<li><code>-Wlifetime</code> on recent clang gives Herb Sutter's lifetime profile</li>
<li>LLVM Compiler Toolchain: VS extension for building using LLVM in VS</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org778288e" class="outline-3">
<h3 id="org778288e">Overloading - the Bane of All Higher-Order Functions</h3>
<div class="outline-text-3" id="text-org778288e">
<p>:Author:   Simon Brand<br/>:Source:   <a href="https://www.youtube.com/watch?v=L_QKlAx31Pw">https://www.youtube.com/watch?v=L_QKlAx31Pw</a></p>
<ul class="org-ul">
<li>passing templated functions to function is verbose (have to specify type)
<ul class="org-ul">
<li>passing function object better but calling that verbose (have to instantiate object)</li>
</ul></li>
<li><p>
can wrap it in lambda
</p>
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #ffffff;">[](</span><span style="color: #ff6347;">const</span> <span style="color: #ff6347;">auto</span>&amp; <span style="color: #eedd82;">t</span><span style="color: #ffffff;">){</span><span style="color: #ff6347;">return</span> foo<span style="color: #00bfff;">(</span>t<span style="color: #00bfff;">)</span><span style="color: #ffffff;">}</span>;
</pre>
</div>
<ul class="org-ul">
<li>[7:55] can get very messy to add</li>
</ul></li>
<li>can use a macro</li>
<li>[9:14] global function object
<ul class="org-ul">
<li>define in header then create const object in implementation. Don't need to construct cause always has 1 already</li>
<li>causes problems with header only and multiple instatiations</li>
</ul></li>
<li>passing overloaded functions are icky though there are workarounds</li>
</ul>
</div>
</div>
<div id="outline-container-orgf8664f1" class="outline-3">
<h3 id="orgf8664f1">C++ Function Templates: How Do They Really Work</h3>
<div class="outline-text-3" id="text-orgf8664f1">
<p>:Author: Walter E. Brown<br/>:Source: <a href="https://www.youtube.com/watch?v=NIDEjY5ywqU">https://www.youtube.com/watch?v=NIDEjY5ywqU</a></p>
<ul class="org-ul">
<li>Misinformation:
<ul class="org-ul">
<li>Functions templates are special functions
<ul class="org-ul">
<li>No, function templates aren't functions</li>
</ul></li>
<li>Function template behave like a function
<ul class="org-ul">
<li>template has no function like behaviour</li>
</ul></li>
</ul></li>
<li>there is a difference between templated function and function template</li>
<li>templates usually defined in headers</li>
<li>often characterised as generic algorithms</li>
<li>From template compiler can: synthesise function
<ul class="org-ul">
<li>instantiate function definition</li>
</ul></li>
<li>explicit specializations: typically compiler that instantiates
<ul class="org-ul">
<li>programmer may specify: for treating specific version in a different way</li>
<li>distinguished by template&lt;&gt; (empty brackets)</li>
</ul></li>
<li>can force a particular specialization is used by providing own type as a substitution for the template parameter</li>
<li>specialization are never candidates for overload resolution</li>
<li>compiler seeks most specialised of possible function matches</li>
</ul>
</div>
<div id="outline-container-org066a7ca" class="outline-4">
<h4 id="org066a7ca">Recommended</h4>
<div class="outline-text-4" id="text-org066a7ca">
<ul class="org-ul">
<li>C++ Templates: The Complete Guide 2<sup>nd</sup> edition: Vandevoorde, Josuttis &amp; Gregor
<ul class="org-ul">
<li>"consider the bible for anything to do with templates"</li>
</ul></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org8d62442" class="outline-3">
<h3 id="org8d62442">Modern C++ in Embedded Systems</h3>
<div class="outline-text-3" id="text-org8d62442">
<p>:Author:   Michael Caisse<br/>:Source:   <a href="https://www.youtube.com/watch?v=c9Xt6Me3mJ4">https://www.youtube.com/watch?v=c9Xt6Me3mJ4</a></p>
<ul class="org-ul">
<li>MPU - like MCU but with resource offboard (eg. RAM is off board)</li>
<li>TCM: tightly couple memory. Connected directly to core.</li>
<li>C++ provides better abstractions
<ul class="org-ul">
<li>embedded world dislikes abstractions</li>
</ul></li>
<li>often have to use vendors tools because the chips require proprietary code for doing things like pin routing</li>
<li>better starting with vendor tools to get basis for starting</li>
<li>most embedded world hates C++
<ul class="org-ul">
<li>vendors disables ways to use C++ in their tools and make it as hard as possible</li>
</ul></li>
<li>CMake for cross-compiling use a toolchain file [28:52]
<ul class="org-ul">
<li>when checking everything works create a static library cause doesn't care about things like startup code</li>
</ul></li>
<li>runtime polymorphism has a lot of overhead
<ul class="org-ul">
<li>CRTP: gives static polymorphism and is more efficient</li>
<li>Compilers actually can use devirtualisation to see through most runtime polymorphism to get a lot of the performance benefits
<ul class="org-ul">
<li>but not always</li>
</ul></li>
</ul></li>
<li><code>-Os</code>: <code>O2</code> but without anything that affects size
<ul class="org-ul">
<li><code>-Os -Og</code> apparently good combination</li>
</ul></li>
<li>necessary to have linker script to match device memory
<ul class="org-ul">
<li>can start with vendors tools' linker script but likely won't work properly with C++</li>
<li>standard compilers come with linker script (won't fit embedded chips memory though)</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org2959947" class="outline-3">
<h3 id="org2959947">Modern C++ in Embedded Systems - The Saga Continues</h3>
<div class="outline-text-3" id="text-org2959947">
<p>:Author:   Michael Caisse<br/>:Source:   <a href="https://www.youtube.com/watch?v=LfRLQ7IChtg">https://www.youtube.com/watch?v=LfRLQ7IChtg</a></p>
<ul class="org-ul">
<li>manufacturer provided IDEs:
<ul class="org-ul">
<li>often geared towards time to hello world</li>
<li>focused on single developer workflow</li>
<li>hides a lot of magic (makes it hard to set up own solutions)</li>
</ul></li>
<li><code>dockcross</code>: somehow makes docker easier to manage</li>
<li>runtime optimizations: have to be enabled in the linker and compiler</li>
<li>static polymorphism [36:30] CRTP
<ul class="org-ul">
<li>uses templates</li>
<li>results in smaller code but still results polymorphism</li>
</ul></li>
<li>Devirtualisation will do similar thing as CRTP but doesn't happen immediately to see how your code works you have a problem</li>
<li><code>Ladon</code>: something like protobuf</li>
<li>can't use rtti or exceptions</li>
<li>need to take ownership of startup code &amp; linker script</li>
</ul>
</div>
</div>
<div id="outline-container-org4882d82" class="outline-3">
<h3 id="org4882d82">Surprises in Object Lifetime</h3>
<div class="outline-text-3" id="text-org4882d82">
<p>:Author:   Jason Turner<br/>:Source:   <a href="https://www.youtube.com/watch?v=uQyT-5iWUow">https://www.youtube.com/watch?v=uQyT-5iWUow</a></p>
<ul class="org-ul">
<li>well defined object lifetime key feature</li>
<li>object: anything not a function or reference</li>
<li>string literals are statically constructed so are valid for the life of the program</li>
<li><code>vector::emplace_back</code>: calls types constructor directly? Creates in place I think</li>
<li><code>std::array</code> implemented as struct so contents are directly initialised (doesn't use initializer_list)</li>
<li>undefined to use '_' capital letter at start of name</li>
<li>ranged for loops create their own hidden variables</li>
<li><code>-Wshadow</code>: catches some issues</li>
<li>Sanitizer</li>
<li>"don't name temporaries you don't have to. It makes the code more modular"</li>
</ul>
</div>
</div>
<div id="outline-container-orgf0cb210" class="outline-3">
<h3 id="orgf0cb210">Modern C++ Testing with Catch2</h3>
<div class="outline-text-3" id="text-orgf0cb210">
<p>:Author:   Phil Nash<br/>:Source:   <a href="https://www.youtube.com/watch?v=Ob5_XZrFQH0">https://www.youtube.com/watch?v=Ob5_XZrFQH0</a></p>
<ul class="org-ul">
<li>supports <code>-fno-exceptions</code></li>
<li>Matchers: CHECK_THAT &amp; REQUIRE_THAT
<ul class="org-ul">
<li>matcher includes contains "string", substring vector. Can be added to.</li>
<li>can be composed</li>
</ul></li>
<li>Generators: used to provide multiple values for variables. Test case runs for every value of the generator
<ul class="org-ul">
<li>also can have random numbers</li>
</ul></li>
<li>Property based testing: working with ranges of data. (not there yet)
<ul class="org-ul">
<li>will try and find simplist failure case</li>
</ul></li>
<li>BDD: behaviour drive development</li>
</ul>
</div>
</div>
<div id="outline-container-orga66e5ad" class="outline-3">
<h3 id="orga66e5ad">Understanding Optimizers</h3>
<div class="outline-text-3" id="text-orga66e5ad">
<p>:Author:   Nir Friedman<br/>:Source:   <a href="https://www.youtube.com/watch?v=8nyq8SNUTSc">https://www.youtube.com/watch?v=8nyq8SNUTSc</a></p>
<ul class="org-ul">
<li>Basic block: straight line code sequence with no branches and no branch out except exit
<ul class="org-ul">
<li>compiler can rearrange stuff</li>
</ul></li>
<li>Inlining: make other optimizations possible (adding function into same basic block)
<ul class="org-ul">
<li>also causes code bloat (unless function called rarely)</li>
</ul></li>
<li>const propagation: when knowing value at compile time influences the assembly
<ul class="org-ul">
<li><code>find_if</code> with a function pointer often won't be inlined</li>
</ul></li>
<li>const often doesn't make a difference to the compiler</li>
<li>interesting optimisation with two memcpy and a placement new instead of doing reinterpret_cast [45:00] - isn't const correct</li>
</ul>
</div>
</div>

<div id="outline-container-orgb113e61" class="outline-3">
<h3 id="orgb113e61">How C++ Debuggers Work</h3>
<div class="outline-text-3" id="text-orgb113e61">
<p>:Author:   Simon Brand<br/>:Source:   <a href="https://www.youtube.com/watch?v=0DDrseUomfU">https://www.youtube.com/watch?v=0DDrseUomfU</a></p>
<ul class="org-ul">
<li>ELF: ange albertini website has graphic
<ul class="org-ul">
<li>header: what machine, etc.</li>
<li>codes seperated into sections</li>
</ul></li>
<li>DWARF: linux debug format
<ul class="org-ul">
<li>DIES contains all information (functions, files&#x2026;)</li>
<li>used by debugger to get proper info</li>
<li>line table info: which lines of source for which machine code</li>
</ul></li>
<li>ptrace: single function. send request and data
<ul class="org-ul">
<li>depending on request will do different things with data</li>
</ul></li>
<li>Breakpoints: two main kinds
<ul class="org-ul">
<li>Hardware: set special registers which write value to. When hit address it breaks. Limited number. Can break on read/write/execute.</li>
<li>Software: modify running code in memory to have breaking instructions. Can break on execute.
<ul class="org-ul">
<li>generally implemented similarly across platforms</li>
<li>debugger takes first byte of instruction and replaces with OXCC instruction (int3) which triggers software interrupts</li>
<li>OS registers interrupt handlers</li>
</ul></li>
<li>for setting breakpoint on line: takes the DWARF line info and sets break on instruction</li>
<li>step out: set breakpoint at return address</li>
<li>step in: at return address or next instruction in caller
<ul class="org-ul">
<li>working out next instruction requires understanding of target (could jump anywhere)</li>
<li>must inspect code to work out all possible targets. Debuggers ship with instruction emulator</li>
</ul></li>
</ul></li>
<li>Registers &amp; Memory
<ul class="org-ul">
<li>read registers with ptrace call</li>
<li>read with PEEKDATA call, write with POKEDATA
<ul class="org-ul">
<li>only works a word at a time</li>
<li>at [030:47] other better methods</li>
</ul></li>
</ul></li>
<li>shared libraries
<ul class="org-ul">
<li>somewhere in program is data structure with data on where everything is loaded</li>
<li>sets breakpoints to trace shared library loading</li>
</ul></li>
<li>Remote Debugging:
<ul class="org-ul">
<li>lots of debuggers use remote debugging for everything (easier to implement)(lldb does this)</li>
<li>Debug stub doesn't have access to all debug info</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-orge0d7de1" class="outline-3">
<h3 id="orge0d7de1">Latest and Greatest in the Visual Studio Family</h3>
<div class="outline-text-3" id="text-orge0d7de1">
<ul class="org-ul">
<li>clang-format directly integrated</li>
<li>setup environment with vcpkg [8:14]
<ul class="org-ul">
<li>connect visual studio to VM [10:49]
<ul class="org-ul">
<li>can use rsync to keep headers synced for intellisense to use</li>
<li>can find errors for other config (Platform)</li>
<li>connect to running process in VM [15:45]</li>
</ul></li>
</ul></li>
<li>supports googletest &amp; boost test (finds and runs them with build)</li>
<li>VS 2017 supports C++ 11, 14, 17</li>
<li><code>/permissive-</code>: guarantee protability, removes VS extensions
<ul class="org-ul">
<li>not on by default</li>
</ul></li>
<li>All compilers are shipped with VS2017 (old VS compilers)
<ul class="org-ul">
<li>want to guarantee everyone can upgrade</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org3fa04bc" class="outline-3">
<h3 id="org3fa04bc">Avoiding Disaster with Strongly Typed C++</h3>
<div class="outline-text-3" id="text-org3fa04bc">
<ul class="org-ul">
<li>could wrap the type in structs so they are distinct</li>
<li>can use a template where template&lt;typename tag&gt; and tag is only used for identifier and not used in template (but different tags are different types)
<ul class="org-ul">
<li>can use with <code>using</code> to get different types</li>
</ul></li>
<li>implemented in type_safe_library
<ul class="org-ul">
<li>base type, ID and concepts for features enablement</li>
<li>get function to get underlying type out</li>
<li>easy to add own skills (use structs)</li>
<li>for operations that create another type [19:10] (minus 2 values to get offset)</li>
</ul></li>
<li><code>std::ration</code> standardized way of doing rationalised arithmetic at compile time
<ul class="org-ul">
<li>can be used to define ratins for strong types by having ration in the template [26:00]</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org920ad1a" class="outline-3">
<h3 id="org920ad1a">UEFI with Modern C++</h3>
<div class="outline-text-3" id="text-org920ad1a">
<p>:Author:   Morris Hafner<br/>:Source:   <a href="https://www.youtube.com/watch?v=z6wKEJ-daD4">https://www.youtube.com/watch?v=z6wKEJ-daD4</a></p>
<ul class="org-ul">
<li>BIOS - calls interupts instead of functions</li>
<li>EFI - coff file format
<ul class="org-ul">
<li>MS calling convention</li>
</ul></li>
<li>Toolchain: Tianolore EDK II, GNU efibb (easier to use)
<ul class="org-ul">
<li>does not work with clang</li>
<li>no C++ stdlib but many headers can be used from host since they are compile time construct</li>
<li>Compiler invocation [6:06]
<ul class="org-ul">
<li>entry point isn't main (efi-main)</li>
</ul></li>
<li>can run it with QEMU [8:15]</li>
</ul></li>
<li>Protocol Interface:
<ul class="org-ul">
<li>firmware services queried with GUIDS</li>
<li>everything loaded in structs</li>
<li>OO style interface but in C (function pointers)</li>
<li>Morris wrapped all in C++ function</li>
</ul></li>
<li>graphics to framebuffer [22:00]</li>
<li>avoided the heap</li>
<li>technically incorrect code
<ul class="org-ul">
<li>C++ standard says for standalone applications only requires subset of C stdlib</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-orgbbf1a4d" class="outline-3">
<h3 id="orgbbf1a4d">A Little Order: Delving into the STL Sorting Algorithms</h3>
<div class="outline-text-3" id="text-orgbbf1a4d">
<p>:Author:   Fred Tingaud<br/>:Source:   <a href="https://www.youtube.com/watch?v=-0tO3Eni2uo">https://www.youtube.com/watch?v=-0tO3Eni2uo</a></p>
<ul class="org-ul">
<li>stable sorting: series of sorts by different qualities are maintained
<ul class="org-ul">
<li>sort by colour then height: after height still sorted by colour</li>
</ul></li>
<li><code>nth_element</code>: sort only 1 element</li>
<li><code>partial_sort</code>: everything up to point
<ul class="org-ul">
<li>does less than sort by takes longer</li>
</ul></li>
<li><code>std::sort</code> - O(N-log<sub>n</sub>) guaranteed since 11</li>
<li>calling sort on result of nth_element is faster than partial_sort
<ul class="org-ul">
<li>for certain input?</li>
</ul></li>
<li>use partial_sort when sorting a small number of elements in a big container</li>
<li>use nth_element &amp; sort for everything else</li>
<li>complexity in algorithms is important but so is real world use cases
<ul class="org-ul">
<li>sometimes technically slower algorithms work better for specific cases</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-orge4b1de2" class="outline-3">
<h3 id="orge4b1de2">C++ at High Subsonic Speed</h3>
<div class="outline-text-3" id="text-orge4b1de2">
<ul class="org-ul">
<li>military development very slow</li>
<li>goes UML interface -&gt; generated IDL -&gt; Generated C++ interface -&gt; executable code
<ul class="org-ul">
<li>make easy to write application code</li>
<li>application task can't use any OS calls</li>
</ul></li>
<li>everything is reusable components
<ul class="org-ul">
<li>no precompiled libraries</li>
</ul></li>
<li>compiler version &amp; config controlled by build system
<ul class="org-ul">
<li>big jump in gcc caused issues, new compiler rejected code</li>
<li>gets new GCC version every year</li>
</ul></li>
<li>Compiler warnings:
<ul class="org-ul">
<li>quite restrictive</li>
<li>GCC &amp; Clang use <code>-isystem</code> to specify include file search path (suppress warning in dependencies)</li>
</ul></li>
<li>Static analysis: QAC++</li>
<li>Run time analysis: valgrind, address sanitizer (GCC), Undefined behaviour sanitizer (GCC)</li>
</ul>
</div>
</div>

<div id="outline-container-orgcd348e5" class="outline-3">
<h3 id="orgcd348e5">Compiling Multi-Million Line C++ Codebase Effortlessly with the Meson Build System</h3>
<div class="outline-text-3" id="text-orgcd348e5">
<ul class="org-ul">
<li>project created with init command (move like leiningen)</li>
<li>automatically runs unit test parallel</li>
<li>provides coverage reports</li>
<li>native precompiled headers?</li>
<li>cross compilation is simple</li>
<li>Dependencies:
<ul class="org-ul">
<li>has option where if project has submodule same as parent then return parents variable</li>
<li>dependency can be optionally system or build yourself if system not found</li>
<li>can build specific targets and it'll only pull those dependencies</li>
<li>support mono repos</li>
</ul></li>
<li>Python thing
<ul class="org-ul">
<li>Meson implemented in Python</li>
<li>design principal: should be able to mix and match programming languages</li>
<li>[example mixing C, C++, Rust, Fortran, 21:39]</li>
<li>build definition file should explain what should happen (not how to do it)</li>
</ul></li>
<li>Managing dependency [example two]</li>
<li><code>wrap</code> command to download dependencies from database
<ul class="org-ul">
<li>db consists upstream tarball &amp; community written build definitions</li>
</ul></li>
<li>adding linting tools:
<ul class="org-ul">
<li>meson has run targets which specifies a carnnonel</li>
<li>could create target for linter and point to compilation database</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-orga52b8d0" class="outline-3">
<h3 id="orga52b8d0">Concepts: The Future of Generic Programming</h3>
<div class="outline-text-3" id="text-orga52b8d0">
<p>:Author:   Bjarne Stroustrup<br/>:Source:   <a href="https://www.youtube.com/watch?v=HddFGPTAmtU">https://www.youtube.com/watch?v=HddFGPTAmtU</a></p>
<ul class="org-ul">
<li>good generic code helps write better code</li>
<li>concepts likely to be in C++20</li>
<li>History: 80s- generic code use macros
<ul class="org-ul">
<li>87-now: goals of extremely flexible, zero overhead</li>
</ul></li>
</ul>
</div>
<div id="outline-container-org02d7bad" class="outline-4">
<h4 id="org02d7bad">Templates</h4>
<div class="outline-text-4" id="text-org02d7bad">
<ul class="org-ul">
<li>advantages: flexibility, type safety, specialisation, good run-time performance</li>
<li>disadvantages: verbose syntax, duck typing, had error messages, clumsy overloading, week code organization, slow compilation</li>
<li>Concepts allow for specifying certain qualities of types</li>
</ul>
</div>
</div>
<div id="outline-container-orge1f9524" class="outline-4">
<h4 id="orge1f9524">Concepts</h4>
<div class="outline-text-4" id="text-orge1f9524">
<ul class="org-ul">
<li>Types and Concepts:
<ul class="org-ul">
<li>Types: Specifies what operations can be applied to an object</li>
<li>Concept: specify how you can use object
<ul class="org-ul">
<li>says nothing of layout of object</li>
</ul></li>
</ul></li>
<li>Benefits Of Concepts:
<ul class="org-ul">
<li>support good design:</li>
<li>better maintainability</li>
<li>overloading: like functions but simpler</li>
</ul></li>
<li>enable_if?
<ul class="org-ul">
<li>though leads to ugly code</li>
</ul></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgb6834ca" class="outline-3">
<h3 id="orgb6834ca">Cross Language Interfaces Between C and C++</h3>
<div class="outline-text-3" id="text-orgb6834ca">
<p>:Author:   Jens Gustedt<br/>:Source:   <a href="https://gustedt.wordpress.com/2017/08/08/cross-language-interfaces-between-c-and-c/">https://gustedt.wordpress.com/2017/08/08/cross-language-interfaces-between-c-and-c/</a></p>
<ul class="org-ul">
<li>It makes no sense to compile C as C++ and vice versa
<ul class="org-ul">
<li>Both languages agree on the ABI so data structure and functions can be shared</li>
</ul></li>
<li>most types are the same in both except <code>bool</code></li>
<li>Arrays can have dynamic length in C</li>
<li>Boolean in C is actually _Bool with macro bool
<ul class="org-ul">
<li><p>
for cross interface that uses bool: use <code>bool</code> and 
</p>
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #b0c4de;">#ifdef</span> __cplusplus
<span style="color: #b0c4de;">#include</span><span style="color: #ffffff;">&lt;</span><span style="color: #ee9a00;">cstdbool.h</span><span style="color: #ffffff;">&gt;</span>
<span style="color: #b0c4de;">#endif</span>
</pre>
</div></li>
</ul></li>
<li>Plain enumerations are the same in both
<ul class="org-ul">
<li>enumeration constants have different types and rules for implicit conversion</li>
</ul></li>
<li>different ways of specifying atomics. Easiest solution is to create macro from C way to C++ way for C++.</li>
<li>In C can't specify cont at object definition
<ul class="org-ul">
<li>have to use macros</li>
</ul></li>
<li>functions that take no params in C must be defined with void</li>
<li>C: requires programmer to provide instantiation of inline function</li>
</ul>
</div>
</div>

<div id="outline-container-org286dbc2" class="outline-3">
<h3 id="org286dbc2">The New C++17 and Why It's Good For You</h3>
<div class="outline-text-3" id="text-org286dbc2">
<p>:Author:   Timur Doumler</p>
<ul class="org-ul">
<li>full feature list: wg21.link/p0636</li>
<li><p>
if with initialisor:
</p>
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #ff6347;">if</span><span style="color: #ffffff;">(</span><span style="color: #ff6347;">auto</span> <span style="color: #eedd82;">var</span> = something<span style="color: #00bfff;">()</span>; test<span style="color: #ffffff;">)</span>
dosomething<span style="color: #ffffff;">()</span>;
</pre>
</div>
<ul class="org-ul">
<li>useful for adding lock just for if statement</li>
</ul></li>
<li>structured bindings
<ul class="org-ul">
<li><p>
allows to easily assign rvalues from struct, C arrays, std::array, std::pair, std::tuple to individual variables
</p>
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #ff6347;">auto</span> <span style="color: #ffffff;">[</span>x,y,z<span style="color: #ffffff;">]</span> = getPosition<span style="color: #ffffff;">()</span>;
</pre>
</div>
<p>
getPositon() returns Point struct which contains 3 doubles that are now split between x,y,z
</p></li>
<li><p>
iterate over map (values are pairs):
</p>
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #ff6347;">for</span><span style="color: #ffffff;">(</span><span style="color: #ff6347;">auto</span>&amp; <span style="color: #00bfff;">[</span><span style="color: #7fffd4;">key</span>,<span style="color: #7fffd4;">value</span><span style="color: #00bfff;">]</span> : map<span style="color: #ffffff;">)</span>
</pre>
</div></li>
<li>works with if initializer</li>
</ul></li>
<li>class template argument deduction
<ul class="org-ul">
<li><p>
deduces class template types from constructor arguments
</p>
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #ee99ff;">vector</span><span style="color: #ffffff;">&lt;</span><span style="color: #ee99ff;">int</span><span style="color: #ffffff;">&gt;</span> <span style="color: #eedd82;">mVector</span><span style="color: #ffffff;">{</span>1, 2, 3<span style="color: #ffffff;">}</span>;
<span style="color: #b7c796;">/* </span><span style="color: #b7c796;">becomes</span><span style="color: #b7c796;"> */</span>
<span style="color: #ee99ff;">vector</span> <span style="color: #eedd82;">mVector</span><span style="color: #ffffff;">{</span>1, 2, 3<span style="color: #ffffff;">}</span>;
</pre>
</div></li>
<li>supports user-defined deduction guides</li>
</ul></li>
<li>if constexpr
<ul class="org-ul">
<li>checks condition at compile time and only compiles if it is true. Likewise if it was true it won't bother compiling the else branch</li>
</ul></li>
<li>aligned heap memory: alignas now works on the heap (new is aware of it)</li>
<li>atomics: static function <code>is_always_lock_free</code> to check atomic of certain type if always lockfree.
<ul class="org-ul">
<li>cache lines: can accidentally make two atomic variables on same cache line which is problem
<ul class="org-ul">
<li>c++17 can use alignas with std::hardware_destructive_interference_size (gets L1 cache size)</li>
</ul></li>
</ul></li>
<li>return by value: compiler can optimize return by value</li>
<li>Return Value Optimization</li>
<li>Named Return Value Optimizations (something is now fixed)</li>
<li><code>std::clamp</code>: constrain value between two given values. Has overload to supply own comparison operator.</li>
<li><code>std::variant</code>: data type that can be either of two different types: <code>std::variant&lt;int, std::string&gt; u;</code> can be initialised as either an int or string.
<ul class="org-ul">
<li><code>get_if&lt;&gt;</code> can be used to get value if it is currently of that type.</li>
<li>if one tries to put a new element in and it fails then the variant is empty</li>
<li>can be used in real time code since never allocates.</li>
</ul></li>
<li><code>std::any</code>: can have any type
<ul class="org-ul">
<li>=any_cast&lt;T&gt;(a)=to get value. Throws exception if wrong type</li>
<li><code>has_value()</code></li>
<li><code>reset</code></li>
<li>=any_cast&lt;T&gt;(&amp;a): returns nullptr if wrong type</li>
</ul></li>
<li>=std::optional: alternative for error handling. Either has value or is empty. Dereferences like a pointer (though will crash if doesn't have value)</li>
</ul>
</div>
<div id="outline-container-orge515864" class="outline-4">
<h4 id="orge515864">Application Framework Features</h4>
<div class="outline-text-4" id="text-orge515864">
<ul class="org-ul">
<li>filesystem
<ul class="org-ul">
<li>lots of freestanding functions</li>
<li>works well with different directory systems</li>
</ul></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-orgb69c637" class="outline-3">
<h3 id="orgb69c637">C++ Weekly</h3>
<div class="outline-text-3" id="text-orgb69c637">
<div id="text-table-of-contents">
<ul>
<li><a href="#orgfb32d51">Ep 2 - Cost of Using Statics</a></li>
<li><a href="#org95fb78c">Ep 3 - Intro to clang-tidy</a></li>
<li><a href="#orgf9781be">Ep 6 - Intro to Variadic Templates</a></li>
<li><a href="#orgcf8a40c">Ep 8 - Name Demangling</a></li>
<li><a href="#org1040e26">Ep 9 - std::future Quick Start</a></li>
<li><a href="#orgfab7713">Ep 14 - Standard Library Gems</a></li>
<li><a href="#org194aa06">Ep 15 - Using std::bind</a></li>
<li><a href="#org210e99d">Ep 78 - Intro to CMake</a></li>
<li><a href="#org3924424">Ep 84 - C++ Sanitizers</a></li>
<li><a href="#org85209b7">Ep 88 - Don't Forget About Puts</a></li>
<li><a href="#orga6494de">Ep 133 - What Exactly Is A Lambda</a></li>
<li><a href="#org3aeb159">Ep 134 - The Best Possible Way To Create A Visitor</a></li>
<li><a href="#orgd177ed2">Ep 145 - Semi Automatic constexpr &amp; noexcept</a></li>
<li><a href="#orgd6827a9">Ep 146 - C++ 20's std::to_addres</a></li>
<li><a href="#org0dcd4bf">The Important Parts of C++ 98 in 13 Minutes</a></li>
<li><a href="#org25b9738">C++ 20's std::bind_front</a></li>
<li><a href="#org57a2e18">Spaceships in C++20</a></li>
</ul>
</div>
</div>
<div id="outline-container-orgfb32d51" class="outline-4">
<h4 id="orgfb32d51">Ep 2 - Cost of Using Statics</h4>
<div class="outline-text-4" id="text-orgfb32d51">
<ul class="org-ul">
<li>compiler has to create statics in thread safe way. Has to have code to check if variable is constructed
<ul class="org-ul">
<li>performs this check every time variable accessed.</li>
</ul></li>
<li>can get around by maintaining a reference to the static variable after its constructed to use to reference it.</li>
</ul>
</div>
</div>
<div id="outline-container-org95fb78c" class="outline-4">
<h4 id="org95fb78c">Ep 3 - Intro to clang-tidy</h4>
<div class="outline-text-4" id="text-org95fb78c">
<ul class="org-ul">
<li>requires clang install</li>
<li>requires same compile commands file as cquery
<ul class="org-ul">
<li>specify with <code>-p</code></li>
</ul></li>
<li>provide files to check as cli argument</li>
<li><code>-list-checks</code> shows the checks</li>
<li>enable all checks with <code>-check=*</code></li>
<li><code>-fix</code>: automatically fixes issues (don't completely trust)</li>
<li><p>
can enable clang-tidy for a CMake project by 
</p>
<div class="org-src-container">
<pre class="src src-bash">cmake .. -DCMAKE_CXX_CLANG_TIDY:<span style="color: #eedd82;">STRING</span>=<span style="color: #ee9a00;">'clang-tidy;-checks=*,readibility=*'</span>
</pre>
</div></li>
</ul>
</div>
</div>
<div id="outline-container-orgf9781be" class="outline-4">
<h4 id="orgf9781be">Ep 6 - Intro to Variadic Templates</h4>
<div class="outline-text-4" id="text-orgf9781be">
<ul class="org-ul">
<li>allows creating template functions that take variable number of arguments with different types</li>
<li>declared with <code>template&lt;typename... NAME&gt;</code></li>
<li>function parameter looks like:
<code>function_name(...variable_name)</code>
<ul class="org-ul">
<li>acccessed with: <code>variable_name...</code></li>
</ul></li>
<li>can increase compile times because it can end up instantiating lots of different functions</li>
</ul>
</div>
</div>
<div id="outline-container-orgcf8a40c" class="outline-4">
<h4 id="orgcf8a40c">Ep 8 - Name Demangling</h4>
<div class="outline-text-4" id="text-orgcf8a40c">
<ul class="org-ul">
<li>compiler takes human readable names and mangles it into compact thing</li>
<li><code>nm</code> command shows names of types
<ul class="org-ul">
<li>eg. <code>nm a.out</code></li>
</ul></li>
<li><code>c++filt -t</code> shows demangled names</li>
<li>getting the demangled name at runtime:
<ul class="org-ul">
<li>use <code>typeid</code> operator
<ul class="org-ul">
<li><code>typeid(variable).name()</code> gives mangled name</li>
<li>In GCC: <code>__cxa_demangle</code> gives the demangled name when given mangled</li>
</ul></li>
</ul></li>
<li>From comments:
<ul class="org-ul">
<li>apparently crash report systems use name demangling form human readable stack traces.</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org1040e26" class="outline-4">
<h4 id="org1040e26">Ep 9 - std::future Quick Start</h4>
<div class="outline-text-4" id="text-org1040e26">
<ul class="org-ul">
<li><code>std::async</code> - calls a function asynchronously
<ul class="org-ul">
<li>returns a future: which promises to have a value at some point in future
<ul class="org-ul">
<li><code>future::get</code> returns stored value</li>
</ul></li>
<li>by default chooses whether to actually run async or just differed until <code>get</code> is called
<ul class="org-ul">
<li>can queue up calculations that you're not sure will be needed or not</li>
</ul></li>
<li>can force to be async with <code>std::launch::async</code> as first argument</li>
</ul></li>
<li>futures can store and forward exceptions</li>
<li>only pass and return copies and don't access or change global state means not having to worry about manual locking.</li>
</ul>
</div>
</div>
<div id="outline-container-orgfab7713" class="outline-4">
<h4 id="orgfab7713">Ep 14 - Standard Library Gems</h4>
<div class="outline-text-4" id="text-orgfab7713">
<ul class="org-ul">
<li><code>std::next</code>: returns next forward iterator from the one passed
<ul class="org-ul">
<li>increments the most efficient way possible</li>
<li>also takes number of steps to move forward</li>
</ul></li>
<li><code>std::exchange</code>: replaces value of object with new value and returns the old value
<ul class="org-ul">
<li>so can do <code>last=std::exchange(i, new_value);</code></li>
<li>does moves &amp; forwards so prevents no copies if possible</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org194aa06" class="outline-4">
<h4 id="org194aa06">Ep 15 - Using std::bind</h4>
<div class="outline-text-4" id="text-org194aa06">
<ul class="org-ul">
<li>takes callable object (something that can be called as if it were a function and list of arguments to bind to function)</li>
<li>guarantees to make a copy of arguments passed in</li>
<li>if want it to track changes to variables need to make <code>std::ref</code> wrapper around variable:
<code>std::bind(&amp;Function, std::ref(i));</code></li>
<li>returns a function (object? pointer?) that can be called which will call the bound function with the bound arguments</li>
<li>heavyweight in terms of compilation</li>
<li>can also specify arguments to be specified by user when the returned function is called [4:26]
<ul class="org-ul">
<li>using <code>std::placeholders</code></li>
</ul></li>
<li>can also reorder parameters using placeholders</li>
<li>bind swallows any extra arguments passed to it</li>
<li>functions requires to be concrete so when using templates must provide type when passing function to bind
<ul class="org-ul">
<li>since generic templates aren't callable</li>
</ul></li>
<li><code>std::ref</code>: helper function for creating <code>std::reference_wrapper</code> using template argument deduction to determine template argument</li>
<li><code>std::reference_wrapper</code>: stores references in copyable, assignable object</li>
</ul>
</div>
</div>
<div id="outline-container-org210e99d" class="outline-4">
<h4 id="org210e99d">Ep 78 - Intro to CMake</h4>
<div class="outline-text-4" id="text-org210e99d">
<ul class="org-ul">
<li>configuration goes in CMakeLists.txt</li>
<li>cmake_minimum_required(VERSION x.x)
<ul class="org-ul">
<li>minimum cmake version</li>
</ul></li>
<li><code>add_executable(name file)</code></li>
<li>can specify which executables require which features: <code>target_compile_features(exe_name PRIVATE feature)</code></li>
<li>ccmake: provides a graphical interface to configure (can select compile etc.)</li>
<li><code>add_compile_options(options)</code>: eg. for options -Wall Switches to be added to compile command
<ul class="org-ul">
<li>-Wall -Wextra -Wpedantic</li>
</ul></li>
<li><code>set_property</code>: can be used to select c++ standard version. <code>target_compile_features</code> is the recommended way though.</li>
<li><p>
if block follows style:
</p>
<div class="org-src-container">
<pre class="src src-cmake"><span style="color: #ff6347;">if</span><span style="color: #ffffff;">()</span>
  ~~~~
<span style="color: #ff6347;">else</span><span style="color: #ffffff;">()</span>
  ~~~~
<span style="color: #ff6347;">endif</span><span style="color: #ffffff;">()</span>
</pre>
</div></li>
<li>CXX_EXTENSIONS property</li>
</ul>
</div>
</div>
<div id="outline-container-org3924424" class="outline-4">
<h4 id="org3924424">Ep 84 - C++ Sanitizers</h4>
<div class="outline-text-4" id="text-org3924424">
<ul class="org-ul">
<li>does runtime analysis of code</li>
<li>thread, address, memory, undefined behaviour sanitizers add instrumentation to code</li>
<li>flag has to be passed at runtime and link time</li>
<li>Address sanitizers: prints information on memory address incorrect access</li>
<li>on Ubuntu need to tell clang where to find symbolizer to get line numbers</li>
<li>Memory
<ul class="org-ul">
<li>warns at uninitialized memory</li>
</ul></li>
<li>have runtime performance overhead as they add code to the executable</li>
</ul>
</div>
</div>
<div id="outline-container-org85209b7" class="outline-4">
<h4 id="org85209b7">Ep 88 - Don't Forget About Puts</h4>
<div class="outline-text-4" id="text-org85209b7">
<ul class="org-ul">
<li>including iostream creates some global variables (cout, cin) that the compiler must initialize</li>
<li>using <code>cstdio</code> and <code>printf</code> avoids this</li>
<li><code>printf</code> uses <code>puts</code></li>
<li>using <code>puts</code> makes the program far simpler and removes the control character support of <code>printf</code></li>
<li><code>puts</code>: prints c-style string to stdin followed by newline
<ul class="org-ul">
<li>requires null terminated string so call with: 
<code>puts(string.c_str())</code></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-orga6494de" class="outline-4">
<h4 id="orga6494de">Ep 133 - What Exactly Is A Lambda</h4>
<div class="outline-text-4" id="text-orga6494de">
<ul class="org-ul">
<li>compiler creates a type for created lambda</li>
<li>something like a struct/class
<ul class="org-ul">
<li>with const operator()</li>
</ul></li>
<li>because operator() is const means can't mutate captured variables
<ul class="org-ul">
<li>to get around this can add <code>mutable</code> keyword:
eg. <code>[]()mutable{}</code>
<ul class="org-ul">
<li>this effectively removes the const</li>
</ul></li>
</ul></li>
<li>making lambda generic implicitly creates a template function
eg. <code>[](auto i){}</code></li>
<li>C++17 made the operator() constexpr
<ul class="org-ul">
<li>this is prevented by capturing variables</li>
</ul></li>
<li>CppInsights shows how the compiler changes code</li>
</ul>
</div>
</div>
<div id="outline-container-org3aeb159" class="outline-4">
<h4 id="org3aeb159">Ep 134 - The Best Possible Way To Create A Visitor</h4>
<div class="outline-text-4" id="text-org3aeb159">
<ul class="org-ul">
<li>Possible to inherit from lambdas</li>
<li>the visitor shown use variadic templates to inherit from a set of lambdas</li>
<li>use base class operator with 
<code>using Base::operator()</code></li>
<li>seems to use two lambdas as base to provide two potential results depdending on type of argument</li>
<li>goes on to show how it can be simplified and made mostly constexpr</li>
</ul>
</div>
</div>
<div id="outline-container-orgd177ed2" class="outline-4">
<h4 id="orgd177ed2">Ep 145 - Semi Automatic constexpr &amp; noexcept</h4>
<div class="outline-text-4" id="text-orgd177ed2">
<ul class="org-ul">
<li>compiler needs to know if can be constexpr for C++ 17 lambdas</li>
<li>knows if noexcept for exception optimizations</li>
<li>VS 2017 analyser:
<ul class="org-ul">
<li>provides recommendation for constexpr &amp; noexcept</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-orgd6827a9" class="outline-4">
<h4 id="orgd6827a9">Ep 146 - C++ 20's std::to_addres</h4>
</div>
<div id="outline-container-org0dcd4bf" class="outline-4">
<h4 id="org0dcd4bf">The Important Parts of C++ 98 in 13 Minutes</h4>
<div class="outline-text-4" id="text-org0dcd4bf">
<ul class="org-ul">
<li>C++03 had a few tweaks</li>
<li>C++ has deterministic object lifetime
<ul class="org-ul">
<li>can predict exactly where object is created and destroyed</li>
</ul></li>
<li>C++11 should almost never have to write own destructors</li>
</ul>
</div>
</div>
<div id="outline-container-org25b9738" class="outline-4">
<h4 id="org25b9738">C++ 20's std::bind_front</h4>
<div class="outline-text-4" id="text-org25b9738">
<ul class="org-ul">
<li>Lots of ways of binding in functional</li>
<li>Probably to replace std::bind though doesn't have all flexibility (probably good)</li>
<li><code>std::bind_front(&amp;function, arg1, arg2 ...)</code>
<ul class="org-ul">
<li>seems to do the bind without all the reordering</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org57a2e18" class="outline-4">
<h4 id="org57a2e18">Spaceships in C++20</h4>
<div class="outline-text-4" id="text-org57a2e18">
<ul class="org-ul">
<li>When creating custom types lots of boiler plate code to write all operators</li>
<li><p>
Spaceship operator allows all that to be generated
</p>
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #ff6347;">operator</span>&lt;=&gt;<span style="color: #ffffff;">(</span><span style="color: #ff6347;">const</span> <span style="color: #ee99ff;">T</span> <span style="color: #eedd82;">rhs</span><span style="color: #ffffff;">)</span> <span style="color: #ff6347;">const</span> = <span style="color: #ff6347;">default</span>;
</pre>
</div></li>
<li>provides all the comparison operators</li>
<li>need <code>#include&lt;compare&gt;</code></li>
</ul>
</div>
</div>
</div>
</div>
<div id="outline-container-org9a4811a" class="outline-2">
<h2 id="org9a4811a">Audio Programming&#xa0;&#xa0;&#xa0;<span class="tag"><span class="audio">audio</span></span></h2>
<div class="outline-text-2" id="text-org9a4811a">
</div>
<div id="outline-container-org3690c97" class="outline-3">
<h3 id="org3690c97">Using Locks in Real-Time Audio Processing&#xa0;&#xa0;&#xa0;<span class="tag"><span class="cpp">cpp</span></span></h3>
<div class="outline-text-3" id="text-org3690c97">
<p>:Author:   Timur Doumler<br/>:Source:   <a href="https://timur.audio/using-locks-in-real-time-audio-processing-safely">https://timur.audio/using-locks-in-real-time-audio-processing-safely</a></p>
<p>
When streaming data from one thread to another you can use a single producer single consumer (spsc) FIFO.
When the audio thread shares the data with the other thread then try to make immutable copies. 
When this isn't possible then locks may be uses (as a last resort).
</p>

<p>
Don't use <code>std::mutex::try_lock()</code> because while <code>try_lock</code> doesn't block if the mutex is acquired then when the lock goes out of scope <code>std::mutex::unlock</code> is called.
Normally this isn't a slow operation except when another thread is waiting for the mutex.
Then it requires a system call to interact with the OS scheduler to wake up the thread.
</p>

<p>
A simple spinlock is an option but the waiting thread will spin, maxing out the CPU core and preventing other threads getting work done.
This can be improved by exponential back-off where it:
</p>
<ul class="org-ul">
<li>tries to lock a certain number of times</li>
<li>then starts using CPU pause instructions between requesting the lock</li>
<li>then asks the scheduler to put the thread in the run queue</li>
<li>then starts putting the thread to sleep</li>
</ul>
<p>
This results in progressively longer wait times the longer we fail to get the lock.
[Has an implementation from Bryce Adelstein Lelbach's C++20 synchronization library talk though this is optimized for hundreds of threads]
The pause can be done with the <code>_mm_pause()</code> intrinsic on Intel.
Put back in run queue is done with <code>std::this_thread::yield()</code>.
The problem with <code>yield</code> is it requires the kernel to do lots of work.
In the case with few threads then <code>yield</code> will put the thread on the queue then immediately schedule it back in.
This will result in a high CPU load if it is happening in a loop.
So you only want to yield when there's lots of threads and lots of work being done.
<b>Don't yield in a loop.</b>
</p>

<p>
Putting the thread to sleep is also a problem since it involves a yield but also the time between each audio callback is very small. 
So a waiting thread could easily miss the window where the mutex is available.
</p>

<p>
Tuned exponential back-off for audio looks like:
</p>
<ol class="org-ol">
<li>Loop 3 times trying to get lock with <code>try_lock()</code>.</li>
<li>Loop 10 times trying to the lock then calling <code>mm_pause()</code>.</li>
<li>Loop 3000 times calling <code>try_lock()</code> then calling <code>mm_pause()</code> 10 times in a row.</li>
<li>Yield the thread to allow the scheduler to get things back under control since the system is obviously under high load.</li>
<li>Alternate between steps 3) &amp; 4) until the lock is acquired.</li>
</ol>
<p>
Step 3) provides a low energy step that is still short enough that it will still probably catch the mutex between audio callback calls.
It calls <code>mm_pause()</code> 10 times in a row rather than in a loop because that prevents the CPU from having to do work with incrementing and checking a counter.
Apparently most (all?) compilers won't unroll that loop.
</p>
</div>
</div>
<div id="outline-container-orgdd055d3" class="outline-3">
<h3 id="orgdd055d3">Real-time Audio Programming 101: Time Waits For Nothing</h3>
<div class="outline-text-3" id="text-orgdd055d3">
<p>:Author:   Ross Bencina<br/>:Source:   <a href="http://www.rossbencina.com/code/real-time-audio-programming-101-time-waits-for-nothing">http://www.rossbencina.com/code/real-time-audio-programming-101-time-waits-for-nothing</a></p>
<ul class="org-ul">
<li>8 ms is a rough target latency for interactive systems.</li>
<li>If you don't know how long something will take then don't do it.
<ul class="org-ul">
<li>audio code must always take a predictable amount of time</li>
</ul></li>
<li>always look at the worst case performance of algorithms. Most of the time the average case is presented.</li>
<li>Never use a lock when controlling audio from a lower priority thread
<ul class="org-ul">
<li>Priority inversion: if the audio thread shares a lock with a low priority thread the low priority thread can be interrupted while holding the lock causing the audio thread to wait for the interrupting thread and the low priority thread to finish.
<ul class="org-ul">
<li>Priority inheritance locks elevate the priority of the thread holding the lock to the priority of the thread waiting. Available in Linux as PTHREAD_PRIO_INHERIT</li>
</ul></li>
<li>Can accidentally call code with unbounded execution time</li>
<li>Extra interaction with the thread scheduler</li>
</ul></li>
<li>Trylocks: in the worst case code may never acquire the lock.</li>
<li>Memory allocation: never do it in an audio callback. Possible solutions:
<ul class="org-ul">
<li>Pre-allocate all data</li>
<li>Only do dynamic allocation in a non-real-time thread when it isn't time critical</li>
<li>Allocate a memory pool and use your own deterministic dynamic allocator which only the audio callback uses (so no locks)</li>
</ul></li>
<li>GC: real-time GCs exist. The GC can interrupt the audio callback.</li>
<li>Page faults: OS can page out memory that is used by the callback. Normally won't if the memory is used frequently but is possible especially if low on memory.
<ul class="org-ul">
<li>Possible to lock memory in RAM with <code>mlock/munlock</code> (UNIX) or <code>VirtualLock/VirtualUnlock</code> (Windows).</li>
</ul></li>
<li>Don't wait for hardware or external events
<ul class="org-ul">
<li>eg. disc i/o</li>
</ul></li>
<li>Don't use system API functions unless specifically marked as real-time
<ul class="org-ul">
<li>Never know how long they will take or if they lock/perform allocation/ disk io</li>
</ul></li>
<li>Use algorithms with good worst case time complexity (ideally O(1))</li>
<li>Amortize computations across many samples to smooth out the CPU load rather than using "bursty" algorithms which sometimes take longer.</li>
<li>Pre-allocate &amp; pre-compute date in non-RT thread</li>
<li>Use audio callback only data structures so you don't have to worry about concurrency</li>
<li>Use a lockfree FIFO to send data and commands between the RT and non-RT threads.</li>
</ul>
</div>
</div>
<div id="outline-container-orgf954543" class="outline-3">
<h3 id="orgf954543">Real-time 101 Part 1: Investigating the Real-time Problem Space</h3>
<div class="outline-text-3" id="text-orgf954543">
<p>:Author:   Fabian Renn-Giles &amp; Dave Rowland<br/>:Source:   <a href="https://www.youtube.com/watch?v=Q0vrQFyAdWI">https://www.youtube.com/watch?v=Q0vrQFyAdWI</a></p>

<div class="figure">
<p><img src="images/real-time.png" alt="real-time.png">
</p>
</div>

<p>
Real-time: correctness relies on the logical output and the time it was returned.
Audio: Hard to firm real-time system.
RT thread gets an uninterrupted period to run in.
It must run within this time otherwise it can be marked as a normal thread and can be scheduled out before it's finished.
</p>
</div>
<div id="outline-container-orgcc37920" class="outline-4">
<h4 id="orgcc37920">Context Switch</h4>
<div class="outline-text-4" id="text-orgcc37920">
<p>
Loading the state of a thread into the CPU when it is scheduled in. The address space can move and the cache changes.
</p>
</div>
</div>
<div id="outline-container-orgd2f6a11" class="outline-4">
<h4 id="orgd2f6a11">Memory Access</h4>
<div class="outline-text-4" id="text-orgd2f6a11">
<p>
Memory can get moved to various levels of caches, RAM or to disc (disc is terrible).
To keep memory in caches we can have a thread that pokes the memory we need to keep it in the cache.
<code>mlock=/=munlock</code> (POSIX) and <code>VirtualLock=/=VirtualUnlock</code> (Windows) tells the OS never to page certain memory to disc (this can break the system if it used too much because the OS will run out of memory).
</p>
</div>
</div>
<div id="outline-container-org3c18d09" class="outline-4">
<h4 id="org3c18d09">Priority Inversion</h4>
<div class="outline-text-4" id="text-org3c18d09">
<p>
The high priority thread can wait for a low priority thread if the low priority thread gets a lock first then performs an expensive operation.
Also a problem if the low priority thread gets put to sleep after getting the lock.
Don't rely on things that say <code>std::atomic</code>, they aren't necessarily lock free.
Avoid making copies (allocations are slow).
<code>std::move</code> when there is only a copy constructor will do a copy.
</p>
</div>
</div>
<div id="outline-container-org7c98390" class="outline-4">
<h4 id="org7c98390">Categories of "Nastiness" in non-RT Programming</h4>
<div class="outline-text-4" id="text-org7c98390">
<ul class="org-ul">
<li>Blocking</li>
<li>Non-Wait Free: execution time is unbounded (eg. spinlocks)</li>
<li>Wait Free: The best. Non unbounded loops or syscalls.</li>
</ul>
<p>
If sharing data and not interacting with the the RT thread then use locks.
The optimizer always assumes no data races exist, which can cause strange behaviour (eg. variables cached in register when one thread reads and the other writes).
Always <code>static_assert</code> that <code>std::atomic::is_always_lock_free</code> otherwise it is using locks.
<code>std::memory_order</code> can be used to relax the memory ordering of atomic operations.
This will only be the case with small data structures.
A relaxed atomic can be used if you don't care about the effects of variable (eg. a control where you just vaguely want to know what the value is).
When you're dealing with bigger data you can use a try lock (<code>try_to_lock</code>) then branch on whether the lock is available.
Prefer to use a spinlock since <code>try_lock</code> and <code>unlock</code> will be wait free (<code>std::mutex</code>'s <code>unlock</code> can be blocking since it involves a syscall).
Non-RT thread could be blocked for a long time since the scheduler could miss the "window" so only use <code>try_lock</code> when not getting the data is OK.
</p>
</div>
</div>
</div>
<div id="outline-container-org29cf9d5" class="outline-3">
<h3 id="org29cf9d5">Real-time 101 Part 2: The Real-time Audio Developer's Toolbox</h3>
<div class="outline-text-3" id="text-org29cf9d5">
<p>:Author:   Fabian Renn-Giles &amp; Dave Rowland<br/>:Source:   <a href="https://www.youtube.com/watch?v=PoZAo2Vikbo">https://www.youtube.com/watch?v=PoZAo2Vikbo</a></p>
</div>
<div id="outline-container-org5bd24d6" class="outline-4">
<h4 id="org5bd24d6">RT thread doesn't modify data</h4>
<div class="outline-text-4" id="text-org5bd24d6">
<p>
If the RT thread not changing data then use CAS exchange loop (Compare and Set)
It gets a <code>unique_ptr</code> to the data and atomic pointer to the <code>unique_ptr</code>.
The RT thread gets the pointer from the atomic pointer then sets the atomic ptr to <code>nullptr</code>. 
It then puts it back when it is done.
The non-RT thread can check if the expected value is in the atomic ptr and then switch values when it is (will be <code>nullptr</code> if the RT thread is using the data).
Farbot has NonRealtimeMutable that does this.
This can be used if the RT thread can't fail to get the resource.
</p>
</div>
</div>
<div id="outline-container-org5fcfd1e" class="outline-4">
<h4 id="org5fcfd1e">Only RT thread modifies data</h4>
<div class="outline-text-4" id="text-org5fcfd1e">
<p>
Use double buffering where there are two buffers with the RT thread writing into one.
When the non-RT thread wants to read the buffers get swapped so the RT thread can continue writing.
It requires a flag to indicate when there is new data and when it is busy (currently writing).
RealtimeMutable in Farbot since it is difficult to get right.
</p>
</div>
</div>
<div id="outline-container-org5050318" class="outline-4">
<h4 id="org5050318">Passing data between threads</h4>
<div class="outline-text-4" id="text-org5050318">
<p>
Use a FIFO when the data is too large for an atomic.
Since it uses a ring buffer when writing and it is full then can either refuse to write or overwrite the previous data.
Costs of various FIFOs at [27:48].
</p>
</div>
</div>
<div id="outline-container-org0b3b9b1" class="outline-4">
<h4 id="org0b3b9b1">When multiple RT threads and non-RT threads mutating data</h4>
<div class="outline-text-4" id="text-org0b3b9b1">
<p>
Really try to avoid this situation.
Have one thread responsible for mutating the data and the other threads can defer to that one.
</p>
</div>
</div>
<div id="outline-container-orge1fd35b" class="outline-4">
<h4 id="orge1fd35b">Debugging Real-time Code</h4>
<div class="outline-text-4" id="text-orge1fd35b">
<p>
Turn on the thread sanitizer.
<code>strace</code>: lists all the system calls of all threads.
</p>
</div>
</div>
<div id="outline-container-org1ab89a0" class="outline-4">
<h4 id="org1ab89a0">Summary</h4>
<div class="outline-text-4" id="text-org1ab89a0">
<ul class="org-ul">
<li>Don't miss deadlines.</li>
<li>Beware hidden costs.</li>
<li>Use instrumentation. It's very difficult to reason about RT code.</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-orgb4049bc" class="outline-3">
<h3 id="orgb4049bc">Building a Spatial Audio Plug-In</h3>
<div class="outline-text-3" id="text-orgb4049bc">
<p>:Author:   Allen Lee<br/>:Source:   <a href="https://www.youtube.com/watch?v=A7DwT5Aa1dQ">https://www.youtube.com/watch?v=A7DwT5Aa1dQ</a></p>
<p>
The Head Related Impulse Response (HRIR) encodes the Intra-aural Level Difference (ILD) 
and Intra-aural Time Difference (ITD).
The Head Related Transfer Function (HRFT) is the FFT of the HRIR.
Applying the HRTF directly to sounds makes them sound like they are coming from inside
the head.
Room reverberation is important for externalizing the sound.
</p>

<p>
Spatially Oriented Format for Acoustics (SOFA) is a file format for storing HRIRs (since
they often contain measurements for many different angles).
It also stores the number of measurements and the sampling frequency.
</p>

<p>
Applying HRTFs can be as easy as applying an FIR filter.
Doing it in the frequency domain can be faster: FFT of input x FFT of HRIR then apply
the inverse FFT.
</p>

<p>
<b>Overlap &amp; Add:</b>
</p>
<ol class="org-ol">
<li>Split the signal into N blocks of size M</li>
<li>Take the block starting at sample k and perform FFT</li>
<li>Do processing</li>
<li>Perform inverse FFT</li>
<li>Shift the output by k</li>
<li>At the end all the blocks are added</li>
</ol>

<p>
<b>Zero padding</b>
</p>

<p>
Changing between HRTFs (moving the sound source) causes noise.
His solution was to process the audio with the old and new HRTFs and then cross-fade the 
results.
</p>

<p>
Using Constant Overlap and Add (COLA) windowing further reduces artifacts.
</p>

<p>
He adds reverb to the original signal then mixes it with the binaural sound.
</p>
</div>
</div>
<div id="outline-container-org44faf6e" class="outline-3">
<h3 id="org44faf6e">Interactive Audio Plug-in Development with the Wwise SDK</h3>
<div class="outline-text-3" id="text-org44faf6e">
<p>:Author:   Joel Robichaud<br/>:Source:   <a href="https://www.youtube.com/watch?v=MOZPi2rtfQo">https://www.youtube.com/watch?v=MOZPi2rtfQo</a></p>
<ul class="org-ul">
<li>interactive as in modified by end user / game player</li>
<li>Anatomy of a Wwise plugin
<ul class="org-ul">
<li>two plug-ins: 1 for game engine and other for Authoring tool
<ul class="org-ul">
<li>Authoring plugin:
<ul class="org-ul">
<li>XML descriptor &amp; dll for windows</li>
<li>XML describes plugin &amp; editable properties: UI can be autogenerated from this</li>
<li>Done by implementing and extending a Wwise C++ object</li>
<li>Plug-ins allocate their own memory and register when the dll is attached</li>
</ul></li>
<li>Sound Engine plug-in:
<ul class="org-ul">
<li>static library (though on Unity it uses a shared object)</li>
<li>contains all the DSP</li>
<li>several types of plug-ins (effect, sink, &#x2026;)</li>
</ul></li>
</ul></li>
<li>Soundbanks are used to communicate between the Authoring and sound engine plug-ins
<ul class="org-ul">
<li>either entirely in memory during development or as a binary file in production</li>
</ul></li>
<li>Sound Engine must allocate using SDK provided allocators</li>
<li>Plug-in generator to ease supporting platforms
<ul class="org-ul">
<li>WWise has a large number of platforms that it supports (all the consoles)</li>
<li>CLI tools written in python</li>
<li>Generate project based on provided plug-in type</li>
<li>Does both Sound Engine &amp; Authoring plugins</li>
<li>Premake takes target platform [seems like cmake]</li>
<li>The generated plug-in is fully compilable</li>
<li>The plug-in is built into the WWise install folder so it will appear in the Authoring tool automatically</li>
<li>Finally it packages up all the platforms into an archive</li>
</ul></li>
<li>Not all JUCE DSP code can be used in WWise because some consoles don't have full C++ support</li>
<li>Showing how to share UI code between WWise &amp; JUCE
<ul class="org-ul">
<li>uses multiple inheritance to inherit from both JUCE &amp; WWise</li>
</ul></li>
<li>possible to build for JUCE with the Wwise build tools</li>
</ul></li>
<li>On <a href="https://www.github.com/joelrobichaud/Voluminous">github</a></li>
</ul>
</div>
</div>
<div id="outline-container-orge5839ca" class="outline-3">
<h3 id="orge5839ca">Under the Hood of VST2, VST3, AU, AUv3 and AAX</h3>
<div class="outline-text-3" id="text-orge5839ca">
<p>:Author:   Fabian Renn-Giles<br/>:Source:   <a href="https://www.youtube.com/watch?v=swVqdbhfkkE">https://www.youtube.com/watch?v=swVqdbhfkkE</a></p>
<ul class="org-ul">
<li>The guts of the SDKs are huge</li>
<li>Why so complicated: just move processing function into dll
<ul class="org-ul">
<li>performance will tank because the compiler can't inline</li>
<li>portability fails</li>
</ul></li>
<li>Windows dlls don't allow dependencies in the host</li>
</ul>
</div>
<div id="outline-container-orgdac1496" class="outline-4">
<h4 id="orgdac1496">VST2</h4>
<div class="outline-text-4" id="text-orgdac1496">
<ul class="org-ul">
<li>plugins include .cpp file that contains entry point (using C calling convention)
<ul class="org-ul">
<li>sets up dispatcher that sets C++ functions to use</li>
<li>kills performance so function pointers passed for performance critical section</li>
</ul></li>
<li>Simple API for parameters</li>
<li>host &amp; plugin can query each others feature support</li>
<li>was not intended for multi processor machine</li>
<li>problems with ownership of certain things
<ul class="org-ul">
<li>eg. <code>getSpeakerArrangement</code> problem with plugin allocating and host deallocating. JUCE just leaks memory here to get it to work correctly on all hosts</li>
</ul></li>
<li>other limitations of [00:26]</li>
</ul>
</div>
</div>
<div id="outline-container-org5370a0d" class="outline-4">
<h4 id="org5370a0d">Audio Units</h4>
<div class="outline-text-4" id="text-org5370a0d">
<ul class="org-ul">
<li><code>ComponentManager</code> released with Quicktime in 1991</li>
<li>Launched 2001 in Mac OSX</li>
<li>Divided into scopes: Global, Input, Output
<ul class="org-ul">
<li>Each have elements which have properties</li>
<li>Can listen to each property for changes</li>
</ul></li>
<li>Get given a render callback for audiounits connected to your input and are responsible for calling it to get the input
<ul class="org-ul">
<li>Can get any buffer size from input</li>
<li>Allows for more flexibility</li>
</ul></li>
<li>Have core audio utility classes to overcome portability challenge</li>
<li>Features of Parameters [33:34]</li>
<li>Parameter changes can be ramped or immediate</li>
<li>Addressed many limitations of VST2</li>
</ul>
</div>
</div>
<div id="outline-container-org9a64a0f" class="outline-4">
<h4 id="org9a64a0f">VST3</h4>
<div class="outline-text-4" id="text-org9a64a0f">
<ul class="org-ul">
<li>Structure:
<ul class="org-ul">
<li>Processing part: takes audio &amp; events (DSP only)</li>
<li>Controllers does all business logic</li>
<li>Controller &amp; processing part only communicate via messages (no pointers)</li>
</ul></li>
<li>Uses virtual class for communication
<ul class="org-ul">
<li>C++ interfaces are portable across compilers if certain rules are followed (no destructors, only POD parameters, no exceptions, no operators)</li>
<li>COM, Avoids opcode system</li>
</ul></li>
<li>Processor gets parameters from Host</li>
<li>Wrappers to export to other plug-in formats</li>
</ul>
</div>
</div>
<div id="outline-container-orgbd3966c" class="outline-4">
<h4 id="orgbd3966c">AAX</h4>
<div class="outline-text-4" id="text-orgbd3966c">
<ul class="org-ul">
<li>Separate controller for business logic &amp; processor which gets audio</li>
<li>Almost use COM except use virtual destructors</li>
</ul>
</div>
</div>
<div id="outline-container-orge7f1d58" class="outline-4">
<h4 id="orge7f1d58">AudioUnits v3</h4>
<div class="outline-text-4" id="text-orge7f1d58">
<ul class="org-ul">
<li>Introduced 2013</li>
<li>Backwards compatible so same structure as AU</li>
<li>Use objective-C which makes it portable</li>
<li>Sandboxing</li>
</ul>
</div>
</div>
<div id="outline-container-org4993881" class="outline-4">
<h4 id="org4993881">The Future</h4>
<div class="outline-text-4" id="text-org4993881">
<ul class="org-ul">
<li>Only compile to LLVM byte code that gets compiled by the host
<ul class="org-ul">
<li>SOUL has gone further than this</li>
</ul></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-orgc9a276e" class="outline-3">
<h3 id="orgc9a276e">Towards std::audio&#xa0;&#xa0;&#xa0;<span class="tag"><span class="cpp">cpp</span></span></h3>
<div class="outline-text-3" id="text-orgc9a276e">
<p>:Source:   <a href="https://www.youtube.com/watch?v=1aGoJSvwZjg">https://www.youtube.com/watch?v=1aGoJSvwZjg</a><br/>:Author:   Guy Somberg &amp; Timur Doumler &amp; Guy Davidson</p>
<ul class="org-ul">
<li>creating a simple white noise code requires lots of boiler plate</li>
<li>FMOD studio low level api: operate on a DSP graph rather than writing samples</li>
<li>Most APIs are either platform specific and proprietary</li>
<li>Audio proposal
<ul class="org-ul">
<li><code>std::experimatal::audio</code></li>
<li>can get default device and create callback with <code>.connect</code>.</li>
</ul></li>
<li>plan to standardise interface rather than implementation</li>
<li>device: audio input/output endpoint
<ul class="org-ul">
<li>supports callback &amp; polling systems</li>
</ul></li>
<li><code>buffer_list</code>: all input and output buffers
<ul class="org-ul">
<li>allows for multiple input/output buffers</li>
</ul></li>
<li>buffer
<ul class="org-ul">
<li>concern over what type to use as different ones used on different systems</li>
</ul></li>
<li>Channel #sy13-io on cpplang.slack.com</li>
<li>SG13-HMI Google Group</li>
</ul>
</div>
</div>
<div id="outline-container-orgb9279fa" class="outline-3">
<h3 id="orgb9279fa">How Perceptual Audio Coding Has Shaped Our Lives</h3>
<div class="outline-text-3" id="text-orgb9279fa">
<p>:Author:   Marina Bosi<br/>:Source:   <a href="https://www.youtube.com/watch?v=3BHMykq5PTU">https://www.youtube.com/watch?v=3BHMykq5PTU</a></p>
<ul class="org-ul">
<li>Don't waste bits on things that can't be heard</li>
<li>Not good at high/low freq but very sensitive to mids</li>
<li>Sounds can be masked by other sounds
<ul class="org-ul">
<li>loud sounds mask in freq &amp; time</li>
<li>masks before as well (there's a build up and ramps down) Perceptual audio normally treats it as a snapshot and ignores the ramping</li>
</ul></li>
<li>SMR: Signal to Masked Ratio</li>
<li>Take advantage of this to shape quantisation noise</li>
<li>Have to listen to perceptual codecs to test them
<ul class="org-ul">
<li>look at perceptual differences with original</li>
<li>in relation to bitrate</li>
</ul></li>
<li>thought were done with perceptual coding AAC
<ul class="org-ul">
<li>done with waveform coding</li>
</ul></li>
<li>SBR (Spectral Band replication) came into play
<ul class="org-ul">
<li>originally applied to speech</li>
<li>when encoding a signal and allocating bits, it's safe bet to start allocating bits in the middle of the spectrum</li>
<li>if start running out of bits just low pass it</li>
<li>Instead chop off high part of spectrum and only encode low part</li>
<li>Then derive higher part of the spectrum as a function of the lower part</li>
<li>SBR chop off higher part of spectrum
<ul class="org-ul">
<li>Then can transpose lower part of spectrum into the higher part and reshape it</li>
<li>That way only need the envelope info for the higher part</li>
<li>Saves huge amount of data</li>
</ul></li>
</ul></li>
<li>Stockhausen created 3D (Spherical Concert Hall) installation with 50 speakers in a sphere
<ul class="org-ul">
<li>special compositions were played</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org0eb1834" class="outline-3">
<h3 id="org0eb1834">An Introduction to Rust for Audio Developers&#xa0;&#xa0;&#xa0;<span class="tag"><span class="rust">rust</span></span></h3>
<div class="outline-text-3" id="text-org0eb1834">
<ul class="org-ul">
<li>offers low level control with high level abstractions</li>
<li>precise timing</li>
<li>2006 started as internal project at Mozilla</li>
<li>What makes different to C++?
<ul class="org-ul">
<li>everything const by default</li>
<li>choose between 1 mutable reference or &infin; immutable references
<ul class="org-ul">
<li>makes concurrency easier to write</li>
</ul></li>
</ul></li>
<li>rustup.rs to install toolchain easy</li>
<li>Freeverb: public domain reverb algorithm
<ul class="org-ul">
<li>analysis: ccrma.standrod.edu/~jos/pasp/Freeverb.html</li>
<li>binaries and source code available</li>
</ul></li>
<li>don't have constructors in rust?</li>
<li><code>unsafe</code> keyword for dealing with unsafe C FFI</li>
<li>using Rust in C++
<ul class="org-ul">
<li>build static/dynamic library</li>
<li>add attributes to functions to expose them in C compatible way (<code>no_mangle, extern</code>)</li>
<li><code>cbindgen</code>: tool to generate a C header from Rust code</li>
<li>can then be used in JUCE</li>
</ul></li>
<li>toolchain for generating WASM
<ul class="org-ul">
<li><code>wasmbindgen</code> to expose Rust code to javascript</li>
</ul></li>
<li>SIMD is part of standard library</li>
<li>Incomplete iOS support</li>
<li>Can debug in VSCode</li>
<li><a href="https://github.com/RustAudio/vst-rs">rust-vst</a></li>
</ul>
</div>
</div>
<div id="outline-container-org3860371" class="outline-3">
<h3 id="org3860371">SOUL Announcement - Keynote ADC 2018</h3>
<div class="outline-text-3" id="text-org3860371">
<p>:Source:   <a href="https://www.youtube.com/watch?v=-GhleKNaPdk">https://www.youtube.com/watch?v=-GhleKNaPdk</a><br/>:Author:   Julian Storer</p>
<ul class="org-ul">
<li>Audio programming hasn't really changed in 20 years</li>
<li>Tools are either fast or easy
<ul class="org-ul">
<li>Tools like PD for prototyping</li>
<li>But C++ for production</li>
</ul></li>
<li>Audio code runs on CPU
<ul class="org-ul">
<li>long way from where audio is used</li>
<li>lots of overhead with OS and DAW</li>
<li>results in high latency</li>
</ul></li>
<li>Domain Specific Architecture:
<ul class="org-ul">
<li>have hardware designed for specific task (GPUs, TPUs)</li>
<li>DSP is a DSA for audio and they are everywhere. But very difficult to get code to run on it.</li>
<li>in comparison: easy to run code on GPU</li>
</ul></li>
<li>New language: SOUL
<ul class="org-ul">
<li>not a general purpose: designed to augment</li>
<li>embedded in existing language</li>
</ul></li>
<li>SOUL platform:
<ul class="org-ul">
<li>write app in favourite language and call the SOUL API
<ul class="org-ul">
<li>Several options:
<ul class="org-ul">
<li>JIT compiler for SOUL and connect standard audio driver. Was using LLVM JIT for demo</li>
<li>Have JIT compiler in driver: avoid passing buffers around. Greater speeds in latency. When running multiple apps call code compiled in to single app.</li>
<li>Run code on DSP. Latency close to 0. Hardware already exists</li>
<li>Push out of host machines on to separate processor. (smart speaker, rack). Build with server model and ran on Bela board</li>
<li>Run in JavaScript to compile to Web assembly using Web audio</li>
</ul></li>
</ul></li>
<li>original programmer doesn't need to know where code would be run</li>
</ul></li>
<li>No buffers, Write components and connect them together in a graph.</li>
</ul>
</div>
</div>
<div id="outline-container-orgc269faf" class="outline-3">
<h3 id="orgc269faf">Fifty Shades of Distortion</h3>
<div class="outline-text-3" id="text-orgc269faf">
<p>:Author:   Ivan Cohen<br/>:Source:   <a href="https://www.youtube.com/watch?v=oIChUOV_0w4">https://www.youtube.com/watch?v=oIChUOV_0w4</a></p>
<p>
Examples are on the JUCE forum.
</p>
<ul class="org-ul">
<li>static waveshapers
<ul class="org-ul">
<li>Often form basic stage in more complex distortion.</li>
<li>Add gain before static waveshaper to experiment to get interesting results.</li>
<li>Hard clipping: hard limiting. Useful for limiters. Returns output until above threshold.</li>
<li>Tanh waveshapers &amp; sigmoids: 'S' shaped curves. More gentle. Lots of difference waveshapes on the Internet.</li>
<li>Square waveshaper [7:28]: Very hard. Round input up or down to two values.</li>
<li>Fast approximations of functions: Use approximation (like lookup table) instead of CPU hungry functions (like tanh).</li>
<li>Foldover algorithms: transfer function can loop (isn't constantly increasing/decreasing) [9:58]
<ul class="org-ul">
<li>Sine: will generate lots of harmonics, drive control will change harmonic generation a lot.</li>
</ul></li>
</ul></li>
<li>Pre &amp; post filter blocks: Place filters before and after the waveshaper.
<ul class="org-ul">
<li>eg. hi-pass before + lo-pass after</li>
<li>Interesting results from removing frequencies before the waveshaper and adding them back in afterwards.
<ul class="org-ul">
<li>Might misunderstand that, it might be that you do the inverse afterwards so you might just boost the frequency band in the wet signal if you had attenuated it before the waveshaper.</li>
</ul></li>
<li>low-pass filter can be used as cheap cabinet simulator.</li>
<li>examples of difference filter blocks at [16:44]</li>
</ul></li>
<li>Dynamic processors: compressors, noise gates&#x2026;</li>
</ul>
</div>
<div id="outline-container-orgdd0c929" class="outline-4">
<h4 id="orgdd0c929">Digital Only</h4>
<div class="outline-text-4" id="text-orgdd0c929">
<ul class="org-ul">
<li>Oversampling:
<ul class="org-ul">
<li>aliasing is a concern with distortion as we're generating harmonics
<ul class="org-ul">
<li>peaks end up aliasing and inharmonic</li>
</ul></li>
<li>doing the distortion processing with higher sample rates allow to reduce aliasing.</li>
<li>Bitcrusher: intentionally uses audio artifacts from over/undersamping
<ul class="org-ul">
<li>simplest way to do it is just replace a lot of samples in input sample with 0</li>
</ul></li>
</ul></li>
<li>slew limiter: effect that doesn't allow the waveform to change faster than a certain threshold</li>
</ul>
</div>
</div>
<div id="outline-container-orgc5d7275" class="outline-4">
<h4 id="orgc5d7275">Analog Modeling</h4>
<div class="outline-text-4" id="text-orgc5d7275">
<ul class="org-ul">
<li>Black box modeling:
<ul class="org-ul">
<li>taking impulse response to get linear measurement
<ul class="org-ul">
<li>only works for linear system</li>
</ul></li>
<li>Dynamic convolution: used to model non-linear system</li>
</ul></li>
<li>Hysteresis: wave shaper where shape changes depending how sound is moving?</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org8d127c2" class="outline-3">
<h3 id="org8d127c2">Wavetable Synthesis 101</h3>
<div class="outline-text-3" id="text-org8d127c2">
<ul class="org-ul">
<li>need a static waveform generator that uses circular table of waveform values
<ul class="org-ul">
<li>a phase accumulator for address generation</li>
<li>method of interpolating between samples</li>
</ul></li>
<li>if linear interpolation is used a larger wavetable needed to reduce error
<ul class="org-ul">
<li>smaller wavetable can be archived and then expanded into larger table using high quality interpolation</li>
</ul></li>
<li>can change waveform with time by mixing finite set of static phase-locked tables
<ul class="org-ul">
<li>each scaled by individual envelopes</li>
</ul></li>
<li>1 method is crossfade between wavetables
<ul class="org-ul">
<li>envelope functions overlap so only two are non-zero at a time</li>
<li>even though possibly many tables only two are mixed at a time</li>
</ul></li>
<li>wavetable size should be an integer power of 2 for simple modulo address arithmetic &amp; convenient radiz-2 DFT or FFT [descends into maths of using wavetables for synthesizing quasi-periodic signals]</li>
</ul>
</div>
</div>

<div id="outline-container-org718bcb0" class="outline-3">
<h3 id="org718bcb0">Opening the Box: Whitebox Testing of Audio Software</h3>
<div class="outline-text-3" id="text-org718bcb0">
<p>:Author: Christof Mathies<br/>:Source: <a href="https://www.youtube.com/watch?v=Kvfhu0WDUM4">https://www.youtube.com/watch?v=Kvfhu0WDUM4</a></p>
<ul class="org-ul">
<li>Prioritising automatic test cases
<ul class="org-ul">
<li>by business view - which functionality is most important</li>
<li>by failure likeliness? Run the tests that fail the most, first. Likely the section they are testing is fragile and most likely to be broken</li>
<li>or only run the tests that test the code that has been changed</li>
</ul></li>
<li>System must be easy to setup &amp; use</li>
<li>Things that can cause false positives
<ul class="org-ul">
<li>noise in audio tests, sometimes running tests in different order results in slightly different "background" noise from the application</li>
<li>turned off display, update dialog</li>
</ul></li>
<li>Plugin testing: measure plugin response and take MD5 of output (for when sound should not change at all)
<ul class="org-ul">
<li>measures similarity:
<ul class="org-ul">
<li>Signal A - Signal B &lt; &epsilon; (in case of small noise differences)</li>
<li>identical/similar FFT spectrum
<ul class="org-ul">
<li>can get spectrum image as failure report</li>
</ul></li>
</ul></li>
<li>measure impulse response on every build with history</li>
<li>other measurements for builds
<ul class="org-ul">
<li>amplitude statistics, spectral properties, total harmonic distortion, SNK, phase delay, peag, speech transmission index</li>
</ul></li>
</ul></li>
<li>Adobe Audition supports scripting to end users. See video for details on setting up.</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org5591067" class="outline-2">
<h2 id="org5591067">Maths</h2>
<div class="outline-text-2" id="text-org5591067">
</div>
<div id="outline-container-org834ff27" class="outline-3">
<h3 id="org834ff27">Math Symbols Explained with Python</h3>
<div class="outline-text-3" id="text-org834ff27">
<p>:Author: Amit Chaudhary<br/>:Source: <a href="https://amitness.com/2019/08/math-for-programmers/">https://amitness.com/2019/08/math-for-programmers/</a></p>
<ul class="org-ul">
<li>Indexing: x<sub>i</sub> or x<sub>ij</sub> for 2d. Takes the ith element of vector (array)</li>
<li>Sigma: \(\sum_{i=1}^{N}X_{i}\)
<ul class="org-ul">
<li>sum all elements in vector x for range 1 to N</li>
</ul></li>
<li>Average: \(\frac{1}{N}\sum_{i=1}^{N}X_{i}\)
<ul class="org-ul">
<li>like sigma but divide by number of elements to get the average</li>
</ul></li>
<li>PI: \(\prod_{i=1}^{N}X_{i}\)
<ul class="org-ul">
<li><p>
product of all elements in the given range (1&rarr;N)
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #eedd82;">result</span> = 1
<span style="color: #ff6347;">for</span> i <span style="color: #ff6347;">in</span> <span style="color: #b0c4de;">range</span><span style="color: #ffffff;">(</span>N<span style="color: #ffffff;">)</span>:
  <span style="color: #eedd82;">result</span> = result * x<span style="color: #ffffff;">[</span>i<span style="color: #ffffff;">]</span>
</pre>
</div></li>
</ul></li>
<li>Pipe: | can mean different things depending on position
<ul class="org-ul">
<li>Absolute value: |x|</li>
<li>Norm of Values: |x| or ||x||
<ul class="org-ul">
<li>Calculable magnitude of a vector.</li>
<li>Square each element of array, summing them then take the square root</li>
</ul></li>
</ul></li>
<li>Belongs to: 3 &isin; X
<ul class="org-ul">
<li>Check if element (3 in example) is in set (X in example)</li>
</ul></li>
<li>Function: f:X&rarr;Y
<ul class="org-ul">
<li>Denotes function that takes domain X and maps it to range Y</li>
<li>Several symbols are used instead of X and Y
<ul class="org-ul">
<li>f:R&rarr;R means input and output are any real number</li>
<li>f:R<sup>d</sup>&rarr;R R<sup>d</sup> means d-dimensional vector of real numbers (eg. if d=2 then could be x=[1,2] in python)</li>
</ul></li>
</ul></li>
</ul>
<p>
Tensors
</p>
<ul class="org-ul">
<li>Transpose: X<sup>T</sup>
<ul class="org-ul">
<li>exchange rows and columns
[ [1,2,3], [4,5,6] ]
becomes
[ [1,4], [2,5], [3,6] ]</li>
</ul></li>
<li>Element-wise manipulation: z = x o y
<ul class="org-ul">
<li>multiply corresponding elements in two tensors (lists in Python)</li>
</ul></li>
<li>Dot product: xy or x &sdot; y
<ul class="org-ul">
<li><p>
gives the sum of the products of corresponding elements of the two sequences of numbers
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #eedd82;">x</span> = <span style="color: #ffffff;">[</span>1,2,3<span style="color: #ffffff;">]</span>
<span style="color: #eedd82;">y</span> = <span style="color: #ffffff;">[</span>4,5,6<span style="color: #ffffff;">]</span>
<span style="color: #eedd82;">dot</span> = <span style="color: #b0c4de;">sum</span><span style="color: #ffffff;">(</span><span style="color: #00bfff;">[</span>i*j <span style="color: #ff6347;">for</span> i,j <span style="color: #ff6347;">in</span> <span style="color: #b0c4de;">zip</span><span style="color: #00ff00;">(</span>x,y<span style="color: #00ff00;">)</span><span style="color: #00bfff;">]</span><span style="color: #ffffff;">)</span>
</pre>
</div></li>
</ul></li>
<li>Hat: \(\hat{X}\)
<ul class="org-ul">
<li>Unit vector. Divide each element by its norm (||x||)</li>
</ul></li>
<li>Exclamation: x!
<ul class="org-ul">
<li>Factorial of number (multiply every number from 1 to the given number)</li>
</ul></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org32d8993" class="outline-2">
<h2 id="org32d8993">SE</h2>
<div class="outline-text-2" id="text-org32d8993">
</div>
<div id="outline-container-orge1abc82" class="outline-3">
<h3 id="orge1abc82">Introduction to Algorithms</h3>
<div class="outline-text-3" id="text-orge1abc82">
</div>
<div id="outline-container-org51f3642" class="outline-4">
<h4 id="org51f3642">Lecture 1</h4>
<div class="outline-text-4" id="text-org51f3642">
<p>:Source:   <a href="https://www.youtube.com/watch?v=HtSuA80QTyo&amp;list=PLUl4u3cNGP61Oq3tWYp6V_F-5jb5L2iHb&amp;index=2&amp;t=0s">https://www.youtube.com/watch?v=HtSuA80QTyo&amp;list=PLUl4u3cNGP61Oq3tWYp6V_F-5jb5L2iHb&amp;index=2&amp;t=0s</a></p>
<ul class="org-ul">
<li>algorithms give you language to talk about program behaviour</li>
<li>performance is the currency of acquiring things like security, user friendliness</li>
<li>permutation: rearrangement</li>
<li>Insertion sort:
<ul class="org-ul">
<li>Running time: reliant on several factors
<ul class="org-ul">
<li>input: if already sorted very little  work. If reverse sorted: lots of work</li>
<li>input size: more stuff than takes longer</li>
<li>want upper bounds on time to provide guarantee to user</li>
</ul></li>
</ul></li>
<li>Kinds of analysis:
<ul class="org-ul">
<li>worst case: \(T(n) = max\) time on any input of size n
<ul class="org-ul">
<li>need an assumption of the statistical distribution of inputs</li>
<li>common assumption: all inputs are equally likely</li>
</ul></li>
<li>Best case: easy to check (can check for particular inputs then immediately output result)</li>
</ul></li>
<li>Asymptotic analysis:
<ul class="org-ul">
<li>ignore machine dependent constants</li>
<li>look at growth of running time (instead of the actual running time)</li>
</ul></li>
<li>Asymptotic Notation
<ul class="org-ul">
<li>&theta; notation: drop low order terms
<ul class="org-ul">
<li>ignore leading constants</li>
<li>Eg. \(3n^3 + 9On^2 - 5n = \theta(n^3)\)
<ul class="org-ul">
<li>this is the engineering method of manipulation &theta; notation.</li>
</ul></li>
</ul></li>
<li>asymptotically slower algorithms can be useful depending on size of problem.</li>
<li>Could be the faster algorithm is only faster when testing with impractically large problem.</li>
</ul></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org1dc223d" class="outline-3">
<h3 id="org1dc223d">Ring Buffers and Queues</h3>
<div class="outline-text-3" id="text-org1dc223d">
<ul class="org-ul">
<li>useful for communicating between threads</li>
<li>Structure
<ul class="org-ul">
<li>array of data of fixed size</li>
<li>unsigned int reader position</li>
<li>unsigned int write position</li>
</ul></li>
<li>Model 1: Just array indices
<ul class="org-ul">
<li>normally used when talking to hardware</li>
<li>positions are array indices</li>
<li>write by <code>Elem[WritePos]=x</code></li>
<li>increment position with <code>WritePos=(WritePos + 1) % SIZE</code></li>
<li>if <code>ReadPos==WritePos</code> queue is empty</li>
<li>else <code>WritePos-ReadPos</code> elements left if <code>WritePos&gt;ReadPos</code></li>
<li>or <code>WritePos + SIZE - ReadPos</code> elements left if <code>WritePos &lt; ReadPos</code></li>
<li>blocks writes when =SIZE - 1=elements already present</li>
</ul></li>
<li>Model 2: Virtual stream
<ul class="org-ul">
<li>positions store distanced travelled instead of array indices</li>
<li>writing becomes <code>Elem[WritePos % SIZE]=x</code></li>
<li>update index is <code>WritePos++</code></li>
<li>make <code>SIZE</code> power of 2 makes computation cheap
<ul class="org-ul">
<li>automatically do the right thing if positions overflow</li>
</ul></li>
<li>number of elements is <code>WritePos-ReadPos</code></li>
<li>if <code>WritePos==ReadPos+SIZE</code> then queue is full</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org969258e" class="outline-3">
<h3 id="org969258e">Design Patterns for Low Level Real-Time Rendering</h3>
<div class="outline-text-3" id="text-org969258e">
<p>:Author:   Nicolas Guillemot<br/>:Source:   <a href="https://www.youtube.com/watch?v=mdPeXJ0eiGc&amp;t=2495s">https://www.youtube.com/watch?v=mdPeXJ0eiGc&amp;t=2495s</a></p>
<ul class="org-ul">
<li>CPU has MMU for accessing RAM
<ul class="org-ul">
<li>allows virtual memory where non-contiguous addresses appear contiguous and swap space</li>
</ul></li>
<li>GPU has similar MMU and virtual memory</li>
<li>MMUs on CPU and GPU can use memory in the other device. Allows data sharing</li>
<li>GPU DMA engines: do copy between system and GPU memory very quickly. Doesn't understand virtual memory</li>
<li>Integrated Graphics both GPU and CPU share system memory.</li>
<li>Command Lists: Commands for the GPU to execute is sent from CPU. Necessary for CPU to order commands since GPU is an in-order processor
<ul class="org-ul">
<li>fence exists to signal GPU progress through commands (allows CPU/GPU synchronization)</li>
</ul></li>
<li>Descriptors: struct of address &amp; metadata (examples are buffers, textures)</li>
</ul>
</div>
</div>
<div id="outline-container-orga454c05" class="outline-3">
<h3 id="orga454c05">Render Design</h3>
<div class="outline-text-3" id="text-orga454c05">
<ul class="org-ul">
<li>start with simulation which updates the scene (might be made of cameras, material)</li>
<li>then read scene and render into buffers, textures, shaders, passes creating GPU commands</li>
<li>command are sent to the GPU
<ul class="org-ul">
<li>GPU creates swap chain which makes way to display</li>
</ul></li>
<li>Ring Buffers: section of data where first section is written then while something else reads the writing moves to next block of data
<ul class="org-ul">
<li>Handling wrap-around: create virtual offset to pretend that buffer has infinite size
<ul class="org-ul">
<li>so keep incrementing address and make it by the buffer size to get actual address
<code>data=buffer[virt_offset &amp;(RING_SIZE -1)];</code></li>
<li>allow for lock-free allocation by making offset atomic [27:48]</li>
</ul></li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org0d5a956" class="outline-3">
<h3 id="org0d5a956">Clean Code - Optimization</h3>
<div class="outline-text-3" id="text-org0d5a956">
<p>
The six steps for speeding up a program are:
</p>
<ol class="org-ol">
<li>Determine that it's too slow, and prove you do need to optimize.</li>
<li>Identify the slowest code. Target this point.</li>
<li>Test the performance of the optimised target.</li>
<li>Optimize the code.</li>
<li>Test that the optimized code still works (very important).</li>
<li>Test the speed increase and decide what to do next.</li>
</ol>
</div>
</div>

<div id="outline-container-orge61f17b" class="outline-3">
<h3 id="orge61f17b">Introduction to A*</h3>
<div class="outline-text-3" id="text-orge61f17b">
<p>:Source:   www.redblobgames.com/pathfinding/a-star/introduction.html</p>
<ul class="org-ul">
<li>graph search algorithms find paths between points (can take into account distance and travel time)</li>
<li>the map is represented as a graph
<ul class="org-ul">
<li>made up of locations (nodes) and connections (edges)</li>
<li>the found path is made of nodes and edges</li>
</ul></li>
<li>Many graph search algorithms exist:
<ul class="org-ul">
<li>Breadth First Search:
<ul class="org-ul">
<li>explores equally in all directions</li>
<li>useful for path finding, procedural map generation, flow field pathfinding, distance measuring</li>
</ul></li>
<li>Dykstra's Algorithm: allow path prioritisation
<ul class="org-ul">
<li>Favours lower cost path</li>
</ul></li>
<li>A*: modification of Dykstra's algorithm.
<ul class="org-ul">
<li>finds path to 1 location. Priority is the path that seems to be leading to the goal.</li>
</ul></li>
</ul></li>
</ul>
</div>
<div id="outline-container-org563c6f1" class="outline-4">
<h4 id="org563c6f1">Breadth First Search</h4>
<div class="outline-text-4" id="text-org563c6f1">
<ul class="org-ul">
<li>all above algorithms keep track of expanding ring called frontier.</li>
<li>Implement by
<ol class="org-ol">
<li>Pick and remove location from frontier</li>
<li>Expand it by looking at its neighbours. Any neighbours we haven't visited yet we add to the frontier, and also to the visited set.</li>
</ol></li>
<li>to find a path just have to keep track of where we came from to get to each node of the frontier.
<ul class="org-ul">
<li>creates breadcrumbs that lead to start</li>
</ul></li>
<li>this finds path to every point
<ul class="org-ul">
<li>possible to stop when found goal (early exit)</li>
</ul></li>
<li>When adding movement cost (ie. distance) need to use Dykstra's algorithm
<ul class="org-ul">
<li>also keep track of movement cost while scanning nodes</li>
<li>end up visiting location multiple times with different cost so must add it to the path if cost is lower</li>
<li>prioritises visiting neighbours based on cost</li>
</ul></li>
<li>To find path to one location:
<ul class="org-ul">
<li>prioritises visiting neighbours based on distance to the goal</li>
<li>Result is Greedy Best First Search
<ul class="org-ul">
<li>this runs faster but does not produce best path</li>
</ul></li>
</ul></li>
<li>A* algorithm works by combining the estimated distance and movement cost to
<ul class="org-ul">
<li>so uses both actual distance from start and estimated distance to goal</li>
</ul></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org53fcf8b" class="outline-3">
<h3 id="org53fcf8b">Design Patterns</h3>
<div class="outline-text-3" id="text-org53fcf8b">
</div>
<div id="outline-container-org475c138" class="outline-4">
<h4 id="org475c138">Abstract Factory</h4>
<div class="outline-text-4" id="text-org475c138">
<ul class="org-ul">
<li>A parent class that implements a factory interface
<ul class="org-ul">
<li>children of this class are concrete factories which produce objects of the desired type</li>
</ul></li>
<li>It allows the type of objects being produced to be completely changed. (eg. for different windowing systems)</li>
<li>Often implemented where the top level class (the Abstract Factory) is actually a Concrete Factory so can produce objects. This means any children only have to override a subset of functions.</li>
</ul>
</div>
</div>
<div id="outline-container-orga3551e0" class="outline-4">
<h4 id="orga3551e0">Builder</h4>
<div class="outline-text-4" id="text-orga3551e0">
<ul class="org-ul">
<li>Provides a common interface for building types of objects in steps</li>
<li>Main difference to Abstract Factory is that Factories construct an object in one step and then return it. A Builder constructs parts as functions are called and the resulting object is retrieved with a particular functions (e.g. getResult())</li>
<li>Concrete Builders inherit from the Builder class to provide the actual building implementation</li>
<li>The example had a createMaze function which takes a builder and produces a Maze. Different types of mazes were created by passing different concrete builders (all children of a Maze Builder)
<ul class="org-ul">
<li>The createMaze code could remain the same no matter what Maze was being made.</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-orga6cb4f2" class="outline-4">
<h4 id="orga6cb4f2">Bridge</h4>
<div class="outline-text-4" id="text-orga6cb4f2">
<ul class="org-ul">
<li>Allows an implementation to be kept separate from its interface
<ul class="org-ul">
<li>this allows the implementation to be changed without recompilation of client code</li>
<li>hides the implementation completely from the client. The interface they see is very pure, it requires no implementation details.</li>
<li>allows for multiple implementations</li>
</ul></li>
<li>Implemented by making a class hierarchy for the interface and a separate one for the implementation.</li>
<li>Interface often has higher order functions which are implemented in terms of the lower level functions in the implementation.</li>
<li>The interface class has a pointer or owns an instance of the Implementation to call</li>
</ul>
</div>
</div>
<div id="outline-container-orgc59865d" class="outline-4">
<h4 id="orgc59865d">Decorator</h4>
<div class="outline-text-4" id="text-orgc59865d">
<ul class="org-ul">
<li>used to change the responsibilities of an object while maintaining the same interface</li>
<li>contains the object and passes the data on to it though after performing some processing first
<ul class="org-ul">
<li>e.g. drawing a border around a window</li>
</ul></li>
<li>Since everything has same interface it can be used where object would be and can stack multiple decorators</li>
<li>inheriting from object makes easy to get that interface</li>
</ul>
</div>
</div>
<div id="outline-container-org84d58a8" class="outline-4">
<h4 id="org84d58a8">Facade</h4>
<div class="outline-text-4" id="text-org84d58a8">
<ul class="org-ul">
<li>provides a common interface for a subsystem
<ul class="org-ul">
<li>abstracts multiple classes</li>
</ul></li>
<li>Makes the system easier to use but doesn't hide the components in case a client has a reason to use them directly</li>
</ul>
</div>
</div>
<div id="outline-container-org63e5d7f" class="outline-4">
<h4 id="org63e5d7f">Flyweight</h4>
<div class="outline-text-4" id="text-org63e5d7f">
<ul class="org-ul">
<li>to be used when a design would use lots of objects but can't due to resource constraints</li>
<li>Requires taking state that is intrinsic to the object and making it extrinsic
<ul class="org-ul">
<li>so the state gets passed to the object by the user</li>
<li>allows to have shared references to objects</li>
</ul></li>
<li>example is a document editor where each character is a separate object.
<ul class="org-ul">
<li>instead there is a flyweight pool with an instance of each ASCII letter. Each letter is shared between wherever it is used in the document.</li>
<li>it handles its drawing but gets passed its position and font by the user</li>
</ul></li>
<li>this saves memory but can cause slowdown as state is calculated and lookups are done</li>
</ul>
</div>
</div>
<div id="outline-container-org35d6915" class="outline-4">
<h4 id="org35d6915">Mediator</h4>
<div class="outline-text-4" id="text-org35d6915">
<ul class="org-ul">
<li>for use when have lots of interactions between several objects</li>
<li>all these connections means program acts monolithic and is difficult to alter</li>
<li>have a mediator object which all the other objects interact with instead
<ul class="org-ul">
<li>serves as hub for program interactions</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-orga5bc36b" class="outline-4">
<h4 id="orga5bc36b">Memento:</h4>
<div class="outline-text-4" id="text-orga5bc36b">
<ul class="org-ul">
<li>Captures and stores the internal state of an object</li>
<li>The memento is a separate object (class) which is created by the originator (the object being saved), possibly at the request of a third object.</li>
<li>Allows state to be restored without violating encapsulation.</li>
</ul>
</div>
</div>
<div id="outline-container-orgbd32629" class="outline-4">
<h4 id="orgbd32629">Observer</h4>
<div class="outline-text-4" id="text-orgbd32629">
<ul class="org-ul">
<li>An object which can subscribe to changes in another object.</li>
<li>Observers add themselves to an object and when anything changes in the object it will go through the list of its observers and call notify.</li>
</ul>
</div>
</div>
<div id="outline-container-orgc78ea4b" class="outline-4">
<h4 id="orgc78ea4b">State</h4>
<div class="outline-text-4" id="text-orgc78ea4b">
<ul class="org-ul">
<li>Allow an object to change its behaviour when its internal state changes</li>
<li>states are defined by a separate hierarchy of classes, with each having certain behaviour.</li>
<li>An object contains an object of one of the state classes and functionality simply calls the functions in the state object.</li>
<li>As the object's state changes, the state object is changed to reflect that.</li>
<li>it makes changing stat very simple.</li>
</ul>
</div>
</div>
<div id="outline-container-org3ac37e7" class="outline-4">
<h4 id="org3ac37e7">Strategy</h4>
<div class="outline-text-4" id="text-org3ac37e7">
<ul class="org-ul">
<li>Defines a family of algorithms and makes them interchangeable</li>
<li>An interface is created with a base class and specialisations of the algorithm inherit and implement the interface.</li>
<li>This allows the client to just make a call to the algorithm and allows the algorithms to be reused.</li>
</ul>
</div>
</div>
<div id="outline-container-org8fe121f" class="outline-4">
<h4 id="org8fe121f">Template Method</h4>
<div class="outline-text-4" id="text-org8fe121f">
<ul class="org-ul">
<li>Define the skeleton of an algorithm in an operation, deferring some steps to subclasses. Template method lets subclasses redefine certain steps of an algorithm without changing the algorithm's structure.</li>
</ul>
</div>
</div>
<div id="outline-container-org52c9a74" class="outline-4">
<h4 id="org52c9a74">Visitor</h4>
<div class="outline-text-4" id="text-org52c9a74">
<ul class="org-ul">
<li>Perform operations on an object</li>
<li>Allow for adding new operations without making changes to the object</li>
<li>Works by:
<ul class="org-ul">
<li>defining a base visitor class</li>
<li>creating concrete visitor classes</li>
<li>the base class has functions for each of the objects the visitors will operate on.</li>
<li>those objects have a function that takes a visitor. This function calls the relevant function for the object on the passed in visitor. The object provides the this pointer.</li>
<li>The visitor can then operate on the object</li>
</ul></li>
</ul>
</div>
</div>
</div>
</div>

<div id="outline-container-org4392e21" class="outline-2">
<h2 id="org4392e21">Lisp</h2>
<div class="outline-text-2" id="text-org4392e21">
</div>
<div id="outline-container-org7e08af4" class="outline-3">
<h3 id="org7e08af4">Debugging Lisp</h3>
<div class="outline-text-3" id="text-org7e08af4">
<p>:Author: Michael Malis</p>
</div>
<div id="outline-container-org41965a5" class="outline-4">
<h4 id="org41965a5">Part 2: Inspecting</h4>
<div class="outline-text-4" id="text-org41965a5">
<p>:Source:   <a href="https://malisper.me/debugging-lisp-part-2-inspecting/">https://malisper.me/debugging-lisp-part-2-inspecting/</a></p>
<ul class="org-ul">
<li>Run <code>(declaim (optimize (debug 3)))</code> to optimize for debugging</li>
<li>C-c C-v TAB inspects object at point on the REPL</li>
<li>C-C M-t to trace function
<ul class="org-ul">
<li>C-C T to enter the Trace Dialog buffer</li>
<li>Shows you objects being passed to function and can be inspected</li>
</ul></li>
<li>Inspector allows modification of objects from debugger at run-time</li>
</ul>
</div>
</div>
<div id="outline-container-org1b6a090" class="outline-4">
<h4 id="org1b6a090">Part 3: Redefining Classes</h4>
<div class="outline-text-4" id="text-org1b6a090">
<p>:Source:   <a href="https://malisper.me/debugging-lisp-part-3-redefining-classes/">https://malisper.me/debugging-lisp-part-3-redefining-classes/</a></p>
<ul class="org-ul">
<li>CLOS normally implemented using the Meta Object Protocol (MOP) which defines CLOS in terms of itself
<ul class="org-ul">
<li>Classes implemented as objects with instance variables (class name, superclass, &#x2026;)</li>
</ul></li>
<li>Get class object with <code>find-class</code></li>
<li><code>update-instance-for-redefined-class</code>
<ul class="org-ul">
<li>method that is called when class is redefined</li>
<li>Can be used to change the implementation of existing objects
<ul class="org-ul">
<li>For example can take existing slots and modify them to get the equivalent values for the new slots</li>
</ul></li>
<li>Undefined when the method will be called but is guaranteed to happen before a variable is accessed</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org89bfe3b" class="outline-4">
<h4 id="org89bfe3b">Part 4: Restarts</h4>
<div class="outline-text-4" id="text-org89bfe3b">
<p>:Source:   <a href="https://malisper.me/debugging-lisp-part-4-restarts/">https://malisper.me/debugging-lisp-part-4-restarts/</a></p>
<ul class="org-ul">
<li><code>handler-case</code>: like catch in other languages</li>
<li>Restarts provide options to the user on how to recover from an error
<ul class="org-ul">
<li><code>restart-case</code>: with options being the switch statements</li>
<li>Restarts are triggered with <code>invoke-restart</code></li>
<li>The user uses <code>handler-bind</code> to choose what happens when an error occurs</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org2bbf592" class="outline-4">
<h4 id="org2bbf592">Part 5: Miscellaneous</h4>
<div class="outline-text-4" id="text-org2bbf592">
<p>:Source:   <a href="https://malisper.me/debugging-lisp-part-5-miscellaneous/">https://malisper.me/debugging-lisp-part-5-miscellaneous/</a></p>
<p>
SBCL's trace takes extra arguments:
</p>
<ul class="org-ul">
<li><code>:break</code> takes an expression and will start the debugger when it evaluates true</li>
<li><code>:break-after</code> to break after the function is called</li>
<li><code>:print</code> and <code>:print-after</code> to print when/after the function is called</li>
</ul>
<p>
There are several cross referencing commands:
</p>
<ul class="org-ul">
<li><code>slime-who-calls</code> (C-c C-w C-c) to find calls to a function</li>
<li><code>slime-who-macroexpands</code> (C-c C-w C-RET) list uses of a macro</li>
<li><code>slime-who-references</code> (C-c C-w C-r) list uses of a variable</li>
</ul>
<p>
In the debugger one can navigate with M-n, M-p.
This automatically displays the source code for the frame.
</p>
</div>
</div>
</div>
<div id="outline-container-orgc7f7063" class="outline-3">
<h3 id="orgc7f7063">The Complete Idiot's Guide to Common Lisp Packages</h3>
<div class="outline-text-3" id="text-orgc7f7063">
<p>:Author:   Eran Gatt<br/>:Source:   <a href="http://www.flownet.com/gat/packages.pdf">http://www.flownet.com/gat/packages.pdf</a></p>
<ul class="org-ul">
<li><code>import</code> imports symbols from other package</li>
<li><code>make-package</code></li>
<li><code>in-package</code> to switch into a package</li>
<li><code>make-symbol</code> to create symbols
<ul class="org-ul">
<li>can produce multiple distinct symbols with the same name</li>
<li>symbols created in the reader with <code>'</code> are the same if they have the same name</li>
</ul></li>
<li>the Lisp reader uses <code>make-symbol</code> to create symbols but keeps track of which symbols are created so won't produce 2 different ones with the same name</li>
<li>A package is a collection of Lisp symbols where no two have the same name</li>
</ul>
</div>
<div id="outline-container-org0358cba" class="outline-4">
<h4 id="org0358cba">Interning</h4>
<div class="outline-text-4" id="text-org0358cba">
<ul class="org-ul">
<li>adding a symbol to a package is called interning</li>
<li>symbols that are not in any package are uninterned &amp; printed with <code>#:</code> prefix (technically the prefix is used for symbols without a home package)</li>
<li><code>import</code> interns symbol in the current package</li>
<li><code>unintern</code> removes symbol from the current package</li>
<li><code>symbol-name</code> returns the name of a symbol as a string</li>
<li><code>find-symbol</code> takes a string and says if a symbol with that name is already interned</li>
<li><code>intern</code> takes a name and returns the symbol, creating it if necessary</li>
</ul>
</div>
</div>
<div id="outline-container-org0a91e54" class="outline-4">
<h4 id="org0a91e54">Which Package</h4>
<div class="outline-text-4" id="text-org0a91e54">
<ul class="org-ul">
<li>current package is named by the global variable <code>*PACKAGE*</code></li>
<li>Home packages
<ul class="org-ul">
<li>all symbols keep track of their home package
<ul class="org-ul">
<li>usually the 1st package the symbol was interned in</li>
</ul></li>
<li><code>symbol-package</code> queries the home package</li>
<li>Symbols are exported from package with <code>EXPORT</code> (adds it to the exported list)</li>
<li><code>UNEXPORT</code> removes symbol from the exported list</li>
<li>can use <code>USE-PACKAGE</code> to import all the exported symbols from a package (<code>UNUSE-PACKAGE</code> is the reverse)</li>
<li>exported symbol only need one <code>:</code> to access eg. <code>package:symbol</code></li>
</ul></li>
<li>Shadowing: CL keeps a list of shadowing symbols
<ul class="org-ul">
<li>symbols can be added to that list so that symbols of the same name can be imported from a different packages</li>
<li><code>SHADOW</code> adds symbols to the list from the current package</li>
<li><code>SHADOWING-IMPORT</code> adds symbols from other packages</li>
<li>undo effect of both with <code>UNINTERN</code></li>
</ul></li>
<li>symbols are entirely part of the Lisp reader not the evaluator</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-orgfe3f804" class="outline-3">
<h3 id="orgfe3f804">ASDF 3 or Why Lisp is Now an Acceptable Scripting Language</h3>
<div class="outline-text-3" id="text-orgfe3f804">
<p>:Author:   Francois-Rene Rideau<br/>:Source:   <a href="http://fare.tunes.org/files/asdf3/asdf3-2014.html">http://fare.tunes.org/files/asdf3/asdf3-2014.html</a></p>
</div>
<div id="outline-container-org637eae5" class="outline-4">
<h4 id="org637eae5">ASDF</h4>
<div class="outline-text-4" id="text-org637eae5">
<ul class="org-ul">
<li>an in-image build system, so compiles and loads software into the current CL image
<ul class="org-ul">
<li>in contrast C/C++ where build system is separate program</li>
<li>means pressure to keep the core minimal since resource use paid for by every program</li>
</ul></li>
<li>not geared towards large software in modern adversarial multi-user, multi-processor environment
<ul class="org-ul">
<li>old fashioned single friendly user</li>
</ul></li>
<li>Bundle operations
<ul class="org-ul">
<li>create a single output file for an entire system or collection systems</li>
<li><code>compile-bundle-op</code>: bundles all individual outputs from <code>compile-op</code> into a single file</li>
<li><code>load-bundle-op</code>: loads result of <code>compile-bundle-op</code> into system</li>
<li><code>lib-op</code>: links into a library all the object files in a system</li>
<li><code>dll-op</code>: creates a dynamically loadable library out of them</li>
<li><code>deliver-asd-op</code>: can create a bundle from <code>compile-bundle-op</code> and an .asd file to deliver system in binary format only</li>
</ul></li>
<li><code>run-program</code>: run external commands
<ul class="org-ul">
<li>also short hand <code>run</code>: run external command with output to lisp standard- &amp; error output</li>
<li><code>run/nil</code>: no output</li>
<li><code>run/s</code>: return output as string</li>
<li><code>run/ss</code>: return output as stripped string</li>
</ul></li>
<li>Can annotate components with <code>:if-feature</code> to only include it if the expression is true (good for checking compiler and compiler features)</li>
</ul>
<p>
<b>Standalone Executables</b>
</p>
<ul class="org-ul">
<li><code>program-op</code> creates a standalone executable</li>
<li><code>:entry-point</code> designates to call after program image is initialized</li>
</ul>
</div>
</div>
<div id="outline-container-org2992037" class="outline-4">
<h4 id="org2992037">Code evolution in a conservative community</h4>
<div class="outline-text-4" id="text-org2992037">
<ul class="org-ul">
<li>syntax in CL controlled via global variables (including <code>*readtable*</code>)
<ul class="org-ul">
<li><code>named-readtables</code> helps with syntax control but proper hygiene not enforced by CL</li>
</ul></li>
<li>writing the article led them to fix bugs and refactor ASDF and cl-launch so advise you should always explain your programs</li>
</ul>
</div>
</div>
<div id="outline-container-orgf9a4b31" class="outline-4">
<h4 id="orgf9a4b31">Pathnames</h4>
<div class="outline-text-4" id="text-orgf9a4b31">
<ul class="org-ul">
<li>CL spec defines pathnames in a way that means not every feature of the OS is accessible</li>
<li><code>IOLib</code>: is library with full reimplementation of pathnames</li>
</ul>
</div>
<ul class="org-ul">
<li><a id="org9b58ce3"></a>Pathname structure<br>
<div class="outline-text-5" id="text-org9b58ce3">
<p>
Pathnames are made up of:
</p>
<ul class="org-ul">
<li>host component: is often <code>nil</code> on Unix</li>
<li>device component: often nil on Unix. Represents device like "c" on Windows</li>
<li>directory component: can be <code>nil</code> or list of either <code>:absolute</code> or <code>:relative</code> followed by 
<ul class="org-ul">
<li>words that name subdirectories or</li>
<li><code>:wild</code> (matching any subdir) or</li>
<li><code>:wild-inferiors</code>: wildcard matching any recursive subdir</li>
</ul></li>
<li>name component: often a string but can be nil</li>
<li>type component: often a string but can be nil</li>
<li>version component: can be nil or positive integer (for old filesystems that supported versioning) or <code>:newest</code></li>
</ul>
</div>
</li>
<li><a id="orge3aa7e0"></a>Logical Pathnames<br>
<div class="outline-text-5" id="text-orge3aa7e0">
<ul class="org-ul">
<li>Logical pathname a way to specify pathname under a virtual host that can be different to the physical path to where the file is on the machine</li>
<li>virtual host must be setup before logical pathnames can be used</li>
<li>allows mapping certain file types to specific locations</li>
<li>useful as it allows the same pathname to refer to different places depending on the computer</li>
<li>problem is that it requires setup and one has to avoid host names that may be already used by other software</li>
<li>logical pathnames are always a bad idea
<ul class="org-ul">
<li>portability nightmare</li>
<li>can't reliably name arbitrary files on an arbitrary system</li>
</ul></li>
</ul>
</div>
</li>
</ul>
</div>
<div id="outline-container-org972f425" class="outline-4">
<h4 id="org972f425"></h4>
<div class="outline-text-4" id="text-org972f425">
<ul class="org-ul">
<li>Verbosity is a bad smell, it suggests lack of abstraction, or bad abstractions</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org4e446e1" class="outline-3">
<h3 id="org4e446e1">Land of Lisp</h3>
<div class="outline-text-3" id="text-org4e446e1">
<p>:Author: Conrad Barski<br/>:ISBN: 9781593272814</p>
<ul class="org-ul">
<li>Association list: <code>((symbol . (list)))</code>
<ul class="org-ul">
<li>Search for symbol with <code>assoc</code></li>
</ul></li>
<li>Can use lists of symbols instead of strings. They are easier to manipulate.</li>
<li>Dotted lists are lists where the second part of the last <code>cons</code> cell contains something other than <code>nil</code>
<ul class="org-ul">
<li>Useful for storing pairs because both slots in the <code>cons</code> cell contain data</li>
</ul></li>
<li>Circular lists: can have circular lists by setting <code>cdr</code> of last element to the <code>car</code> of the list
<ul class="org-ul">
<li>Set <code>*print-circle*</code> to <code>t</code> before printing (otherwise it gets recursive)</li>
</ul></li>
<li>Hash tables are like <code>assoc</code> lists but with constant look-up time</li>
<li>Implementations often optimize for creating small hash tables so when creating a small one there will often be a delay during allocating lots to it while CL allocates more memory</li>
<li><code>time</code></li>
<li><code>mapc</code>: like <code>mapcar</code> but use it when you only care about the side effects and not about creating a new list</li>
<li><code>defstruct</code>: takes a name and then a list of slots. Seems simpler than classes
<ul class="org-ul">
<li>generated functions prepend the slot name with the struct name</li>
</ul></li>
<li><code>map</code>: generic <code>mapcar</code>. Need to provide the type of the sequence to return</li>
<li>Type dispatching: choosing which function to call based on the type of the arguments</li>
<li><code>defmethod</code>: like <code>defun</code> but defines the type of the parameters. Can have multiple methods with the same name but different parameter types.</li>
<li><code>with-output-to-string</code>: takes a stream as an argument and redirects everything intended for it to a string</li>
<li><code>unwind-protect</code>: sets up code that will be run even if an error is signalled
<ul class="org-ul">
<li>useful for cleaning up resources</li>
</ul></li>
<li>Memoization: caching the results of functions to speed them up
<ul class="org-ul">
<li>Create a hash table with the function argument as the key
<ul class="org-ul">
<li>With multiple arguments use nested hash tables</li>
</ul></li>
<li>Then redefine the function symbol to store a memoized version of the function</li>
</ul></li>
<li>Tail call optimization: if the last thing a function does is call itself then the function can reuse the stack frame
<ul class="org-ul">
<li>Not supported in all CL implementations</li>
<li>Can rearrange a function to include a tail call by putting the recursive code in a local function (<code>labels</code>)</li>
</ul></li>
<li>Anaphoric macro: a macro that makes named variables available in the macro body</li>
<li>Macros:
<ul class="org-ul">
<li>Be careful of evaluating forms multiple times in the macro (can be done by referencing a input multiple times)
<ul class="org-ul">
<li>Evaluate once and store the result in a variable</li>
</ul></li>
<li>Use <code>gensym</code> for all local bindings. <code>gensym</code> should be run at macro expansion time with the result stored in a variable which is evaluated in the rest of the macro</li>
</ul></li>
<li>Function programming:
<ul class="org-ul">
<li>Functions should only deal with values passed in as parameters and should have no side effects</li>
<li>Code with side effects should be kept separate and call functional code to the actual work</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org016f358" class="outline-3">
<h3 id="org016f358">Fun With Lisp: Programming the NES</h3>
<div class="outline-text-3" id="text-org016f358">
<p>:Source:   <a href="https://ahefner.livejournal.com/20528.html">https://ahefner.livejournal.com/20528.html</a></p>
<ul class="org-ul">
<li>Machine code is just a kind of data</li>
<li>Basis of an assembler is:
<ul class="org-ul">
<li>Accumulate an output vector</li>
<li>Remember the current assembly position in terms of address space</li>
<li>Mapping symbolic names to locations to make self-referential structures</li>
</ul></li>
<li>His assembler emits bytes into a context</li>
<li>Simpler instructions are just functions that output specific bytes into the context</li>
<li>More complex instructions have operands and addressing mode
<ul class="org-ul">
<li>Made addressing mode a class</li>
<li>Instruction function then checks the type of the addressing mode to select the correct opcode.
<ul class="org-ul">
<li>It actually splits it up more cleverly based on the way the 6502 IA is structured</li>
</ul></li>
</ul></li>
<li>Because it is all in Lisp it allows to build higher-level controls on top
<ul class="org-ul">
<li>Like structure that pads to get the section to an exact number of cycles</li>
<li>Looping macros</li>
</ul></li>
<li>Did audio by a system that combined lists of sound register writes</li>
</ul>
</div>
</div>
<div id="outline-container-orgb7c139b" class="outline-3">
<h3 id="orgb7c139b">Large-Scale Systems Architecture</h3>
<div class="outline-text-3" id="text-orgb7c139b">
<p>:Author:   Jason Gregory<br/>:Source:   <a href="https://www.youtube.com/watch?v=gpINOFQ32o0">https://www.youtube.com/watch?v=gpINOFQ32o0</a></p>
<ul class="org-ul">
<li>Games before Uncharted 1 were written in Lisp
<ul class="org-ul">
<li>based on C and assembly under the hood</li>
</ul></li>
<li>live update but still achieved with C++</li>
<li>still use scheme for data and real time scripting
<ul class="org-ul">
<li>can define custom syntax</li>
</ul></li>
<li>most studios use json, xml or custom parser which takes a lot of work to change
<ul class="org-ul">
<li>with Scheme just add macro</li>
</ul></li>
<li>Rebuilding all the Scheme stuff takes twice as long as rebuilding the entire game</li>
<li>Don't have Debug builds but instead have a file which specifies files to be built as Debug:
<ul class="org-ul">
<li>can debug certain systems but game runs fast</li>
</ul></li>
<li>Follow KIS: simple solution, change only when something becomes a problem
<ul class="org-ul">
<li>but have a plan for the future</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-orgabbdc76" class="outline-3">
<h3 id="orgabbdc76">This Old Lisp</h3>
<div class="outline-text-3" id="text-orgabbdc76">
<p>:Author:   R. Matthew Emerson<br/>:Source:   <a href="https://www.youtube.com/watch?v=MgVuqPgKJQc&amp;t=8s">https://www.youtube.com/watch?v=MgVuqPgKJQc&amp;t=8s</a></p>
<ul class="org-ul">
<li>1987 Coral Common Lisp by Coral which was acquired by Apple
<ul class="org-ul">
<li>became MCL then sold ported to embedded then released as OpenMCL</li>
</ul></li>
<li>Alice Hartley
<ul class="org-ul">
<li>MCL got dropped because it couldn't keep up with Apples changes</li>
</ul></li>
<li>OpenMCL because Clozure CL</li>
<li>has threads:
<ul class="org-ul">
<li>hash tables are thread safe</li>
</ul></li>
<li>Single space compacting GC: goes through and moves all live objects together
<ul class="org-ul">
<li>objects may move so data must be copied when passed to foreign code</li>
</ul></li>
<li>convenient C FFI. Can call C functions if know it's name
<ul class="org-ul">
<li>has tool to scan C header files and generate S-expression representation</li>
</ul></li>
<li>uses CCLDoc for documentation which runs on CCL</li>
<li>future plans
<ul class="org-ul">
<li>port to 64-bit ARM</li>
<li>experimental register allocator</li>
<li>new macOS IDE</li>
</ul></li>
<li>almost all the features of Lisp have been adopted into other languages</li>
<li>to_address: gives address of underlying object
<ul class="org-ul">
<li>always gives C style pointer even if given a smart pointer</li>
</ul></li>
<li>with large overwhelming errors:
<ul class="org-ul">
<li>start with first line and work down until get to own code</li>
</ul></li>
<li>works with a range of objects
<ul class="org-ul">
<li>including iterators</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-orgfe2943c" class="outline-3">
<h3 id="orgfe2943c">Lessons Learned Implementing Common Lisp with LLVM over Six Years</h3>
<div class="outline-text-3" id="text-orgfe2943c">
<p>:Author:   C. Schafmeister<br/>:Source:   <a href="https://www.youtube.com/watch?v=mbdXeRBbgDM">https://www.youtube.com/watch?v=mbdXeRBbgDM</a></p>
<ul class="org-ul">
<li>Creates molecules</li>
<li>work to do with evolutionary molecular design
<ul class="org-ul">
<li>start with molecule</li>
<li>test it, score it then mutate then repeat</li>
</ul></li>
<li>CANDO is for doing this
<ul class="org-ul">
<li>has Clasp: CL compiler inside it</li>
</ul></li>
<li>originally created lisp interpreter in C++ and had template library for exposing C++ functions to it</li>
<li>Why Common Lisp?
<ul class="org-ul">
<li>Macros: compile time computing</li>
<li>Language standard is timeless</li>
</ul></li>
<li>Energy efficiency across programming languages paper from Google</li>
<li>Not quite as fast as SBCL</li>
<li>started implementing CL in interpreter and as soon as macros introduced the performance dropped</li>
<li>Cleavir: is a CL compiler written in CL</li>
<li>Wrote a compiler for CL that outputs LLVM IR (but is really slow)
<ul class="org-ul">
<li>uses this to compile Cleavir then switches</li>
</ul></li>
<li>added debug info so can debug CL with lldb &amp; gdb</li>
<li>uses C++ exceptions for unwinding the stack</li>
</ul>
</div>
</div>
<div id="outline-container-org0840d29" class="outline-3">
<h3 id="org0840d29">Lots of Bits of Lisp: Macros</h3>
<div class="outline-text-3" id="text-org0840d29">
<ul class="org-ul">
<li>different types of macros that happen at different stages of compilation: reader macros, symbol macros, regular macros, compiler macros</li>
<li>C-c return: Emacs shortcut to expand macro
<ul class="org-ul">
<li>'g' will refresh the expanded view if code is changed</li>
</ul></li>
<li>quasiquote (backtick) quotes a form but allows special directives
<ul class="org-ul">
<li>',' (comma) will unquote (evaluate) a form</li>
<li>',@' will evaluate and splice in the list. The form must evaluate to a list</li>
</ul></li>
<li>can't use <code>funcall</code> with macros</li>
<li>macros are evaluated at compile time not runtime (actually think they get evaluated before compile time)</li>
<li>start by writing out the code you want generated
<ul class="org-ul">
<li>then can turn it into function that returns code</li>
<li>finally make that a macro</li>
</ul></li>
<li>&amp;body: lambda list keyword equivalent to &amp;rest but tells editor how to indent macro body correctly</li>
<li>recompiling a macro won't change the functions that already use it</li>
<li>use <code>gensym</code> to create temp variable names</li>
<li><code>symbol-macrolet</code>: allows specify a symbol and form. The symbol will be replaced with the form.</li>
</ul>
</div>
<div id="outline-container-org0fc6a83" class="outline-4">
<h4 id="org0fc6a83">Reader macro:</h4>
<div class="outline-text-4" id="text-org0fc6a83">
<ul class="org-ul">
<li>Used to create new syntax</li>
<li>standard way of creating reader macros makes them global</li>
<li>named_readtables package provides file local read tables
<ul class="org-ul">
<li>then use <code>in-readtable</code> to make defined macro available to the file</li>
</ul></li>
<li><p>
Compiler macros:
</p>
<ul class="org-ul">
<li><code>define-compiler-macro</code>: can have the same name as a function</li>
</ul>
<p>
-expanding is optional
</p>
<ul class="org-ul">
<li>are used to optimisations</li>
<li>expanded and used in the same way as regular macros</li>
</ul></li>
<li>if you can write a piece as a function instead of a macro use a function
<ul class="org-ul">
<li>if you need a macro try to get the macro to call a function to do the actual work</li>
</ul></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org97dc431" class="outline-3">
<h3 id="org97dc431">Lots of Bits of Lisp - CFFI</h3>
<div class="outline-text-3" id="text-org97dc431">
<ul class="org-ul">
<li>CFFI is a library that provides a common interface for different implementations' FFI</li>
<li>most data is allocated on the heap
<ul class="org-ul">
<li>can be on the stack but not very explicit</li>
</ul></li>
<li><code>foreign-alloc</code>: allocate foreign memory
<ul class="org-ul">
<li>provide type for memory</li>
<li>this returns a pointer</li>
</ul></li>
<li><code>mem-aref</code>: read from memory. Provide type to expect</li>
<li><p>
set contents of memory with <code>self</code> and <code>mem-aref</code>:
</p>
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ffffff;">(</span>self <span style="color: #00bfff;">(</span>mem-aref variable <span style="color: #b0c4de;">:type</span><span style="color: #00bfff;">)</span> value<span style="color: #ffffff;">)</span>
</pre>
</div></li>
<li><code>foreign-type-size</code>: check size of type</li>
<li>type long-long is not implemented by some CL implementations</li>
<li>types: int, uint, long, ulong, short, char, pointer, float, double, int8, int32&#x2026;</li>
<li>can see <code>(:pointer :othertype)</code> which indicates what the pointer is to. (Just in the docs, CFFI doesn't actually use that)</li>
<li><code>defctype</code>: define type (like typedef)</li>
<li><code>foreign-alloc</code>: <code>:count</code> keyword to get memory for multiple values. Array</li>
<li><code>mem-aref</code>: works like dereferencing array. It takes an index as the last argument.</li>
<li><code>defcstruct</code>: to define c structs. Works similarly to <code>defstruct</code> except it can't define default values
<ul class="org-ul">
<li>create with <code>(foreign-alloc '(:struct struct-name))</code></li>
<li><p>
accessing members is similar to lisp classes
</p>
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ffffff;">(</span>foreign-slot-value variable '<span style="color: #00bfff;">(</span><span style="color: #b0c4de;">:struct</span> structname<span style="color: #00bfff;">)</span> 'slotname<span style="color: #ffffff;">)</span>
</pre>
</div></li>
<li>helper macro <code>with-foreign-slots</code></li>
</ul></li>
<li><code>defcenum</code>: define enums
<ul class="org-ul">
<li>takes keywords and automatically converts to and from ints</li>
<li>if you specify the int type when accessing you will get the relevant int value</li>
</ul></li>
<li><code>foreign-free</code>: takes pointer and frees memory</li>
</ul>
</div>
<div id="outline-container-orgc2469f0" class="outline-4">
<h4 id="orgc2469f0">Finding libraries</h4>
<div class="outline-text-4" id="text-orgc2469f0">
<ul class="org-ul">
<li>there are default locations for library binaries depending on the OS
<ul class="org-ul">
<li>can add locations to the <code>*foreign-library-directories*</code> list</li>
</ul></li>
<li><code>define-foreign-library</code>
<ul class="org-ul">
<li>can list binary file depending on OS</li>
</ul></li>
<li><code>use-foreign-library</code>: finds defined dynamic library and load it into the system</li>
<li>CFFI-C2FFI: reads a C header file and dumps data as a JSON file</li>
<li><code>autowrap</code>: program that takes the JSON file and creates the Lisp bindings</li>
<li><p>
<code>defcfun</code>: define C function
</p>
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ffffff;">(</span>defcfun <span style="color: #00bfff;">(</span>cname lispfunctionname<span style="color: #00bfff;">)</span>
<span style="color: #00bfff;">(</span>returntype<span style="color: #00bfff;">)</span> args*<span style="color: #ffffff;">)</span>
</pre>
</div></li>
<li><code>foreign-string-alloc</code>: helper for creating C string</li>
<li><code>with-foreign-string</code>: helper for creating string and then freeing at end of scope</li>
<li><code>with-foreign-object</code>: assign object and release as end of scope</li>
<li><code>with-foreign-objects</code>: like <code>with-foreign-object</code> but for multiple objects</li>
<li>possible to create translators to convert between lisp types and C types.</li>
</ul>
</div>
</div>
</div>
</div>
<div id="outline-container-org6e3fb2e" class="outline-2">
<h2 id="org6e3fb2e">Other Languages</h2>
<div class="outline-text-2" id="text-org6e3fb2e">
</div>
<div id="outline-container-org955dcea" class="outline-3">
<h3 id="org955dcea">Rust 101&#xa0;&#xa0;&#xa0;<span class="tag"><span class="rust">rust</span></span></h3>
<div class="outline-text-3" id="text-org955dcea">
<p>:Author:   E. Dunham<br/>:Source:   <a href="https://www.youtube.com/watch?v=FMqydRampuo">https://www.youtube.com/watch?v=FMqydRampuo</a></p>
<ul class="org-ul">
<li>Go is a language for sysadmin. Rust for systems programmers.</li>
<li>zero cost abstractions</li>
<li>Where not good:
<ul class="org-ul">
<li>where large chunks written in other languages
<ul class="org-ul">
<li>are projects to translate between (Corrode for C)</li>
</ul></li>
</ul></li>
<li>Rust channels:
<ul class="org-ul">
<li>Nightly for trying ideas</li>
<li>Betas</li>
<li>Stable: always backwards compatible</li>
</ul></li>
<li>Channel to use:
<ul class="org-ul">
<li>stable code should run anywhere</li>
<li>use stable as long as possible</li>
</ul></li>
<li>Crater: tool that finds all public rust code that compiles it with last and next stable
<ul class="org-ul">
<li>any changes in warnings/err is checked</li>
</ul></li>
<li>Playpens: rust-lang/rust-playpen
<ul class="org-ul">
<li>can choose output LLVM, ASM</li>
</ul></li>
<li>Rausty: checks signatures</li>
<li>Jonathan turner rls: rust language server</li>
<li>Rust wants your code to be doing the right things. Attempting to avoid memory issues
<ul class="org-ul">
<li>can write unsafe Rust to get around safety rules
<ul class="org-ul">
<li>if think you need it double check cause otherwise don't</li>
</ul></li>
</ul></li>
<li>Rustfmt: standardize style</li>
<li>Clippy: provides recommendations for code improvements</li>
<li>scope syntax
<ul class="org-ul">
<li>similar C++ scope lifetime</li>
</ul></li>
<li>function: <code>fn name(param)-&gt;return type</code>
<ul class="org-ul">
<li>not returning the correct type causes errors</li>
</ul></li>
<li>Macros: shorthand for function with variable number of arguments</li>
<li>Expressions end with semicolons</li>
<li>match statements: like case but goes line by line rather than nested case statements
<ul class="org-ul">
<li>can match range with <code>...</code> (ie. <code>18...20</code>)</li>
</ul></li>
<li>Types &amp; Traits: describe characteristics
<ul class="org-ul">
<li>custom types with struct &amp; enums</li>
<li>Trait: attributes that several types might have in common. Allow to generalize a functions input &amp; output</li>
</ul></li>
<li>Ownership: every value has 1 owner at any time. Can be given away
<ul class="org-ul">
<li>owner can only change variable when declared mutable</li>
</ul></li>
<li>Borrowing: grant temporary access to a value
<ul class="org-ul">
<li>1 mutable borrow or unlimited immutable borrows</li>
<li>a borrow won't outlive the owner's lifetime and is caught at compile time</li>
</ul></li>
<li>Compiler use different section of memory if a variable is immutable (stack/heap?)</li>
<li>Package Management:
<ul class="org-ul">
<li>crates are published and goes into S3
<ul class="org-ul">
<li>can't be taken down but can be marked as "don't use" (so can't break dependencies)</li>
</ul></li>
<li>use cargo to create project will put things in right placeand make it easy to publish</li>
<li>adding dependencies: search crates.io
<ul class="org-ul">
<li>add to dependency section of cargo.toml can also pin to version</li>
</ul></li>
<li>cargo can be given a script on how to build something so can be used to build other languages</li>
</ul></li>
<li>Improve Rust
<ul class="org-ul">
<li>double check date on any resources</li>
<li>Books: Rust book
<ul class="org-ul">
<li>Rustinomicon: right way to write unsafe</li>
<li>O'Reilly book: recommendation for systems programmers</li>
<li>Podcasts: newrustacean
<ul class="org-ul">
<li>rustyradio</li>
<li>this week in rust</li>
</ul></li>
<li>Practice: Rustlings, rust by example</li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-orgac6e344" class="outline-3">
<h3 id="orgac6e344">Rust: Hack Without Fear&#xa0;&#xa0;&#xa0;<span class="tag"><span class="rust">rust</span></span></h3>
<div class="outline-text-3" id="text-orgac6e344">
<p>:Author:   Niko Matsakis<br/>:Source:   <a href="https://www.youtube.com/watch?v=lO1z-7cuRYI">https://www.youtube.com/watch?v=lO1z-7cuRYI</a></p>
<ul class="org-ul">
<li>aims for safety: no seg-faults, data-races</li>
<li>Zero cost abstraction: high level code that compiles to quite efficient</li>
<li>Memory safety:
<ul class="org-ul">
<li>Ownership variable can't have an alias and is owned. Can be given on
<ul class="org-ul">
<li>calling function with variable passes ownership to the function. Compiler keeps track of change of ownership.</li>
</ul></li>
<li>Borrow: two types of borrowing
<ul class="org-ul">
<li>shared_reference (&amp;T): allows sharing, not mutation
<ul class="org-ul">
<li>Mutability isn't binary so things are immutable for periods of time</li>
</ul></li>
<li>mutable reference (&amp;mut T) allows mutation but not aliasing. When references created variable is in locked state so borrower can make changes but original variable can't be accessed.</li>
</ul></li>
</ul></li>
<li><code>this</code> keyword is explicit</li>
</ul>
</div>
</div>

<div id="outline-container-orgd8846b6" class="outline-3">
<h3 id="orgd8846b6">Carp - A Language for the 21st Century</h3>
<div class="outline-text-3" id="text-orgd8846b6">
<p>:Author:   Veit Heller<br/>:Source:   <a href="https://www.youtube.com/watch?v=BQeG6fXMk28">https://www.youtube.com/watch?v=BQeG6fXMk28</a></p>
<ul class="org-ul">
<li>Lisp-1, type inferred: means statically types without extra charge compiles to C</li>
<li>borrow-checked: no GC at no extra charge
<ul class="org-ul">
<li>don't have to manually manage memory</li>
<li>comes from Rust. figures out lifetimes of values</li>
</ul></li>
<li>has Lisp macros and a C FFI</li>
<li>designed for realtime, graphical and games sort of things</li>
<li>has modules rather than namespaces</li>
<li>has compile time metaprogramming which limits what can be done at runtime</li>
<li>early stage with few packages and lack of documentation</li>
<li>macro system is untyped so everything is still symbols &amp; lists at macro expansion time</li>
</ul>
</div>
</div>

<div id="outline-container-org65b6a14" class="outline-3">
<h3 id="org65b6a14">Julia: To Lisp or Not to Lisp&#xa0;&#xa0;&#xa0;<span class="tag"><span class="julia">julia</span></span></h3>
<div class="outline-text-3" id="text-org65b6a14">
<ul class="org-ul">
<li>Numerical languages
<ul class="org-ul">
<li>Matlab: everything is a complex matrix</li>
<li>R: allows NA values anywhere. Data frame as basic type</li>
<li>Lots of different ones with different specialisations</li>
<li>large part of Scheme and C specs are about numerics</li>
</ul></li>
<li>Julia designed to not make numbers special
<ul class="org-ul">
<li>numeric types are/can be user defined</li>
</ul></li>
<li>has macro: invoked with @</li>
<li>defined lambda <code>(x-&gt;2x^3)</code></li>
<li>has bit type that specify a size in bits and name of a new type</li>
<li>small amount of C/C++ code for the intrinsics</li>
<li><code>@edit</code>: opens the thing you're looking at in the editor</li>
<li><code>@code_llvm</code>: prints LLVM code of what you're looking at</li>
<li><code>@code_native</code>: look at assembly instructions</li>
<li>Julia has multiple dispatch
<ul class="org-ul">
<li>for function definitions can have different bodies for different argument types</li>
<li>an error is thrown when there is ambiguity</li>
<li>since packages can extend the same methods</li>
</ul></li>
<li>operations +, *, [, ], \ are usually polymorphic in most languages
<ul class="org-ul">
<li>can't be defined in the language normally</li>
</ul></li>
<li>promote, promote_rule: I think it allows choosing between different types if both are passed as arguments and promotes types up
<ul class="org-ul">
<li>this gets compiled away</li>
</ul></li>
<li>rationals: 1//2</li>
<li>Arrays: a = [1, 2, 3]
<ul class="org-ul">
<li>can check if all elements are of same type or can be promoted to same type and creates array of that type</li>
<li>if can't promote then creates Any array (references to boxed types)</li>
</ul></li>
<li>allows creating immutable types</li>
<li>has function esc for macros that sets the contents in the callers context rather than the macros
<ul class="org-ul">
<li>macros not allowed in local scopes</li>
</ul></li>
<li>Generated function:
<ul class="org-ul">
<li>functions that generates LLVM IR after all types have been determined</li>
</ul></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org5a424c8" class="outline-2">
<h2 id="org5a424c8">IT</h2>
<div class="outline-text-2" id="text-org5a424c8">
</div>
<div id="outline-container-orgecbb939" class="outline-3">
<h3 id="orgecbb939">Nix Pills</h3>
<div class="outline-text-3" id="text-orgecbb939">
</div>
<div id="outline-container-org92fb3ef" class="outline-4">
<h4 id="org92fb3ef">Pill 3</h4>
<div class="outline-text-4" id="text-org92fb3ef">
<ul class="org-ul">
<li>Runtime dependencies of <code>hello</code>: <code>nix-store -q --references `which hello`</code></li>
<li>List all dependencies: <code>nix-store -qR `which man`</code></li>
<li>'closures' of derivation is list of all its dependencies. Copying all of these to new computer would allow running of the derivation</li>
<li>expressions are only evaluated when needed</li>
<li>Functions can only take one argument but nests functions instead <code>a: b: a*b</code>
<ul class="org-ul">
<li>gets around it by being able to define sets as arguments <code>{a, b}: a*b</code> expects a set with the attributes a and b (can't accept a set with anything else)</li>
</ul></li>
<li>Supports variadic attributes <code>...</code> and default values <code>b ? 2</code></li>
<li><code>import</code> just imports and parses a .nix file but doesn't inherit scope of importer</li>
<li>can pass things to modules by having the module just be a function
<ul class="org-ul">
<li><p>
then importing module returns a function which can have arguments passed to it in the import expression
</p>
<div class="org-src-container">
<pre class="src src-nix"><span style="color: #b7c796;"># </span><span style="color: #b7c796;">test.nix</span>
<span style="color: #ffffff;">{</span> a, b ? 3, trueMsg ? <span style="color: #ee9a00;">"yes"</span>, falseMsg ? <span style="color: #ee9a00;">"no"</span> <span style="color: #ffffff;">}</span>:
<span style="color: #ff6347;">if</span> a &gt; b
  <span style="color: #ff6347;">then</span> builtins.trace trueMsg <span style="color: #b0c4de;">true</span>
  <span style="color: #ff6347;">else</span> builtins.trace falseMsg <span style="color: #b0c4de;">false</span>
</pre>
</div>
<div class="org-src-container">
<pre class="src src-nix"><span style="color: #b0c4de;">import</span> <span style="color: #7fffd4;">./test.nix</span> <span style="color: #ffffff;">{</span> <span style="color: #eedd82;">a</span> = 5; <span style="color: #eedd82;">trueMsg</span> = <span style="color: #ee9a00;">"ok"</span>; <span style="color: #ffffff;">}</span>
<span style="color: #b7c796;"># </span><span style="color: #b7c796;">passes a set to the module defined above</span>
</pre>
</div></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org0935d8a" class="outline-4">
<h4 id="org0935d8a">PIll 4</h4>
<div class="outline-text-4" id="text-org0935d8a">
<ul class="org-ul">
<li>derivations describe a package using the <code>derivation</code> command</li>
<li>Takes a set with the name, builder and system</li>
<li>All environment variables for a build are defined in the derivation</li>
<li>.nix file gets "compiled" into .drv file which is built (realised) in various ways:
<ul class="org-ul">
<li><code>nix-store -r /nix/store/z3hhlxbckx4g3n9sw91nnvlkjvyw754p-myname.drv</code></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org1e63762" class="outline-4">
<h4 id="org1e63762">Pill 8</h4>
<div class="outline-text-4" id="text-org1e63762">
<ul class="org-ul">
<li>args to <code>derivation</code> are added to the environment as environment variables</li>
<li>setting buildInputs to a list of packages will create a space separated list of their locations on disc</li>
<li><code>with</code> brings things into scope</li>
</ul>
<p>
To simplify creating common derivations can create a function that takes a attribute set like the what <code>derivation</code> takes.
It defines its own attribute set like the one <code>derivation</code> sets then merges it with the one passed in.
This merged attribute set is passed to <code>derivation</code>.
</p>
</div>
</div>
<div id="outline-container-org8dfc9e3" class="outline-4">
<h4 id="org8dfc9e3">Pill 9</h4>
<div class="outline-text-4" id="text-org8dfc9e3">
<p>
NAR is simple deterministic archive format.
NAR created with <code>nix-store --dump</code> &amp; <code>nix-store --restore</code>
patchelf is a command that can shrink the rpath to remove uneeded runtime dependencies (gcc in the example).
Check the dependencies of a derivation as there may be unnecessary packages.
</p>
</div>
</div>
<div id="outline-container-orgfb0513e" class="outline-4">
<h4 id="orgfb0513e">Pill 10</h4>
<div class="outline-text-4" id="text-orgfb0513e">
<p>
nix-shell takes the same nix file used to build a derivation.
It creates the same environment used to build it and opens a shell.
The actual builder isn't set so things like the path should be set.
</p>
</div>
</div>
<div id="outline-container-orgcbad01c" class="outline-4">
<h4 id="orgcbad01c">Pill 11</h4>
<div class="outline-text-4" id="text-orgcbad01c">
<p>
Garbage collector works by having a list of gcroots which are symlinks to live nix store paths.
Everything not included in gcroots is dead and can be deleted.
<code>nix-store -q --roots</code> queries which GC roots point to a given derivation.
Running <code>nix-build</code> creates a 'result' symlink in the source directory to the built derivation in the store.
This 'result' symlink is added as a GC root under /nix/var/nix/gcroots/auto (called <b>indirect GC root</b>) so derivation won't be garbage collected.
Can allow to be garbage collected by deleting the 'result' symlink.
Update with:
</p>
<div class="org-src-container">
<pre class="src src-nix">$ nix-channel --update
$ nix-env -u --always
$ rm <span style="color: #7fffd4;">/nix/var/nix/gcroots/auto</span><span style="color: #b7c796;">/*</span>
<span style="color: #b7c796;">$ nix-collect-garbage -d</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org6956967" class="outline-4">
<h4 id="org6956967">Pill 13</h4>
<div class="outline-text-4" id="text-org6956967">
<p>
In previous pill defined derivation with function that takes packages as parameters.
Ends up with repeating package names in derivation file and calling file.
The callpackage pattern allows use to pass packages with the same name as the param by default and only specify overrides.
<code>builtins.functionargs</code> creates an attribute set of arguments to given function.
=builtins.intersectAttrs: returns intersection of two sets using the values from the second set.
</p>
<div class="org-src-container">
<pre class="src src-nix"><span style="color: #eedd82;">callpackage</span> = set: f: overrides: f <span style="color: #ffffff;">(</span><span style="color: #00bfff;">(</span>builtins.intersectAttrs <span style="color: #00ff00;">(</span>builtins.functionargs f<span style="color: #00ff00;">)</span> set<span style="color: #00bfff;">)</span> // overrides<span style="color: #ffffff;">)</span>
</pre>
</div>
<p>
This also allows providing a set with overridden parameters.
</p>
</div>
</div>
</div>

<div id="outline-container-orga9b276d" class="outline-3">
<h3 id="orga9b276d">TCP/IP Network Administrator</h3>
<div class="outline-text-3" id="text-orga9b276d">
<p>:Author: Craig Hunt<br/>:ISBN: 9781449387143</p>
<p>
TCP/IP is a whole suite of protocols with TCP and IP being the most important.
Can be seen as 4 layers: Application, Transport, Internet &amp; Network Access.
Each has its own set of protocols.
Sent data goes down the layers and received data goes up.
Each layer passes data to the next layer without knowing how the other layers work.
As data gets passed down each layer it adds a header which includes delivery information (a process called encapsulation).
</p>
</div>

<div id="outline-container-orga2da3c4" class="outline-4">
<h4 id="orga2da3c4">Network Access Layer</h4>
<div class="outline-text-4" id="text-orga2da3c4">
<p>
Handles delivering data to actual devices.
It converts IP addresses to address apropriate for physical network.
</p>
</div>
</div>

<div id="outline-container-org3cf533f" class="outline-4">
<h4 id="org3cf533f">Internet Layer</h4>
<div class="outline-text-4" id="text-org3cf533f">
<p>
Internet Protocol (IP) is the main protocol of this layer.
</p>
<ul class="org-ul">
<li>Connectionless: meaning it has no handshake to start the connection.</li>
<li>Unreliable: includes no error detection or recovery code. It relies on other protocols to provide this.</li>
<li>Packet: block of data which carries the information needed to deliver it (like a letter)</li>
<li>IP's datagram is in packet format:
<ul class="org-ul">
<li>First 5-6 32-bit words are the header. The default is 5 but has a field that specifies the header length.</li>
</ul></li>
<li>Gateways: devices that switch packets between different physical networks
<ul class="org-ul">
<li>Packets are routed through gateways to get to different networks.</li>
</ul></li>
<li>Different physical networks have different sizes of packet (maximum transmission unit (MTU))
<ul class="org-ul">
<li>Packets get split up when entering a network with a smaller MTU</li>
<li>IP protocol manages the splitting &amp; reassembling of packets</li>
</ul></li>
<li>When a packet arrives at its destination it is passed to the transport layer protocol specified in the packet</li>
</ul>

<p>
Internet Control Message Protocol (ICMP): sends data messages for control, error reporting, and information
</p>
<ul class="org-ul">
<li>Flow control: can stop source sending too many packets</li>
<li>Detect unreachable host</li>
<li>Redirecting routes</li>
<li>Checking remote host: uses Echo Message (ping uses this)</li>
</ul>
</div>
</div>

<div id="outline-container-org24fa4d8" class="outline-4">
<h4 id="org24fa4d8">Transport Layer</h4>
<div class="outline-text-4" id="text-org24fa4d8">
<p>
UDP:
</p>
<ul class="org-ul">
<li>unreliable connectionless protocol</li>
<li>Good for when data is small so can just resend the entire data set (overhead of creating connection and reliable delivery too high)</li>
<li>Some applications do their own reliable data delivery techniques so don't need protocol to do it as well</li>
</ul>

<p>
TCP: reliable connection oriented byte stream protocol
</p>
<ul class="org-ul">
<li>Resends data unless it hears that the data was received OK (data sent with a checksum for verification by receiver)</li>
<li>Connection is setup before data is sent with a handshake</li>
<li>Connection ended with 3 way handshake containing "No more data from Sender bit"</li>
<li>Receiver responds with ACK which says how much data was received and how much more it can receive
<ul class="org-ul">
<li>Doesn't respond to every single data packet</li>
</ul></li>
<li>Responsible for passing data onto correct application designated by a 16 bit port number</li>
</ul>
</div>
</div>

<div id="outline-container-org2f5a414" class="outline-4">
<h4 id="org2f5a414">Application Layer</h4>
<div class="outline-text-4" id="text-org2f5a414">
<ul class="org-ul">
<li>Processes that use Transport Layer protocols to deliver data</li>
</ul>
</div>
</div>
<div id="outline-container-org27fe5c5" class="outline-4">
<h4 id="org27fe5c5">&#x2026;</h4>
<div class="outline-text-4" id="text-org27fe5c5">
<ul class="org-ul">
<li>IP address are assigned to network interfaces not hosts
<ul class="org-ul">
<li>a host can have multiple IP addresses</li>
</ul></li>
<li>unicast address - is an address of single host</li>
<li>multicast address - addresses groups of systems</li>
<li>broadcast address - addresses all the systems on a network
<ul class="org-ul">
<li>a address with all host bits set to 1 is a broadcast address</li>
</ul></li>
<li>IP address with all host bits 0 signify network itself</li>
<li>address/prefix length is shorthand for writing an IP address and its address mask (eg. 172.31.26.32/27 instead of 172.31.26.32 and the mask 255.255.255.224)</li>
<li><code>route -n</code> shows the routing table on Linux</li>
<li><code>route -C</code> shows the routing cache which is the routes associated with active connections</li>
<li>Applications are identified by port numbers (used by transport protocol to pass data)
<ul class="org-ul">
<li>numbers below 1024 are reserved for well-known services</li>
<li>from 1024-49151 are registered ports. A registry is maintained but ports are not assigned.</li>
<li>49152-65535 are available for any use</li>
</ul></li>
<li>Combination of IP address and port number is called a socket.
<ul class="org-ul">
<li>A socket uniquely identifies a network process across the entire Internet.</li>
</ul></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org275ad9d" class="outline-3">
<h3 id="org275ad9d">40 Jenkins Features &amp; Plugins You Wish You Knew Before</h3>
<div class="outline-text-3" id="text-org275ad9d">
<p>:Source:   <a href="https://www.youtube.com/watch?v=3dYM0XUrXHc">https://www.youtube.com/watch?v=3dYM0XUrXHc</a><br/>:Author:   Joep Weijers</p>
<ul class="org-ul">
<li>Swarm Plugin: plugin on nodes to automatically connect to master</li>
<li>agent none runs on master in hidden task
<ul class="org-ul">
<li>use agent none for any steps with user input so don't block executors</li>
</ul></li>
<li>Pipelines stash files:
<ul class="org-ul">
<li><code>stash includes: 'file', name:'name'</code></li>
<li><code>unstash 'name'</code></li>
<li>sends files to master and can retrieve them from different node</li>
</ul></li>
<li>can create parameters with <code>parameters</code> block
<ul class="org-ul">
<li>Are only checked after first run</li>
</ul></li>
<li>keep pipelines small</li>
<li>If can't terminate build - check log as may be a link there (class UI)</li>
<li>Can put common code in shared libraries</li>
<li>Create View: can create own views in Jenkins</li>
<li>Monitor View: Can select jobs to create nice looking board of jobs (Build Monitor?)</li>
<li>API: XML/JSON
<ul class="org-ul">
<li>e.g. use API to check colour of jobs in monitor view to set off light if anything is not green</li>
</ul></li>
<li>stay up to date</li>
<li>JNLP use last version of protocol: previous is unsafe</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgcb9c087" class="outline-2">
<h2 id="orgcb9c087">Additional</h2>
<div class="outline-text-2" id="text-orgcb9c087">
<p>
Didn't have any notes but are listed here to make it easier to find later
</p>
</div>
<div id="outline-container-org902719b" class="outline-3">
<h3 id="org902719b"><a href="https://alhassy.github.io/TypedLisp.html">Typed Lisp, A Primer</a>&#xa0;&#xa0;&#xa0;<span class="tag"><span class="lisp">lisp</span></span></h3>
</div>
<div id="outline-container-org55a1068" class="outline-3">
<h3 id="org55a1068"><a href="https://medium.com/@MartinCracauer/static-type-checking-in-the-programmable-programming-language-lisp-79bb79eb068a">Static type checking in the programmable programming language (Lisp)</a>&#xa0;&#xa0;&#xa0;<span class="tag"><span class="lisp">lisp</span></span></h3>
</div>
<div id="outline-container-orgb1f4a94" class="outline-3">
<h3 id="orgb1f4a94"><a href="https://www.youtube.com/watch?v=DHx9kv74Mlc&amp;list=WL&amp;index=6&amp;t=0s">Using Locks in Real Time Audio Processing, Safely</a></h3>
</div>
<div id="outline-container-org5399723" class="outline-3">
<h3 id="org5399723"><a href="https://www.youtube.com/watch?v=rHIkrotSwcc">CppCon 2019: Chandler Carruth “There Are No Zero-cost Abstractions”</a></h3>
<div class="outline-text-3" id="text-org5399723">
<p>
Interesting look into the build costs of code generation and runtime costs of unique_ptr.
</p>
</div>
</div>
<div id="outline-container-org813ffe7" class="outline-3">
<h3 id="org813ffe7"><a href="https://gdcvault.com/play/1026726/The-Audio-Technology-of-Torchlight">The Audio Technology of 'Torchlight 3'</a></h3>
<div class="outline-text-3" id="text-org813ffe7">
<p>
Fairly interesting. Talks about a couple of problems he experienced while working on a game and the solutions (which just so happen to be in his book).
One of these was setting up a mix using importance: different sound sources have different levels in the mix depending on how important they are.
Importance is done based on weighted summing on things like distance, "drama" (size and power of the enemy, whether they are targetting you).
Also interesting solution to volumetric sounds (example was how to position the sound source for something like a river where there is an area that is supposed to be producing the sound).
Goes through some failed methods (such as placing the sound source on the nearest point on the area (doesn't work because the sound source can suddenly jump around)).
Solution boils down to working out a direction and spread.
</p>
</div>
</div>
<div id="outline-container-org2ee587a" class="outline-3">
<h3 id="org2ee587a"><a href="https://www.youtube.com/watch?v=v3dz-AKOVL8&amp;list=WL&amp;index=3&amp;t=6s">Allocators: The Good Parts</a></h3>
<div class="outline-text-3" id="text-org2ee587a">
<p>
Seemed quite a good overview of allocators as they stand in c++17. 
Though not a great introduction. 
Would probably be good if I had looked into allocators ahead of time but needed more information on how to use them properly. 
</p>
</div>
</div>
<div id="outline-container-orgc61a064" class="outline-3">
<h3 id="orgc61a064"><a href="https://www.youtube.com/watch?v=tbUCHifyT24">CppCon 2019: Arthur O'Dwyer “Back to Basics: Type Erasure”</a></h3>
<div class="outline-text-3" id="text-orgc61a064">
<ul class="org-ul">
<li>Type erasure is erasing information about an object's type and only preserving behaviours (negatable, copyable, deletable, etc.).</li>
<li>Used by std::function and std::any</li>
<li>Allows for making general objects that can be passed around without having to make an instance of a template for each contained object type.</li>
<li>Important to remember, type erased types are normally implemented with heap allocation (to store the contained object) and indirection (since actions on the type erased type have to be translated to the contained type)
<ul class="org-ul">
<li>Example translations included a single function and switch statement or a vtable stored with the contained object on the heap</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org90d2a23" class="outline-3">
<h3 id="org90d2a23"><a href="https://media.handmade-seattle.com/tom-forsyth/">The Lifecycle of an Instruction Set</a></h3>
</div>
<div id="outline-container-orgdfa9328" class="outline-3">
<h3 id="orgdfa9328">Debug C++ Without Running - Anastasia Kozakova</h3>
<div class="outline-text-3" id="text-orgdfa9328">
<p>
[talks about features of IDEs that support showing information]
</p>
</div>
</div>
<div id="outline-container-orgb0f10c9" class="outline-3">
<h3 id="orgb0f10c9"><a href="https://www.youtube.com/watch?v=COEv2kq_Ht8">Unwinding the Stack: C++ Exceptions on Windows</a></h3>
</div>
</div>
</div>
</body>
</html>
